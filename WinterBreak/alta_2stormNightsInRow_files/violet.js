if(typeof Iris==="undefined")var Iris=Iris||{};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function h(){return"undefined"!=typeof window}function i(){return t||h()&&(t=window.gsap)&&t.registerPlugin&&t}function j(){return n||(s(),o||console.warn("Please gsap.registerPlugin(CSSPlugin, CSSRulePlugin)")),n}var t,n,c,o,s=function _initCore(e){t=e||i(),h()&&(c=document),t&&(o=t.plugins.css)&&(n=1)},r={version:"3.6.1",name:"cssRule",init:function init(e,t,n,i,s){if(!j()||void 0===e.cssText)return!1;var r=e._gsProxy=e._gsProxy||c.createElement("div");this.ss=e,this.style=r.style,r.style.cssText=e.cssText,o.prototype.init.call(this,r,t,n,i,s)},render:function render(e,t){for(var n,i=t._pt,s=t.style,r=t.ss;i;)i.r(e,i.d),i=i._next;for(n=s.length;-1<--n;)r[s[n]]=s[s[n]]},getRule:function getRule(e){j();var t,n,i,s,r=c.all?"rules":"cssRules",o=c.styleSheets,l=o.length,u=":"===e.charAt(0);for(e=(u?"":",")+e.split("::").join(":").toLowerCase()+",",u&&(s=[]);l--;){try{if(!(n=o[l][r]))continue;t=n.length}catch(e){console.warn(e);continue}for(;-1<--t;)if((i=n[t]).selectorText&&-1!==(","+i.selectorText.split("::").join(":").toLowerCase()+",").indexOf(e)){if(!u)return i.style;s.push(i.style)}}return s},register:s};i()&&t.registerPlugin(r),e.CSSRulePlugin=r,e.default=r;if(typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})}else{delete e.default}});!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(e){"use strict";function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t){return"string"==typeof t}function p(t){return"function"==typeof t}function q(t){return"number"==typeof t}function r(t){return void 0===t}function s(t){return"object"==typeof t}function t(t){return!1!==t}function u(){return"undefined"!=typeof window}function v(t){return p(t)||o(t)}function M(t){return(h=mt(t,ot))&&ae}function N(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function O(t,e){return!e&&console.warn(t)}function P(t,e){return t&&(ot[t]=e)&&h&&(h[t]=e)||ot}function Q(){return 0}function $(t){var e,r,i=t[0];if(s(i)||p(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(r=pt.length;r--&&!pt[r].targetTest(i););e=pt[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Rt(t[r],e)))||t.splice(r,1);return t}function _(t){return t._gsap||$(Tt(t))[0]._gsap}function aa(t,e,i){return(i=t[e])&&p(i)?t[e]():r(i)&&t.getAttribute&&t.getAttribute(e)||i}function ba(t,e){return(t=t.split(",")).forEach(e)||t}function ca(t){return Math.round(1e5*t)/1e5||0}function da(t,e){for(var r=e.length,i=0;t.indexOf(e[i])<0&&++i<r;);return i<r}function ea(e,r,i){var n,a=q(e[1]),s=(a?2:1)+(r<2?0:1),o=e[s];if(a&&(o.duration=e[1]),o.parent=i,r){for(n=o;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=t(i.vars.inherit)&&i.parent;o.immediateRender=t(n.immediateRender),r<2?o.runBackwards=1:o.startAt=e[s-1]}return o}function fa(){var t,e,r=ht.length,i=ht.slice(0);for(lt={},t=ht.length=0;t<r;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function ga(t,e,r,i){ht.length&&fa(),t.render(e,r,i),ht.length&&fa()}function ha(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(at).length<2?e:o(t)?t.trim():t}function ia(t){return t}function ja(t,e){for(var r in e)r in t||(t[r]=e[r]);return t}function ka(t,e){for(var r in e)r in t||"duration"===r||"ease"===r||(t[r]=e[r])}function ma(t,e){for(var r in e)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=s(e[r])?ma(t[r]||(t[r]={}),e[r]):e[r]);return t}function na(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i}function oa(e){var r=e.parent||F,i=e.keyframes?ka:ja;if(t(e.inherit))for(;r;)i(e,r.vars.defaults),r=r.parent||r._dp;return e}function ra(t,e,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var n=e._prev,a=e._next;n?n._next=a:t[r]===e&&(t[r]=a),a?a._prev=n:t[i]===e&&(t[i]=n),e._next=e._prev=e.parent=null}function sa(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function ta(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t}function wa(t){return t._repeat?gt(t._tTime,t=t.duration()+t._rDelay)*t:0}function ya(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function za(t){return t._end=ca(t._start+(t._tDur/Math.abs(t._ts||t._rts||j)||0))}function Aa(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=ca(r._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),za(t),r._dirty||ta(r,t)),t}function Ba(t,e){var r;if((e._time||e._initted&&!e._dur)&&(r=ya(t.rawTime(),e),(!e._dur||yt(0,e.totalDuration(),r)-e._tTime>j)&&e.render(r,!0)),ta(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)0<=r.rawTime()&&r.totalTime(r._tTime),r=r._dp;t._zTime=-j}}function Ca(t,e,r,i){return e.parent&&sa(e),e._start=ca(r+e._delay),e._end=ca(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function _addLinkedListItem(t,e,r,i,n){void 0===r&&(r="_first"),void 0===i&&(i="_last");var a,s=t[i];if(n)for(a=e[n];s&&s[n]>a;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[i]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,i||Ba(t,e),t}function Da(t,e){return(ot.ScrollTrigger||N("scrollTrigger",e))&&ot.ScrollTrigger.create(e,t)}function Ea(t,e,r,i){return Nt(t,e),t._initted?!r&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&f!==Pt.frame?(ht.push(t),t._lazy=[e,i],1):void 0:1}function Ia(t,e,r,i){var n=t._repeat,a=ca(e)||0,s=t._tTime/t._tDur;return s&&!i&&(t._time*=a/t._dur),t._dur=a,t._tDur=n?n<0?1e10:ca(a*(n+1)+t._rDelay*n):a,s&&!i?Aa(t,t._tTime=t._tDur*s):t.parent&&za(t),r||ta(t.parent,t),t}function Ja(t){return t instanceof Bt?ta(t):Ia(t,t._dur)}function La(t,e){var r,i,n=t.labels,a=t._recent||vt,s=t.duration()>=U?a.endTime(!1):t._dur;return o(e)&&(isNaN(e)||e in n)?"<"===(r=e.charAt(0))||">"===r?("<"===r?a._start:a.endTime(0<=a._repeat))+(parseFloat(e.substr(1))||0):(r=e.indexOf("="))<0?(e in n||(n[e]=s),n[e]):(i=+(e.charAt(r-1)+e.substr(r+1)),1<r?La(t,e.substr(0,r-1))+i:s+i):null==e?s:+e}function Ma(t,e){return t||0===t?e(t):e}function Oa(t){if("string"!=typeof t)return"";var e=st.exec(t);return e?t.substr(e.index+e[0].length):""}function Ra(t,e){return t&&s(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&s(t[0]))&&!t.nodeType&&t!==i}function Ua(t){return t.sort(function(){return.5-Math.random()})}function Va(t){if(p(t))return t;var _=s(t)?t:{each:t},m=Et(_.ease),g=_.from||0,v=parseFloat(_.base)||0,y={},e=0<g&&g<1,b=isNaN(g)||e,T=_.axis,w=g,x=g;return o(g)?w=x={center:.5,edges:.5,end:1}[g]||0:!e&&b&&(w=g[0],x=g[1]),function(t,e,r){var i,n,a,s,o,u,h,l,f,d=(r||_).length,c=y[d];if(!c){if(!(f="auto"===_.grid?0:(_.grid||[1,U])[1])){for(h=-U;h<(h=r[f++].getBoundingClientRect().left)&&f<d;);f--}for(c=y[d]=[],i=b?Math.min(f,d)*w-.5:g%f,n=b?d*x/f-.5:g/f|0,l=U,u=h=0;u<d;u++)a=u%f-i,s=n-(u/f|0),c[u]=o=T?Math.abs("y"===T?s:a):J(a*a+s*s),h<o&&(h=o),o<l&&(l=o);"random"===g&&Ua(c),c.max=h-l,c.min=l,c.v=d=(parseFloat(_.amount)||parseFloat(_.each)*(d<f?d-1:T?"y"===T?d/f:f:Math.max(f,d/f))||0)*("edges"===g?-1:1),c.b=d<0?v-d:v,c.u=Oa(_.amount||_.each)||0,m=m&&d<0?It(m):m}return d=(c[t]-c.min)/c.max||0,ca(c.b+(m?m(d):d)*c.v)+c.u}}function Wa(r){var i=r<1?Math.pow(10,(r+"").length-2):1;return function(t){var e=Math.round(parseFloat(t)/r)*r*i;return(e-e%1)/i+(q(t)?0:Oa(t))}}function Xa(u,t){var h,l,e=K(u);return!e&&s(u)&&(h=e=u.radius||U,u.values?(u=Tt(u.values),(l=!q(u[0]))&&(h*=h)):u=Wa(u.increment)),Ma(t,e?p(u)?function(t){return l=u(t),Math.abs(l-t)<=h?l:t}:function(t){for(var e,r,i=parseFloat(l?t.x:t),n=parseFloat(l?t.y:0),a=U,s=0,o=u.length;o--;)(e=l?(e=u[o].x-i)*e+(r=u[o].y-n)*r:Math.abs(u[o]-i))<a&&(a=e,s=o);return s=!h||a<=h?u[s]:t,l||s===t||q(t)?s:s+Oa(t)}:Wa(u))}function Ya(t,e,r,i){return Ma(K(t)?!e:!0===r?!!(r=0):!i,function(){return K(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*i)/i})}function ab(e,r,t){return Ma(t,function(t){return e[~~r(t)]})}function db(t){for(var e,r,i,n,a=0,s="";~(e=t.indexOf("random(",a));)i=t.indexOf(")",e),n="["===t.charAt(e+7),r=t.substr(e+7,i-e-7).match(n?at:tt),s+=t.substr(a,e-a)+Ya(n?r:+r[0],n?0:+r[1],+r[2]||1e-5),a=i+1;return s+t.substr(a,t.length-a)}function gb(t,e,r){var i,n,a,s=t.labels,o=U;for(i in s)(n=s[i]-e)<0==!!r&&n&&o>(n=Math.abs(n))&&(a=i,o=n);return a}function ib(t){return sa(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&xt(t,"onInterrupt"),t}function nb(t,e,r){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*Ot+.5|0}function ob(t,e,r){var i,n,a,s,o,u,h,l,f,d,c=t?q(t)?[t>>16,t>>8&Ot,t&Ot]:0:Mt.black;if(!c){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Mt[t])c=Mt[t];else if("#"===t.charAt(0)){if(t.length<6&&(t="#"+(i=t.charAt(1))+i+(n=t.charAt(2))+n+(a=t.charAt(3))+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(c=parseInt(t.substr(1,6),16))>>16,c>>8&Ot,c&Ot,parseInt(t.substr(7),16)/255];c=[(t=parseInt(t.substr(1),16))>>16,t>>8&Ot,t&Ot]}else if("hsl"===t.substr(0,3))if(c=d=t.match(tt),e){if(~t.indexOf("="))return c=t.match(et),r&&c.length<4&&(c[3]=1),c}else s=+c[0]%360/360,o=c[1]/100,i=2*(u=c[2]/100)-(n=u<=.5?u*(o+1):u+o-u*o),3<c.length&&(c[3]*=1),c[0]=nb(s+1/3,i,n),c[1]=nb(s,i,n),c[2]=nb(s-1/3,i,n);else c=t.match(tt)||Mt.transparent;c=c.map(Number)}return e&&!d&&(i=c[0]/Ot,n=c[1]/Ot,a=c[2]/Ot,u=((h=Math.max(i,n,a))+(l=Math.min(i,n,a)))/2,h===l?s=o=0:(f=h-l,o=.5<u?f/(2-h-l):f/(h+l),s=h===i?(n-a)/f+(n<a?6:0):h===n?(a-i)/f+2:(i-n)/f+4,s*=60),c[0]=~~(s+.5),c[1]=~~(100*o+.5),c[2]=~~(100*u+.5)),r&&c.length<4&&(c[3]=1),c}function pb(t){var r=[],i=[],n=-1;return t.split(kt).forEach(function(t){var e=t.match(rt)||[];r.push.apply(r,e),i.push(n+=e.length+1)}),r.c=i,r}function qb(t,e,r){var i,n,a,s,o="",u=(t+o).match(kt),h=e?"hsla(":"rgba(",l=0;if(!u)return t;if(u=u.map(function(t){return(t=ob(t,e,1))&&h+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),r&&(a=pb(t),(i=r.c).join(o)!==a.c.join(o)))for(s=(n=t.replace(kt,"1").split(rt)).length-1;l<s;l++)o+=n[l]+(~i.indexOf(l)?u.shift()||h+"0,0,0,0)":(a.length?a:u.length?u:r).shift());if(!n)for(s=(n=t.split(kt)).length-1;l<s;l++)o+=n[l]+u[l];return o+n[s]}function tb(t){var e,r=t.join(" ");if(kt.lastIndex=0,kt.test(r))return e=Ct.test(r),t[1]=qb(t[1],e),t[0]=qb(t[0],e,pb(t[1])),!0}function Cb(t){var e=(t+"").split("("),r=Dt[e[0]];return r&&1<e.length&&r.config?r.config.apply(null,~t.indexOf("{")?[function _parseObjectInString(t){for(var e,r,i,n={},a=t.substr(1,t.length-3).split(":"),s=a[0],o=1,u=a.length;o<u;o++)r=a[o],e=o!==u-1?r.lastIndexOf(","):r.length,i=r.substr(0,e),n[s]=isNaN(i)?i.replace(zt,"").trim():+i,s=r.substr(e+1).trim();return n}(e[1])]:function _valueInParentheses(t){var e=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<r?t.indexOf(")",r+1):r)}(t).split(",").map(ha)):Dt._CE&&St.test(t)?Dt._CE("",t):r}function Eb(t,e){for(var r,i=t._first;i;)i instanceof Bt?Eb(i,e):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===e||(i.timeline?Eb(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next}function Gb(t,e,r,i){void 0===r&&(r=function easeOut(t){return 1-e(1-t)}),void 0===i&&(i=function easeInOut(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var n,a={easeIn:e,easeOut:r,easeInOut:i};return ba(t,function(t){for(var e in Dt[t]=ot[t]=a,Dt[n=t.toLowerCase()]=r,a)Dt[n+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Dt[t+"."+e]=a[e]}),a}function Hb(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function Ib(r,t,e){function Dl(t){return 1===t?1:i*Math.pow(2,-10*t)*H((t-a)*n)+1}var i=1<=t?t:1,n=(e||(r?.3:.45))/(t<1?t:1),a=n/X*(Math.asin(1/i)||0),s="out"===r?Dl:"in"===r?function(t){return 1-Dl(1-t)}:Hb(Dl);return n=X/n,s.config=function(t,e){return Ib(r,t,e)},s}function Jb(e,r){function Ll(t){return t?--t*t*((r+1)*t+r)+1:0}void 0===r&&(r=1.70158);var t="out"===e?Ll:"in"===e?function(t){return 1-Ll(1-t)}:Hb(Ll);return t.config=function(t){return Jb(e,t)},t}var R,F,i,n,a,h,l,f,d,c,m,g,y,b,T,w,x,k,C,A,D,S,z,I,E,L,Y={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},B={duration:.5,overwrite:!1,delay:0},U=1e8,j=1/U,X=2*Math.PI,V=X/4,G=0,J=Math.sqrt,W=Math.cos,H=Math.sin,Z="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},K=Array.isArray,tt=/(?:-?\.?\d|\.)+/gi,et=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,rt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,it=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,nt=/[+-]=-?[.\d]+/,at=/[#\-+.]*\b[a-z\d-=+%.]+/gi,st=/[\d.+\-=]+(?:e[-+]\d*)*/i,ot={},ut={},ht=[],lt={},ft={},dt={},ct=30,pt=[],_t="",mt=function _merge(t,e){for(var r in e)t[r]=e[r];return t},gt=function _animationCycle(t,e){var r=Math.floor(t/=e);return t&&r===t?r-1:r},vt={_start:0,endTime:Q},yt=function _clamp(t,e,r){return r<t?t:e<r?e:r},bt=[].slice,Tt=function toArray(t,e){return!o(t)||e||!n&&At()?K(t)?function _flatten(t,e,r){return void 0===r&&(r=[]),t.forEach(function(t){return o(t)&&!e||Ra(t,1)?r.push.apply(r,Tt(t)):r.push(t)})||r}(t,e):Ra(t)?bt.call(t,0):t?[t]:[]:bt.call(a.querySelectorAll(t),0)},wt=function mapRange(e,t,r,i,n){var a=t-e,s=i-r;return Ma(n,function(t){return r+((t-e)/a*s||0)})},xt=function _callback(t,e,r){var i,n,a=t.vars,s=a[e];if(s)return i=a[e+"Params"],n=a.callbackScope||t,r&&ht.length&&fa(),i?s.apply(n,i):s.call(n)},Ot=255,Mt={aqua:[0,Ot,Ot],lime:[0,Ot,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ot],navy:[0,0,128],white:[Ot,Ot,Ot],olive:[128,128,0],yellow:[Ot,Ot,0],orange:[Ot,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ot,0,0],pink:[Ot,192,203],cyan:[0,Ot,Ot],transparent:[Ot,Ot,Ot,0]},kt=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Mt)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ct=/hsl[a]?\(/,Pt=(x=Date.now,k=500,C=33,A=x(),D=A,z=S=1e3/240,b={time:0,frame:0,tick:function tick(){zk(!0)},deltaRatio:function deltaRatio(t){return T/(1e3/(t||60))},wake:function wake(){l&&(!n&&u()&&(i=n=window,a=i.document||{},ot.gsap=ae,(i.gsapVersions||(i.gsapVersions=[])).push(ae.version),M(h||i.GreenSockGlobals||!i.gsap&&i||{}),y=i.requestAnimationFrame),m&&b.sleep(),g=y||function(t){return setTimeout(t,z-1e3*b.time+1|0)},c=1,zk(2))},sleep:function sleep(){(y?i.cancelAnimationFrame:clearTimeout)(m),c=0,g=Q},lagSmoothing:function lagSmoothing(t,e){k=t||1e8,C=Math.min(e,k,0)},fps:function fps(t){S=1e3/(t||240),z=1e3*b.time+S},add:function add(t){I.indexOf(t)<0&&I.push(t),At()},remove:function remove(t){var e;~(e=I.indexOf(t))&&I.splice(e,1)&&e<=w&&w--},_listeners:I=[]}),At=function _wake(){return!c&&Pt.wake()},Dt={},St=/^[\d.\-M][\d.\-,\s]/,zt=/["']/g,It=function _invertEase(e){return function(t){return 1-e(1-t)}},Et=function _parseEase(t,e){return t&&(p(t)?t:Dt[t]||Cb(t))||e};function zk(t){var e,r,i,n,a=x()-D,s=!0===t;if(k<a&&(A+=a-C),(0<(e=(i=(D+=a)-A)-z)||s)&&(n=++b.frame,T=i-1e3*b.time,b.time=i/=1e3,z+=e+(S<=e?4:S-e),r=1),s||(m=g(zk)),r)for(w=0;w<I.length;w++)I[w](i,T,n,t)}function am(t){return t<L?E*t*t:t<.7272727272727273?E*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?E*(t-=2.25/2.75)*t+.9375:E*Math.pow(t-2.625/2.75,2)+.984375}ba("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Gb(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},function(t){return 1-Math.pow(1-t,r)},function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2})}),Dt.Linear.easeNone=Dt.none=Dt.Linear.easeIn,Gb("Elastic",Ib("in"),Ib("out"),Ib()),E=7.5625,L=1/2.75,Gb("Bounce",function(t){return 1-am(1-t)},am),Gb("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),Gb("Circ",function(t){return-(J(1-t*t)-1)}),Gb("Sine",function(t){return 1===t?1:1-W(t*V)}),Gb("Back",Jb("in"),Jb("out"),Jb()),Dt.SteppedEase=Dt.steps=ot.SteppedEase={config:function config(t,e){void 0===t&&(t=1);var r=1/t,i=t+(e?0:1),n=e?1:0;return function(t){return((i*yt(0,.99999999,t)|0)+n)*r}}},B.ease=Dt["quad.out"],ba("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return _t+=t+","+t+"Params,"});var Lt,Rt=function GSCache(t,e){this.id=G++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:aa,this.set=e?e.getSetter:Wt},Ft=((Lt=Animation.prototype).delay=function delay(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},Lt.duration=function duration(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},Lt.totalDuration=function totalDuration(t){return arguments.length?(this._dirty=0,Ia(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Lt.totalTime=function totalTime(t,e){if(At(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Aa(this,t),!r._dp||r.parent||Ba(r,this);r.parent;)r.parent._time!==r._start+(0<=r._ts?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&Ca(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===j||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),ga(this,t,e)),this},Lt.time=function time(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+wa(this))%this._dur||(t?this._dur:0),e):this._time},Lt.totalProgress=function totalProgress(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Lt.progress=function progress(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+wa(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Lt.iteration=function iteration(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?gt(this._tTime,r)+1:1},Lt.timeScale=function timeScale(t){if(!arguments.length)return this._rts===-j?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?ya(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-j?0:this._rts,function _recacheAncestors(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this.totalTime(yt(-this._delay,this._tDur,e),!0))},Lt.paused=function paused(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(At(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=j)&&Math.abs(this._zTime)!==j))),this):this._ps},Lt.startTime=function startTime(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||Ca(e,this,t-this._delay),this}return this._start},Lt.endTime=function endTime(e){return this._start+(t(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},Lt.rawTime=function rawTime(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ya(e.rawTime(t),this):this._tTime:this._tTime},Lt.globalTime=function globalTime(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(e._ts||1),e=e._dp;return r},Lt.repeat=function repeat(t){return arguments.length?(this._repeat=t===1/0?-2:t,Ja(this)):-2===this._repeat?1/0:this._repeat},Lt.repeatDelay=function repeatDelay(t){return arguments.length?(this._rDelay=t,Ja(this)):this._rDelay},Lt.yoyo=function yoyo(t){return arguments.length?(this._yoyo=t,this):this._yoyo},Lt.seek=function seek(e,r){return this.totalTime(La(this,e),t(r))},Lt.restart=function restart(e,r){return this.play().totalTime(e?-this._delay:0,t(r))},Lt.play=function play(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},Lt.reverse=function reverse(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},Lt.pause=function pause(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},Lt.resume=function resume(){return this.paused(!1)},Lt.reversed=function reversed(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-j:0)),this):this._rts<0},Lt.invalidate=function invalidate(){return this._initted=this._act=0,this._zTime=-j,this},Lt.isActive=function isActive(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-j))},Lt.eventCallback=function eventCallback(t,e,r){var i=this.vars;return 1<arguments.length?(e?(i[t]=e,r&&(i[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},Lt.then=function then(t){var i=this;return new Promise(function(e){function sn(){var t=i.then;i.then=null,p(r)&&(r=r(i))&&(r.then||r===i)&&(i.then=t),e(r),i.then=t}var r=p(t)?t:ia;i._initted&&1===i.totalProgress()&&0<=i._ts||!i._tTime&&i._ts<0?sn():i._prom=sn})},Lt.kill=function kill(){ib(this)},Animation);function Animation(t,e){var r=t.parent||F;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ia(this,+t.duration,1,1),this.data=t.data,c||Pt.wake(),r&&Ca(r,this,e||0===e?e:r._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}ja(Ft.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-j,_prom:0,_ps:!1,_rts:1});var Bt=function(n){function Timeline(e,r){var i;return void 0===e&&(e={}),(i=n.call(this,e,r)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=t(e.sortChildren),i.parent&&Ba(i.parent,_assertThisInitialized(i)),e.scrollTrigger&&Da(_assertThisInitialized(i),e.scrollTrigger),i}_inheritsLoose(Timeline,n);var e=Timeline.prototype;return e.to=function to(t,e,r,i){return new Vt(t,ea(arguments,0,this),La(this,q(e)?i:r)),this},e.from=function from(t,e,r,i){return new Vt(t,ea(arguments,1,this),La(this,q(e)?i:r)),this},e.fromTo=function fromTo(t,e,r,i,n){return new Vt(t,ea(arguments,2,this),La(this,q(e)?n:i)),this},e.set=function set(t,e,r){return e.duration=0,e.parent=this,oa(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Vt(t,e,La(this,r),1),this},e.call=function call(t,e,r){return Ca(this,Vt.delayedCall(0,t,e),La(this,r))},e.staggerTo=function staggerTo(t,e,r,i,n,a,s){return r.duration=e,r.stagger=r.stagger||i,r.onComplete=a,r.onCompleteParams=s,r.parent=this,new Vt(t,r,La(this,n)),this},e.staggerFrom=function staggerFrom(e,r,i,n,a,s,o){return i.runBackwards=1,oa(i).immediateRender=t(i.immediateRender),this.staggerTo(e,r,i,n,a,s,o)},e.staggerFromTo=function staggerFromTo(e,r,i,n,a,s,o,u){return n.startAt=i,oa(n).immediateRender=t(n.immediateRender),this.staggerTo(e,r,n,a,s,o,u)},e.render=function render(t,e,r){var i,n,a,s,o,u,h,l,f,d,c,p,_=this._time,m=this._dirty?this.totalDuration():this._tDur,g=this._dur,v=this!==F&&m-j<t&&0<=t?m:t<j?0:t,y=this._zTime<0!=t<0&&(this._initted||!g);if(v!==this._tTime||r||y){if(_!==this._time&&g&&(v+=this._time-_,t+=this._time-_),i=v,f=this._start,u=!(l=this._ts),y&&(g||(_=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(c=this._yoyo,o=g+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,r);if(i=ca(v%o),v===m?(s=this._repeat,i=g):((s=~~(v/o))&&s===v/o&&(i=g,s--),g<i&&(i=g)),d=gt(this._tTime,o),!_&&this._tTime&&d!==s&&(d=s),c&&1&s&&(i=g-i,p=1),s!==d&&!this._lock){var b=c&&1&d,T=b===(c&&1&s);if(s<d&&(b=!b),_=b?0:g,this._lock=1,this.render(_||(p?0:ca(s*o)),e,!g)._lock=0,!e&&this.parent&&xt(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),_&&_!==this._time||u!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(g=this._dur,m=this._tDur,T&&(this._lock=2,_=b?g:-1e-4,this.render(_,!0)),this._lock=0,!this._ts&&!u)return this;Eb(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function _findNextPauseTween(t,e,r){var i;if(e<r)for(i=t._first;i&&i._start<=r;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,ca(_),ca(i)))&&(v-=i-(i=h._start)),this._tTime=v,this._time=i,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,_=0),_||!i||e||xt(this,"onStart"),_<=i&&0<=t)for(n=this._first;n;){if(a=n._next,(n._act||i>=n._start)&&n._ts&&h!==n){if(n.parent!==this)return this.render(t,e,r);if(n.render(0<n._ts?(i-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(i-n._start)*n._ts,e,r),i!==this._time||!this._ts&&!u){h=0,a&&(v+=this._zTime=-j);break}}n=a}else{n=this._last;for(var w=t<0?t:i;n;){if(a=n._prev,(n._act||w<=n._end)&&n._ts&&h!==n){if(n.parent!==this)return this.render(t,e,r);if(n.render(0<n._ts?(w-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(w-n._start)*n._ts,e,r),i!==this._time||!this._ts&&!u){h=0,a&&(v+=this._zTime=w?-j:j);break}}n=a}}if(h&&!e&&(this.pause(),h.render(_<=i?0:-j)._zTime=_<=i?1:-1,this._ts))return this._start=f,za(this),this.render(t,e,r);this._onUpdate&&!e&&xt(this,"onUpdate",!0),(v===m&&m>=this.totalDuration()||!v&&_)&&(f!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||(!t&&g||!(v===m&&0<this._ts||!v&&this._ts<0)||sa(this,1),e||t<0&&!_||!v&&!_||(xt(this,v===m?"onComplete":"onReverseComplete",!0),!this._prom||v<m&&0<this.timeScale()||this._prom())))}return this},e.add=function add(t,e){var r=this;if(q(e)||(e=La(this,e)),!(t instanceof Ft)){if(K(t))return t.forEach(function(t){return r.add(t,e)}),this;if(o(t))return this.addLabel(t,e);if(!p(t))return this;t=Vt.delayedCall(0,t)}return this!==t?Ca(this,t,e):this},e.getChildren=function getChildren(t,e,r,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===i&&(i=-U);for(var n=[],a=this._first;a;)a._start>=i&&(a instanceof Vt?e&&n.push(a):(r&&n.push(a),t&&n.push.apply(n,a.getChildren(!0,e,r)))),a=a._next;return n},e.getById=function getById(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},e.remove=function remove(t){return o(t)?this.removeLabel(t):p(t)?this.killTweensOf(t):(ra(this,t),t===this._recent&&(this._recent=this._last),ta(this))},e.totalTime=function totalTime(t,e){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ca(Pt.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),n.prototype.totalTime.call(this,t,e),this._forcing=0,this):this._tTime},e.addLabel=function addLabel(t,e){return this.labels[t]=La(this,e),this},e.removeLabel=function removeLabel(t){return delete this.labels[t],this},e.addPause=function addPause(t,e,r){var i=Vt.delayedCall(0,e||Q,r);return i.data="isPause",this._hasPause=1,Ca(this,i,La(this,t))},e.removePause=function removePause(t){var e=this._first;for(t=La(this,t);e;)e._start===t&&"isPause"===e.data&&sa(e),e=e._next},e.killTweensOf=function killTweensOf(t,e,r){for(var i=this.getTweensOf(t,r),n=i.length;n--;)qt!==i[n]&&i[n].kill(t,e);return this},e.getTweensOf=function getTweensOf(t,e){for(var r,i=[],n=Tt(t),a=this._first,s=q(e);a;)a instanceof Vt?da(a._targets,n)&&(s?(!qt||a._initted&&a._ts)&&a.globalTime(0)<=e&&a.globalTime(a.totalDuration())>e:!e||a.isActive())&&i.push(a):(r=a.getTweensOf(n,e)).length&&i.push.apply(i,r),a=a._next;return i},e.tweenTo=function tweenTo(t,e){e=e||{};var r=this,i=La(r,t),n=e.startAt,a=e.onStart,s=e.onStartParams,o=e.immediateRender,u=Vt.to(r,ja({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(n&&"time"in n?n.time:r._time))/r.timeScale())||j,onStart:function onStart(){r.pause();var t=e.duration||Math.abs((i-r._time)/r.timeScale());u._dur!==t&&Ia(u,t,0,1).render(u._time,!0,!0),a&&a.apply(u,s||[])}},e));return o?u.render(0):u},e.tweenFromTo=function tweenFromTo(t,e,r){return this.tweenTo(e,ja({startAt:{time:La(this,t)}},r))},e.recent=function recent(){return this._recent},e.nextLabel=function nextLabel(t){return void 0===t&&(t=this._time),gb(this,La(this,t))},e.previousLabel=function previousLabel(t){return void 0===t&&(t=this._time),gb(this,La(this,t),1)},e.currentLabel=function currentLabel(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+j)},e.shiftChildren=function shiftChildren(t,e,r){void 0===r&&(r=0);for(var i,n=this._first,a=this.labels;n;)n._start>=r&&(n._start+=t,n._end+=t),n=n._next;if(e)for(i in a)a[i]>=r&&(a[i]+=t);return ta(this)},e.invalidate=function invalidate(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return n.prototype.invalidate.call(this)},e.clear=function clear(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),ta(this)},e.totalDuration=function totalDuration(t){var e,r,i,n=0,a=this,s=a._last,o=U;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){for(i=a.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),o<(r=s._start)&&a._sort&&s._ts&&!a._lock?(a._lock=1,Ca(a,s,r-s._delay,1)._lock=0):o=r,r<0&&s._ts&&(n-=r,(!i&&!a._dp||i&&i.smoothChildTiming)&&(a._start+=r/a._ts,a._time-=r,a._tTime-=r),a.shiftChildren(-r,!1,-Infinity),o=0),s._end>n&&s._ts&&(n=s._end),s=e;Ia(a,a===F&&a._time>n?a._time:n,1,1),a._dirty=0}return a._tDur},Timeline.updateRoot=function updateRoot(t){if(F._ts&&(ga(F,ya(t,F)),f=Pt.frame),Pt.frame>=ct){ct+=Y.autoSleep||120;var e=F._first;if((!e||!e._ts)&&Y.autoSleep&&Pt._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Pt.sleep()}}},Timeline}(Ft);ja(Bt.prototype,{_lock:0,_hasPause:0,_forcing:0});function Qb(t,e,r,i,n,a){var u,h,l,f;if(ft[t]&&!1!==(u=new ft[t]).init(n,u.rawVars?e[t]:function _processVars(t,e,r,i,n){if(p(t)&&(t=Ut(t,n,e,r,i)),!s(t)||t.style&&t.nodeType||K(t)||Z(t))return o(t)?Ut(t,n,e,r,i):t;var a,u={};for(a in t)u[a]=Ut(t[a],n,e,r,i);return u}(e[t],i,n,a,r),r,i,a)&&(r._pt=h=new ie(r._pt,n,t,0,1,u.render,u,0,u.priority),r!==d))for(l=r._ptLookup[r._targets.indexOf(n)],f=u._props.length;f--;)l[u._props[f]]=h;return u}var qt,Yt=function _addPropTween(t,e,r,i,n,a,s,u,h){p(i)&&(i=i(n||0,t,a));var l,f=t[e],d="get"!==r?r:p(f)?h?t[e.indexOf("set")||!p(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():f,c=p(f)?h?Jt:Qt:Gt;if(o(i)&&(~i.indexOf("random(")&&(i=db(i)),"="===i.charAt(1)&&(i=parseFloat(d)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(Oa(d)||0))),d!==i)return isNaN(d*i)?(f||e in t||N(e,i),function _addComplexStringPropTween(t,e,r,i,n,a,s){var o,u,h,l,f,d,c,p,_=new ie(this._pt,t,e,0,1,Zt,null,n),m=0,g=0;for(_.b=r,_.e=i,r+="",(c=~(i+="").indexOf("random("))&&(i=db(i)),a&&(a(p=[r,i],t,e),r=p[0],i=p[1]),u=r.match(it)||[];o=it.exec(i);)l=o[0],f=i.substring(m,o.index),h?h=(h+1)%5:"rgba("===f.substr(-5)&&(h=1),l!==u[g++]&&(d=parseFloat(u[g-1])||0,_._pt={_next:_._pt,p:f||1===g?f:",",s:d,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-d,m:h&&h<4?Math.round:0},m=it.lastIndex);return _.c=m<i.length?i.substring(m,i.length):"",_.fp=s,(nt.test(i)||c)&&(_.e=0),this._pt=_}.call(this,t,e,d,i,c,u||Y.stringFilter,h)):(l=new ie(this._pt,t,e,+d||0,i-(d||0),"boolean"==typeof f?$t:Ht,0,c),h&&(l.fp=h),s&&l.modifier(s,this,t),this._pt=l)},Nt=function _initTween(e,r){var i,n,a,s,o,u,h,l,f,d,c,p,m,g=e.vars,v=g.ease,y=g.startAt,b=g.immediateRender,T=g.lazy,w=g.onUpdate,x=g.onUpdateParams,O=g.callbackScope,M=g.runBackwards,k=g.yoyoEase,C=g.keyframes,P=g.autoRevert,A=e._dur,D=e._startAt,S=e._targets,z=e.parent,I=z&&"nested"===z.data?z.parent._targets:S,E="auto"===e._overwrite&&!R,L=e.timeline;if(!L||C&&v||(v="none"),e._ease=Et(v,B.ease),e._yEase=k?It(Et(!0===k?v:k,B.ease)):0,k&&e._yoyo&&!e._repeat&&(k=e._yEase,e._yEase=e._ease,e._ease=k),!L){if(p=(l=S[0]?_(S[0]).harness:0)&&g[l.prop],i=na(g,ut),D&&D.render(-1,!0).kill(),y)if(sa(e._startAt=Vt.set(S,ja({data:"isStart",overwrite:!1,parent:z,immediateRender:!0,lazy:t(T),startAt:null,delay:0,onUpdate:w,onUpdateParams:x,callbackScope:O,stagger:0},y))),b){if(0<r)P||(e._startAt=0);else if(A&&!(r<0&&D))return void(r&&(e._zTime=r))}else!1===P&&(e._startAt=0);else if(M&&A)if(D)P||(e._startAt=0);else if(r&&(b=!1),a=ja({overwrite:!1,data:"isFromStart",lazy:b&&t(T),immediateRender:b,stagger:0,parent:z},i),p&&(a[l.prop]=p),sa(e._startAt=Vt.set(S,a)),b){if(!r)return}else _initTween(e._startAt,j);for(e._pt=0,T=A&&t(T)||T&&!A,n=0;n<S.length;n++){if(h=(o=S[n])._gsap||$(S)[n]._gsap,e._ptLookup[n]=d={},lt[h.id]&&ht.length&&fa(),c=I===S?n:I.indexOf(o),l&&!1!==(f=new l).init(o,p||i,e,c,I)&&(e._pt=s=new ie(e._pt,o,f.name,0,1,f.render,f,0,f.priority),f._props.forEach(function(t){d[t]=s}),f.priority&&(u=1)),!l||p)for(a in i)ft[a]&&(f=Qb(a,i,e,c,o,I))?f.priority&&(u=1):d[a]=s=Yt.call(e,o,a,"get",i[a],c,I,0,g.stringFilter);e._op&&e._op[n]&&e.kill(o,e._op[n]),E&&e._pt&&(qt=e,F.killTweensOf(o,d,e.globalTime(0)),m=!e.parent,qt=0),e._pt&&T&&(lt[h.id]=1)}u&&re(e),e._onInit&&e._onInit(e)}e._from=!L&&!!g.runBackwards,e._onUpdate=w,e._initted=(!e._op||e._pt)&&!m},Ut=function _parseFuncOrString(t,e,r,i,n){return p(t)?t.call(e,r,i,n):o(t)&&~t.indexOf("random(")?db(t):t},jt=_t+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Xt=(jt+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Vt=function(A){function Tween(e,r,i,n){var a;"number"==typeof r&&(i.duration=r,r=i,i=null);var o,u,h,l,f,d,c,p,_=(a=A.call(this,n?r:oa(r),i)||this).vars,m=_.duration,g=_.delay,y=_.immediateRender,b=_.stagger,T=_.overwrite,w=_.keyframes,x=_.defaults,M=_.scrollTrigger,k=_.yoyoEase,C=a.parent,P=(K(e)||Z(e)?q(e[0]):"length"in r)?[e]:Tt(e);if(a._targets=P.length?$(P):O("GSAP target "+e+" not found. https://greensock.com",!Y.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=T,w||b||v(m)||v(g)){if(r=a.vars,(o=a.timeline=new Bt({data:"nested",defaults:x||{}})).kill(),o.parent=o._dp=_assertThisInitialized(a),o._start=0,w)ja(o.vars.defaults,{ease:"none"}),w.forEach(function(t){return o.to(P,t,">")});else{if(l=P.length,c=b?Va(b):Q,s(b))for(f in b)~jt.indexOf(f)&&((p=p||{})[f]=b[f]);for(u=0;u<l;u++){for(f in h={},r)Xt.indexOf(f)<0&&(h[f]=r[f]);h.stagger=0,k&&(h.yoyoEase=k),p&&mt(h,p),d=P[u],h.duration=+Ut(m,_assertThisInitialized(a),u,d,P),h.delay=(+Ut(g,_assertThisInitialized(a),u,d,P)||0)-a._delay,!b&&1===l&&h.delay&&(a._delay=g=h.delay,a._start+=g,h.delay=0),o.to(d,h,c(u,d,P))}o.duration()?m=g=0:a.timeline=0}m||a.duration(m=o.duration())}else a.timeline=0;return!0!==T||R||(qt=_assertThisInitialized(a),F.killTweensOf(P),qt=0),C&&Ba(C,_assertThisInitialized(a)),(y||!m&&!w&&a._start===ca(C._time)&&t(y)&&function _hasNoPausedAncestors(t){return!t||t._ts&&_hasNoPausedAncestors(t.parent)}(_assertThisInitialized(a))&&"nested"!==C.data)&&(a._tTime=-j,a.render(Math.max(0,-g))),M&&Da(_assertThisInitialized(a),M),a}_inheritsLoose(Tween,A);var e=Tween.prototype;return e.render=function render(t,e,r){var i,n,a,s,o,u,h,l,f,d=this._time,c=this._tDur,p=this._dur,_=c-j<t&&0<=t?c:t<j?0:t;if(p){if(_!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(i=_,l=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,r);if(i=ca(_%s),_===c?(a=this._repeat,i=p):((a=~~(_/s))&&a===_/s&&(i=p,a--),p<i&&(i=p)),(u=this._yoyo&&1&a)&&(f=this._yEase,i=p-i),o=gt(this._tTime,s),i===d&&!r&&this._initted)return this;a!==o&&(l&&this._yEase&&Eb(l,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=r=1,this.render(ca(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(Ea(this,t<0?t:i,r,e))return this._tTime=0,this;if(p!==this._dur)return this.render(t,e,r)}for(this._tTime=_,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(f||this._ease)(i/p),this._from&&(this.ratio=h=1-h),!i||d||e||xt(this,"onStart"),n=this._pt;n;)n.r(h,n.d),n=n._next;l&&l.render(t<0?t:!i&&u?-j:l._dur*h,e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,r),xt(this,"onUpdate")),this._repeat&&a!==o&&this.vars.onRepeat&&!e&&this.parent&&xt(this,"onRepeat"),_!==this._tDur&&_||this._tTime!==_||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),!t&&p||!(_===this._tDur&&0<this._ts||!_&&this._ts<0)||sa(this,1),e||t<0&&!d||!_&&!d||(xt(this,_===c?"onComplete":"onReverseComplete",!0),!this._prom||_<c&&0<this.timeScale()||this._prom()))}}else!function _renderZeroDurationTween(t,e,r,i){var n,a,s,o=t.ratio,u=e<0||!e&&(!t._start&&function _parentPlayheadIsBeforeStart(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||_parentPlayheadIsBeforeStart(e))}(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,h=t._rDelay,l=0;if(h&&t._repeat&&(l=yt(0,t._tDur,e),a=gt(l,h),s=gt(t._tTime,h),t._yoyo&&1&a&&(u=1-u),a!==s&&(o=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==o||i||t._zTime===j||!e&&t._zTime){if(!t._initted&&Ea(t,e,i,r))return;for(s=t._zTime,t._zTime=e||(r?j:0),r=r||e&&!s,t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=l,n=t._pt;n;)n.r(u,n.d),n=n._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!r&&xt(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&xt(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&sa(t,1),r||(xt(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},e.targets=function targets(){return this._targets},e.invalidate=function invalidate(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),A.prototype.invalidate.call(this)},e.kill=function kill(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?ib(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,qt&&!0!==qt.vars.overwrite)._first||ib(this),this.parent&&r!==this.timeline.totalDuration()&&Ia(this,this._dur*this.timeline._tDur/r,0,1),this}var i,n,a,s,u,h,l,f=this._targets,d=t?Tt(t):f,c=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function _arraysMatch(t,e){for(var r=t.length,i=r===e.length;i&&r--&&t[r]===e[r];);return r<0}(f,d))return"all"===e&&(this._pt=0),ib(this);for(i=this._op=this._op||[],"all"!==e&&(o(e)&&(u={},ba(e,function(t){return u[t]=1}),e=u),e=function _addAliasesToVars(t,e){var r,i,n,a,s=t[0]?_(t[0]).harness:0,o=s&&s.aliases;if(!o)return e;for(i in r=mt({},e),o)if(i in r)for(n=(a=o[i].split(",")).length;n--;)r[a[n]]=r[i];return r}(f,e)),l=f.length;l--;)if(~d.indexOf(f[l]))for(u in n=c[l],"all"===e?(i[l]=e,s=n,a={}):(a=i[l]=i[l]||{},s=e),s)(h=n&&n[u])&&("kill"in h.d&&!0!==h.d.kill(u)||ra(this,h,"_pt"),delete n[u]),"all"!==a&&(a[u]=1);return this._initted&&!this._pt&&p&&ib(this),this},Tween.to=function to(t,e,r){return new Tween(t,e,r)},Tween.from=function from(t,e){return new Tween(t,ea(arguments,1))},Tween.delayedCall=function delayedCall(t,e,r,i){return new Tween(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},Tween.fromTo=function fromTo(t,e,r){return new Tween(t,ea(arguments,2))},Tween.set=function set(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new Tween(t,e)},Tween.killTweensOf=function killTweensOf(t,e,r){return F.killTweensOf(t,e,r)},Tween}(Ft);ja(Vt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ba("staggerTo,staggerFrom,staggerFromTo",function(r){Vt[r]=function(){var t=new Bt,e=bt.call(arguments,0);return e.splice("staggerFromTo"===r?5:4,0,0),t[r].apply(t,e)}});function _b(t,e,r){return t.setAttribute(e,r)}function hc(t,e,r,i){i.mSet(t,e,i.m.call(i.tween,r,i.mt),i)}var Gt=function _setterPlain(t,e,r){return t[e]=r},Qt=function _setterFunc(t,e,r){return t[e](r)},Jt=function _setterFuncWithParam(t,e,r,i){return t[e](i.fp,r)},Wt=function _getSetter(t,e){return p(t[e])?Qt:r(t[e])&&t.setAttribute?_b:Gt},Ht=function _renderPlain(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},$t=function _renderBoolean(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Zt=function _renderComplexString(t,e){var r=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+i,r=r._next;i+=e.c}e.set(e.t,e.p,i,e)},Kt=function _renderPropTweens(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},te=function _addPluginModifier(t,e,r,i){for(var n,a=this._pt;a;)n=a._next,a.p===i&&a.modifier(t,e,r),a=n},ee=function _killPropTweensOf(t){for(var e,r,i=this._pt;i;)r=i._next,i.p===t&&!i.op||i.op===t?ra(this,i,"_pt"):i.dep||(e=1),i=r;return!e},re=function _sortPropTweensByPriority(t){for(var e,r,i,n,a=t._pt;a;){for(e=a._next,r=i;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:n)?a._prev._next=a:i=a,(a._next=r)?r._prev=a:n=a,a=e}t._pt=i},ie=(PropTween.prototype.modifier=function modifier(t,e,r){this.mSet=this.mSet||this.set,this.set=hc,this.m=t,this.mt=r,this.tween=e},PropTween);function PropTween(t,e,r,i,n,a,s,o,u){this.t=e,this.s=i,this.c=n,this.p=r,this.r=a||Ht,this.d=s||this,this.set=o||Gt,this.pr=u||0,(this._next=t)&&(t._prev=this)}ba(_t+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return ut[t]=1}),ot.TweenMax=ot.TweenLite=Vt,ot.TimelineLite=ot.TimelineMax=Bt,F=new Bt({sortChildren:!1,defaults:B,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Y.stringFilter=tb;var ne={registerPlugin:function registerPlugin(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach(function(t){return function _createPlugin(t){var e=(t=!t.name&&t.default||t).name,r=p(t),i=e&&!r&&t.init?function(){this._props=[]}:t,n={init:Q,render:Kt,add:Yt,kill:ee,modifier:te,rawVars:0},a={targetTest:0,get:0,getSetter:Wt,aliases:{},register:0};if(At(),t!==i){if(ft[e])return;ja(i,ja(na(t,n),a)),mt(i.prototype,mt(n,na(t,a))),ft[i.prop=e]=i,t.targetTest&&(pt.push(i),ut[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}P(e,i),t.register&&t.register(ae,i,ie)}(t)})},timeline:function timeline(t){return new Bt(t)},getTweensOf:function getTweensOf(t,e){return F.getTweensOf(t,e)},getProperty:function getProperty(i,t,e,r){o(i)&&(i=Tt(i)[0]);var n=_(i||{}).get,a=e?ia:ha;return"native"===e&&(e=""),i?t?a((ft[t]&&ft[t].get||n)(i,t,e,r)):function(t,e,r){return a((ft[t]&&ft[t].get||n)(i,t,e,r))}:i},quickSetter:function quickSetter(r,e,i){if(1<(r=Tt(r)).length){var n=r.map(function(t){return ae.quickSetter(t,e,i)}),a=n.length;return function(t){for(var e=a;e--;)n[e](t)}}r=r[0]||{};var s=ft[e],o=_(r),u=o.harness&&(o.harness.aliases||{})[e]||e,h=s?function(t){var e=new s;d._pt=0,e.init(r,i?t+i:t,d,0,[r]),e.render(1,e),d._pt&&Kt(1,d)}:o.set(r,u);return s?h:function(t){return h(r,u,i?t+i:t,o,1)}},isTweening:function isTweening(t){return 0<F.getTweensOf(t,!0).length},defaults:function defaults(t){return t&&t.ease&&(t.ease=Et(t.ease,B.ease)),ma(B,t||{})},config:function config(t){return ma(Y,t||{})},registerEffect:function registerEffect(t){var i=t.name,n=t.effect,e=t.plugins,a=t.defaults,r=t.extendTimeline;(e||"").split(",").forEach(function(t){return t&&!ft[t]&&!ot[t]&&O(i+" effect requires "+t+" plugin.")}),dt[i]=function(t,e,r){return n(Tt(t),ja(e||{},a),r)},r&&(Bt.prototype[i]=function(t,e,r){return this.add(dt[i](t,s(e)?e:(r=e)&&{},this),r)})},registerEase:function registerEase(t,e){Dt[t]=Et(e)},parseEase:function parseEase(t,e){return arguments.length?Et(t,e):Dt},getById:function getById(t){return F.getById(t)},exportRoot:function exportRoot(e,r){void 0===e&&(e={});var i,n,a=new Bt(e);for(a.smoothChildTiming=t(e.smoothChildTiming),F.remove(a),a._dp=0,a._time=a._tTime=F._time,i=F._first;i;)n=i._next,!r&&!i._dur&&i instanceof Vt&&i.vars.onComplete===i._targets[0]||Ca(a,i,i._start-i._delay),i=n;return Ca(F,a,0),a},utils:{wrap:function wrap(e,t,r){var i=t-e;return K(e)?ab(e,wrap(0,e.length),t):Ma(r,function(t){return(i+(t-e)%i)%i+e})},wrapYoyo:function wrapYoyo(e,t,r){var i=t-e,n=2*i;return K(e)?ab(e,wrapYoyo(0,e.length-1),t):Ma(r,function(t){return e+(i<(t=(n+(t-e)%n)%n||0)?n-t:t)})},distribute:Va,random:Ya,snap:Xa,normalize:function normalize(t,e,r){return wt(t,e,0,1,r)},getUnit:Oa,clamp:function clamp(e,r,t){return Ma(t,function(t){return yt(e,r,t)})},splitColor:ob,toArray:Tt,mapRange:wt,pipe:function pipe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function unitize(e,r){return function(t){return e(parseFloat(t))+(r||Oa(t))}},interpolate:function interpolate(e,r,t,i){var n=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!n){var a,s,u,h,l,f=o(e),d={};if(!0===t&&(i=1)&&(t=null),f)e={p:e},r={p:r};else if(K(e)&&!K(r)){for(u=[],h=e.length,l=h-2,s=1;s<h;s++)u.push(interpolate(e[s-1],e[s]));h--,n=function func(t){t*=h;var e=Math.min(l,~~t);return u[e](t-e)},t=r}else i||(e=mt(K(e)?[]:{},e));if(!u){for(a in r)Yt.call(d,e,a,"get",r[a]);n=function func(t){return Kt(t,d)||(f?e.p:e)}}}return Ma(t,n)},shuffle:Ua},install:M,effects:dt,ticker:Pt,updateRoot:Bt.updateRoot,plugins:ft,globalTimeline:F,core:{PropTween:ie,globals:P,Tween:Vt,Timeline:Bt,Animation:Ft,getCache:_,_removeLinkedListItem:ra,suppressOverwrites:function suppressOverwrites(t){return R=t}}};ba("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return ne[t]=Vt[t]}),Pt.add(Bt.updateRoot),d=ne.to({},{duration:0});function lc(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r}function nc(t,n){return{name:t,rawVars:1,init:function init(t,i,e){e._onInit=function(t){var e,r;if(o(i)&&(e={},ba(i,function(t){return e[t]=1}),i=e),n){for(r in e={},i)e[r]=n(i[r]);i=e}!function _addModifiers(t,e){var r,i,n,a=t._targets;for(r in e)for(i=a.length;i--;)(n=(n=t._ptLookup[i][r])&&n.d)&&(n._pt&&(n=lc(n,r)),n&&n.modifier&&n.modifier(e[r],t,a[i],r))}(t,i)}}}}var ae=ne.registerPlugin({name:"attr",init:function init(t,e,r,i,n){var a,s;for(a in e)(s=this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],i,n,0,0,a))&&(s.op=a),this._props.push(a)}},{name:"endArray",init:function init(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r])}},nc("roundProps",Wa),nc("modifiers"),nc("snap",Xa))||ne;Vt.version=Bt.version=ae.version="3.6.1",l=1,u()&&At();function Yc(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Zc(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function $c(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function _c(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)}function ad(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function bd(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function cd(t,e,r){return t.style[e]=r}function dd(t,e,r){return t.style.setProperty(e,r)}function ed(t,e,r){return t._gsap[e]=r}function fd(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r}function gd(t,e,r,i,n){var a=t._gsap;a.scaleX=a.scaleY=r,a.renderTransform(n,a)}function hd(t,e,r,i,n){var a=t._gsap;a[e]=r,a.renderTransform(n,a)}function ld(t,e){var r=oe.createElementNS?oe.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):oe.createElement(t);return r.style?r:oe.createElement(t)}function md(t,e,r){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Le,"-$1").toLowerCase())||i.getPropertyValue(e)||!r&&md(t,Ue(e)||e,1)||""}function pd(){(function _windowExists(){return"undefined"!=typeof window})()&&window.document&&(se=window,oe=se.document,ue=oe.documentElement,le=ld("div")||{style:{}},ld("div"),qe=Ue(qe),Ye=qe+"Origin",le.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",de=!!Ue("perspective"),he=1)}function qd(t){var e,r=ld("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,n=this.nextSibling,a=this.style.cssText;if(ue.appendChild(r),r.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=qd}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i&&(n?i.insertBefore(this,n):i.appendChild(this)),ue.removeChild(r),this.style.cssText=a,e}function rd(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])}function sd(e){var r;try{r=e.getBBox()}catch(t){r=qd.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===qd||(r=qd.call(e,!0)),!r||r.width||r.x||r.y?r:{x:+rd(e,["x","cx","x1"])||0,y:+rd(e,["y","cy","y1"])||0,width:0,height:0}}function td(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!sd(t))}function ud(t,e){if(e){var r=t.style;e in Se&&e!==Ye&&(e=qe),r.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty(e.replace(Le,"-$1").toLowerCase())):r.removeAttribute(e)}}function vd(t,e,r,i,n,a){var s=new ie(t._pt,e,r,0,1,a?bd:ad);return(t._pt=s).b=i,s.e=n,t._props.push(r),s}function xd(t,e,r,i){var n,a,s,o,u=parseFloat(r)||0,h=(r+"").trim().substr((u+"").length)||"px",l=le.style,f=Re.test(e),d="svg"===t.tagName.toLowerCase(),c=(d?"client":"offset")+(f?"Width":"Height"),p="px"===i,m="%"===i;return i===h||!u||je[i]||je[h]?u:("px"===h||p||(u=xd(t,e,r,"px")),o=t.getCTM&&td(t),!m&&"%"!==h||!Se[e]&&!~e.indexOf("adius")?(l[f?"width":"height"]=100+(p?h:i),a=~e.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,o&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==oe&&a.appendChild||(a=oe.body),(s=a._gsap)&&m&&s.width&&f&&s.time===Pt.time?ca(u/s.width*100):(!m&&"%"!==h||(l.position=md(t,"position")),a===t&&(l.position="static"),a.appendChild(le),n=le[c],a.removeChild(le),l.position="absolute",f&&m&&((s=_(a)).time=Pt.time,s.width=a[c]),ca(p?n*u/100:n&&u?100/n*u:0))):(n=o?t.getBBox()[f?"width":"height"]:t[c],ca(m?u/n*100:u/100*n)))}function yd(t,e,r,i){var n;return he||pd(),e in Be&&"transform"!==e&&~(e=Be[e]).indexOf(",")&&(e=e.split(",")[0]),Se[e]&&"transform"!==e?(n=Je(t,i),n="transformOrigin"!==e?n[e]:We(md(t,Ye))+" "+n.zOrigin+"px"):(n=t.style[e])&&"auto"!==n&&!i&&!~(n+"").indexOf("calc(")||(n=Ve[e]&&Ve[e](t,e,r)||md(t,e)||aa(t,e)||("opacity"===e?1:0)),r&&!~(n+"").trim().indexOf(" ")?xd(t,e,n,r)+r:n}function zd(t,e,r,i){if(!r||"none"===r){var n=Ue(e,t,1),a=n&&md(t,n,1);a&&a!==r?(e=n,r=a):"borderColor"===e&&(r=md(t,"borderTopColor"))}var s,o,u,h,l,f,d,c,p,_,m,g,v=new ie(this._pt,t.style,e,0,1,Zt),y=0,b=0;if(v.b=r,v.e=i,r+="","auto"===(i+="")&&(t.style[e]=i,i=md(t,e)||i,t.style[e]=r),tb(s=[r,i]),i=s[1],u=(r=s[0]).match(rt)||[],(i.match(rt)||[]).length){for(;o=rt.exec(i);)d=o[0],p=i.substring(y,o.index),l?l=(l+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(l=1),d!==(f=u[b++]||"")&&(h=parseFloat(f)||0,m=f.substr((h+"").length),(g="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),c=parseFloat(d),_=d.substr((c+"").length),y=rt.lastIndex-_.length,_||(_=_||Y.units[e]||m,y===i.length&&(i+=_,v.e+=_)),m!==_&&(h=xd(t,e,f,_)||0),v._pt={_next:v._pt,p:p||1===b?p:",",s:h,c:g?g*c:c-h,m:l&&l<4||"zIndex"===e?Math.round:0});v.c=y<i.length?i.substring(y,i.length):""}else v.r="display"===e&&"none"===i?bd:ad;return nt.test(i)&&(v.e=0),this._pt=v}function Bd(t){var e=t.split(" "),r=e[0],i=e[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==i&&"right"!==i||(t=r,r=i,i=t),e[0]=Xe[r]||r,e[1]=Xe[i]||i,e.join(" ")}function Cd(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,i,n,a=e.t,s=a.style,o=e.u,u=a._gsap;if("all"===o||!0===o)s.cssText="",i=1;else for(n=(o=o.split(",")).length;-1<--n;)r=o[n],Se[r]&&(i=1,r="transformOrigin"===r?Ye:qe),ud(a,r);i&&(ud(a,qe),u&&(u.svg&&a.removeAttribute("transform"),Je(a,1),u.uncache=1))}}function Gd(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function Hd(t){var e=md(t,qe);return Gd(e)?Ge:e.substr(7).match(et).map(ca)}function Id(t,e){var r,i,n,a,s=t._gsap||_(t),o=t.style,u=Hd(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(n=t.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?Ge:u:(u!==Ge||t.offsetParent||t===ue||s.svg||(n=o.display,o.display="block",(r=t.parentNode)&&t.offsetParent||(a=1,i=t.nextSibling,ue.appendChild(t)),u=Hd(t),n?o.display=n:ud(t,"display"),a&&(i?r.insertBefore(t,i):r?r.appendChild(t):ue.removeChild(t))),e&&6<u.length?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)}function Jd(t,e,r,i,n,a){var s,o,u,h=t._gsap,l=n||Id(t,!0),f=h.xOrigin||0,d=h.yOrigin||0,c=h.xOffset||0,p=h.yOffset||0,_=l[0],m=l[1],g=l[2],v=l[3],y=l[4],b=l[5],T=e.split(" "),w=parseFloat(T[0])||0,x=parseFloat(T[1])||0;r?l!==Ge&&(o=_*v-m*g)&&(u=w*(-m/o)+x*(_/o)-(_*b-m*y)/o,w=w*(v/o)+x*(-g/o)+(g*b-v*y)/o,x=u):(w=(s=sd(t)).x+(~T[0].indexOf("%")?w/100*s.width:w),x=s.y+(~(T[1]||T[0]).indexOf("%")?x/100*s.height:x)),i||!1!==i&&h.smooth?(y=w-f,b=x-d,h.xOffset=c+(y*_+b*g)-y,h.yOffset=p+(y*m+b*v)-b):h.xOffset=h.yOffset=0,h.xOrigin=w,h.yOrigin=x,h.smooth=!!i,h.origin=e,h.originIsAbsolute=!!r,t.style[Ye]="0px 0px",a&&(vd(a,h,"xOrigin",f,w),vd(a,h,"yOrigin",d,x),vd(a,h,"xOffset",c,h.xOffset),vd(a,h,"yOffset",p,h.yOffset)),t.setAttribute("data-svg-origin",w+" "+x)}function Md(t,e,r){var i=Oa(e);return ca(parseFloat(e)+parseFloat(xd(t,"x",r+"px",i)))+i}function Td(t,e,r,i,n,a){var s,u,h=360,l=o(n),f=parseFloat(n)*(l&&~n.indexOf("rad")?ze:1),d=a?f*a:f-i,c=i+d+"deg";return l&&("short"===(s=n.split("_")[1])&&(d%=h)!==d%180&&(d+=d<0?h:-h),"cw"===s&&d<0?d=(d+36e9)%h-~~(d/h)*h:"ccw"===s&&0<d&&(d=(d-36e9)%h-~~(d/h)*h)),t._pt=u=new ie(t._pt,e,r,i,d,Zc),u.e=c,u.u="deg",t._props.push(r),u}function Ud(t,e){for(var r in e)t[r]=e[r];return t}function Vd(t,e,r){var i,n,a,s,o,u,h,l=Ud({},r._gsap),f=r.style;for(n in l.svg?(a=r.getAttribute("transform"),r.setAttribute("transform",""),f[qe]=e,i=Je(r,1),ud(r,qe),r.setAttribute("transform",a)):(a=getComputedStyle(r)[qe],f[qe]=e,i=Je(r,1),f[qe]=a),Se)(a=l[n])!==(s=i[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(o=Oa(a)!==(h=Oa(s))?xd(r,n,a,h):parseFloat(a),u=parseFloat(s),t._pt=new ie(t._pt,i,n,o,u-o,Yc),t._pt.u=h||0,t._props.push(n));Ud(i,l)}var se,oe,ue,he,le,fe,de,ce=Dt.Power0,pe=Dt.Power1,_e=Dt.Power2,me=Dt.Power3,ge=Dt.Power4,ve=Dt.Linear,ye=Dt.Quad,be=Dt.Cubic,Te=Dt.Quart,we=Dt.Quint,xe=Dt.Strong,Oe=Dt.Elastic,Me=Dt.Back,ke=Dt.SteppedEase,Ce=Dt.Bounce,Pe=Dt.Sine,Ae=Dt.Expo,De=Dt.Circ,Se={},ze=180/Math.PI,Ie=Math.PI/180,Ee=Math.atan2,Le=/([A-Z])/g,Re=/(?:left|right|width|margin|padding|x)/i,Fe=/[\s,\(]\S/,Be={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},qe="transform",Ye=qe+"Origin",Ne="O,Moz,ms,Ms,Webkit".split(","),Ue=function _checkPropPrefix(t,e,r){var i=(e||le).style,n=5;if(t in i&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(Ne[n]+t in i););return n<0?null:(3===n?"ms":0<=n?Ne[n]:"")+t},je={deg:1,rad:1,turn:1},Xe={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ve={clearProps:function clearProps(t,e,r,i,n){if("isFromStart"!==n.data){var a=t._pt=new ie(t._pt,e,r,0,0,Cd);return a.u=i,a.pr=-10,a.tween=n,t._props.push(r),1}}},Ge=[1,0,0,1,0,0],Qe={},Je=function _parseTransform(t,e){var r=t._gsap||new Rt(t);if("x"in r&&!e&&!r.uncache)return r;var i,n,a,s,o,u,h,l,f,d,c,p,_,m,g,v,y,b,T,w,x,O,M,k,C,P,A,D,S,z,I,E,L=t.style,R=r.scaleX<0,F="deg",B=md(t,Ye)||"0";return i=n=a=u=h=l=f=d=c=0,s=o=1,r.svg=!(!t.getCTM||!td(t)),m=Id(t,r.svg),r.svg&&(k=!r.uncache&&!e&&t.getAttribute("data-svg-origin"),Jd(t,k||B,!!k||r.originIsAbsolute,!1!==r.smooth,m)),p=r.xOrigin||0,_=r.yOrigin||0,m!==Ge&&(b=m[0],T=m[1],w=m[2],x=m[3],i=O=m[4],n=M=m[5],6===m.length?(s=Math.sqrt(b*b+T*T),o=Math.sqrt(x*x+w*w),u=b||T?Ee(T,b)*ze:0,(f=w||x?Ee(w,x)*ze+u:0)&&(o*=Math.abs(Math.cos(f*Ie))),r.svg&&(i-=p-(p*b+_*w),n-=_-(p*T+_*x))):(E=m[6],z=m[7],A=m[8],D=m[9],S=m[10],I=m[11],i=m[12],n=m[13],a=m[14],h=(g=Ee(E,S))*ze,g&&(k=O*(v=Math.cos(-g))+A*(y=Math.sin(-g)),C=M*v+D*y,P=E*v+S*y,A=O*-y+A*v,D=M*-y+D*v,S=E*-y+S*v,I=z*-y+I*v,O=k,M=C,E=P),l=(g=Ee(-w,S))*ze,g&&(v=Math.cos(-g),I=x*(y=Math.sin(-g))+I*v,b=k=b*v-A*y,T=C=T*v-D*y,w=P=w*v-S*y),u=(g=Ee(T,b))*ze,g&&(k=b*(v=Math.cos(g))+T*(y=Math.sin(g)),C=O*v+M*y,T=T*v-b*y,M=M*v-O*y,b=k,O=C),h&&359.9<Math.abs(h)+Math.abs(u)&&(h=u=0,l=180-l),s=ca(Math.sqrt(b*b+T*T+w*w)),o=ca(Math.sqrt(M*M+E*E)),g=Ee(O,M),f=2e-4<Math.abs(g)?g*ze:0,c=I?1/(I<0?-I:I):0),r.svg&&(k=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!Gd(md(t,qe)),k&&t.setAttribute("transform",k))),90<Math.abs(f)&&Math.abs(f)<270&&(R?(s*=-1,f+=u<=0?180:-180,u+=u<=0?180:-180):(o*=-1,f+=f<=0?180:-180)),r.x=i-((r.xPercent=i&&(r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+"px",r.y=n-((r.yPercent=n&&(r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+"px",r.z=a+"px",r.scaleX=ca(s),r.scaleY=ca(o),r.rotation=ca(u)+F,r.rotationX=ca(h)+F,r.rotationY=ca(l)+F,r.skewX=f+F,r.skewY=d+F,r.transformPerspective=c+"px",(r.zOrigin=parseFloat(B.split(" ")[2])||0)&&(L[Ye]=We(B)),r.xOffset=r.yOffset=0,r.force3D=Y.force3D,r.renderTransform=r.svg?er:de?tr:He,r.uncache=0,r},We=function _firstTwoOnly(t){return(t=t.split(" "))[0]+" "+t[1]},He=function _renderNon3DTransforms(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,tr(t,e)},$e="0deg",Ze="0px",Ke=") ",tr=function _renderCSSTransforms(t,e){var r=e||this,i=r.xPercent,n=r.yPercent,a=r.x,s=r.y,o=r.z,u=r.rotation,h=r.rotationY,l=r.rotationX,f=r.skewX,d=r.skewY,c=r.scaleX,p=r.scaleY,_=r.transformPerspective,m=r.force3D,g=r.target,v=r.zOrigin,y="",b="auto"===m&&t&&1!==t||!0===m;if(v&&(l!==$e||h!==$e)){var T,w=parseFloat(h)*Ie,x=Math.sin(w),O=Math.cos(w);w=parseFloat(l)*Ie,T=Math.cos(w),a=Md(g,a,x*T*-v),s=Md(g,s,-Math.sin(w)*-v),o=Md(g,o,O*T*-v+v)}_!==Ze&&(y+="perspective("+_+Ke),(i||n)&&(y+="translate("+i+"%, "+n+"%) "),!b&&a===Ze&&s===Ze&&o===Ze||(y+=o!==Ze||b?"translate3d("+a+", "+s+", "+o+") ":"translate("+a+", "+s+Ke),u!==$e&&(y+="rotate("+u+Ke),h!==$e&&(y+="rotateY("+h+Ke),l!==$e&&(y+="rotateX("+l+Ke),f===$e&&d===$e||(y+="skew("+f+", "+d+Ke),1===c&&1===p||(y+="scale("+c+", "+p+Ke),g.style[qe]=y||"translate(0, 0)"},er=function _renderSVGTransforms(t,e){var r,i,n,a,s,o=e||this,u=o.xPercent,h=o.yPercent,l=o.x,f=o.y,d=o.rotation,c=o.skewX,p=o.skewY,_=o.scaleX,m=o.scaleY,g=o.target,v=o.xOrigin,y=o.yOrigin,b=o.xOffset,T=o.yOffset,w=o.forceCSS,x=parseFloat(l),O=parseFloat(f);d=parseFloat(d),c=parseFloat(c),(p=parseFloat(p))&&(c+=p=parseFloat(p),d+=p),d||c?(d*=Ie,c*=Ie,r=Math.cos(d)*_,i=Math.sin(d)*_,n=Math.sin(d-c)*-m,a=Math.cos(d-c)*m,c&&(p*=Ie,s=Math.tan(c-p),n*=s=Math.sqrt(1+s*s),a*=s,p&&(s=Math.tan(p),r*=s=Math.sqrt(1+s*s),i*=s)),r=ca(r),i=ca(i),n=ca(n),a=ca(a)):(r=_,a=m,i=n=0),(x&&!~(l+"").indexOf("px")||O&&!~(f+"").indexOf("px"))&&(x=xd(g,"x",l,"px"),O=xd(g,"y",f,"px")),(v||y||b||T)&&(x=ca(x+v-(v*r+y*n)+b),O=ca(O+y-(v*i+y*a)+T)),(u||h)&&(s=g.getBBox(),x=ca(x+u/100*s.width),O=ca(O+h/100*s.height)),s="matrix("+r+","+i+","+n+","+a+","+x+","+O+")",g.setAttribute("transform",s),w&&(g.style[qe]=s)};ba("padding,margin,Width,Radius",function(e,r){var t="Right",i="Bottom",n="Left",o=(r<3?["Top",t,i,n]:["Top"+n,"Top"+t,i+t,i+n]).map(function(t){return r<2?e+t:"border"+t+e});Ve[1<r?"border"+e:e]=function(e,t,r,i,n){var a,s;if(arguments.length<4)return a=o.map(function(t){return yd(e,t,r)}),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(i+"").split(" "),s={},o.forEach(function(t,e){return s[t]=a[e]=a[e]||a[(e-1)/2|0]}),e.init(t,s,n)}});var rr,ir,nr,ar={name:"css",register:pd,targetTest:function targetTest(t){return t.style&&t.nodeType},init:function init(t,e,r,i,n){var a,s,o,u,h,l,f,d,c,p,_,m,g,v,y,b=this._props,T=t.style,w=r.vars.startAt;for(f in he||pd(),e)if("autoRound"!==f&&(s=e[f],!ft[f]||!Qb(f,e,r,i,t,n)))if(h=typeof s,l=Ve[f],"function"===h&&(h=typeof(s=s.call(r,i,t,n))),"string"===h&&~s.indexOf("random(")&&(s=db(s)),l)l(this,t,f,s,r)&&(y=1);else if("--"===f.substr(0,2))a=(getComputedStyle(t).getPropertyValue(f)+"").trim(),s+="",kt.lastIndex=0,kt.test(a)||(d=Oa(a),c=Oa(s)),c?d!==c&&(a=xd(t,f,a,c)+c):d&&(s+=d),this.add(T,"setProperty",a,s,i,n,0,0,f);else if("undefined"!==h){if(w&&f in w?(a="function"==typeof w[f]?w[f].call(r,i,t,n):w[f],f in Y.units&&!Oa(a)&&(a+=Y.units[f]),"="===(a+"").charAt(1)&&(a=yd(t,f))):a=yd(t,f),u=parseFloat(a),(p="string"===h&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),o=parseFloat(s),f in Be&&("autoAlpha"===f&&(1===u&&"hidden"===yd(t,"visibility")&&o&&(u=0),vd(this,T,"visibility",u?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==f&&"transform"!==f&&~(f=Be[f]).indexOf(",")&&(f=f.split(",")[0])),_=f in Se)if(m||((g=t._gsap).renderTransform&&!e.parseTransform||Je(t,e.parseTransform),v=!1!==e.smoothOrigin&&g.smooth,(m=this._pt=new ie(this._pt,T,qe,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===f)this._pt=new ie(this._pt,g,"scaleY",g.scaleY,p?p*o:o-g.scaleY),b.push("scaleY",f),f+="X";else{if("transformOrigin"===f){s=Bd(s),g.svg?Jd(t,s,0,v,0,this):((c=parseFloat(s.split(" ")[2])||0)!==g.zOrigin&&vd(this,g,"zOrigin",g.zOrigin,c),vd(this,T,f,We(a),We(s)));continue}if("svgOrigin"===f){Jd(t,s,1,v,0,this);continue}if(f in Qe){Td(this,g,f,u,s,p);continue}if("smoothOrigin"===f){vd(this,g,"smooth",g.smooth,s);continue}if("force3D"===f){g[f]=s;continue}if("transform"===f){Vd(this,s,t);continue}}else f in T||(f=Ue(f)||f);if(_||(o||0===o)&&(u||0===u)&&!Fe.test(s)&&f in T)o=o||0,(d=(a+"").substr((u+"").length))!==(c=Oa(s)||(f in Y.units?Y.units[f]:d))&&(u=xd(t,f,a,c)),this._pt=new ie(this._pt,_?g:T,f,u,p?p*o:o-u,_||"px"!==c&&"zIndex"!==f||!1===e.autoRound?Yc:_c),this._pt.u=c||0,d!==c&&(this._pt.b=a,this._pt.r=$c);else if(f in T)zd.call(this,t,f,a,s);else{if(!(f in t)){N(f,s);continue}this.add(t,f,t[f],s,i,n)}b.push(f)}y&&re(this)},get:yd,aliases:Be,getSetter:function getSetter(t,e,i){var n=Be[e];return n&&n.indexOf(",")<0&&(e=n),e in Se&&e!==Ye&&(t._gsap.x||yd(t,"x"))?i&&fe===i?"scale"===e?fd:ed:(fe=i||{})&&("scale"===e?gd:hd):t.style&&!r(t.style[e])?cd:~e.indexOf("-")?dd:Wt(t,e)},core:{_removeProperty:ud,_getMatrix:Id}};ae.utils.checkPrefix=Ue,nr=ba((rr="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(ir="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){Se[t]=1}),ba(ir,function(t){Y.units[t]="deg",Qe[t]=1}),Be[nr[13]]=rr+","+ir,ba("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");Be[e[1]]=nr[e[0]]}),ba("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Y.units[t]="px"}),ae.registerPlugin(ar);var sr=ae.registerPlugin(ar)||ae,or=sr.core.Tween;e.Back=Me,e.Bounce=Ce,e.CSSPlugin=ar,e.Circ=De,e.Cubic=be,e.Elastic=Oe,e.Expo=Ae,e.Linear=ve,e.Power0=ce,e.Power1=pe,e.Power2=_e,e.Power3=me,e.Power4=ge,e.Quad=ye,e.Quart=Te,e.Quint=we,e.Sine=Pe,e.SteppedEase=ke,e.Strong=xe,e.TimelineLite=Bt,e.TimelineMax=Bt,e.TweenLite=Vt,e.TweenMax=or,e.default=sr,e.gsap=sr;if(typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})}else{delete e.default}});!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).window=e.window||{})}(this,function(e){"use strict";function f(){return w||"undefined"!=typeof window&&(w=window.gsap)&&w.registerPlugin&&w}function g(e,n){return!!(void 0===e?n:e&&!~(e+"").indexOf("false"))}function h(e){if(w=e||f()){r=w.registerEase;var n,t=w.parseEase(),o=function createConfig(t){return function(e){var n=.5+e/2;t.config=function(e){return t(2*(1-e)*e*n+e*e)}}};for(n in t)t[n].config||o(t[n]);for(n in r("slow",a),r("expoScale",s),r("rough",u),c)"version"!==n&&w.core.globals(n,c[n])}}function i(e,n,t){var o=(e=Math.min(1,e||.7))<1?n||0===n?n:.7:0,r=(1-e)/2,i=r+e,a=g(t);return function(e){var n=e+(.5-e)*o;return e<r?a?1-(e=1-e/r)*e:n-(e=1-e/r)*e*e*e*n:i<e?a?1===e?0:1-(e=(e-i)/r)*e:n+(e-n)*(e=(e-i)/r)*e*e*e:a?1:n}}function j(n,e,t){var o=Math.log(e/n),r=e-n;return t=t&&w.parseEase(t),function(e){return(n*Math.exp(o*(t?t(e):e))-n)/r}}function k(e,n,t){this.t=e,this.v=n,t&&(((this.next=t).prev=this).c=t.v-n,this.gap=t.t-e)}function l(e){"object"!=typeof e&&(e={points:+e||20});for(var n,t,o,r,i,a,f,s=e.taper||"none",u=[],c=0,p=0|(+e.points||20),l=p,v=g(e.randomize,!0),d=g(e.clamp),h=w?w.parseEase(e.template):0,x=.4*(+e.strength||1);-1<--l;)n=v?Math.random():1/p*l,t=h?h(n):n,o="none"===s?x:"out"===s?(r=1-n)*r*x:"in"===s?n*n*x:n<.5?(r=2*n)*r*.5*x:(r=2*(1-n))*r*.5*x,v?t+=Math.random()*o-.5*o:l%2?t+=.5*o:t-=.5*o,d&&(1<t?t=1:t<0&&(t=0)),u[c++]={x:n,y:t};for(u.sort(function(e,n){return e.x-n.x}),a=new k(1,1,null),l=p;l--;)i=u[l],a=new k(i.x,i.y,a);return f=new k(0,0,a.t?a:a.next),function(e){var n=f;if(e>n.t){for(;n.next&&e>=n.t;)n=n.next;n=n.prev}else for(;n.prev&&e<=n.t;)n=n.prev;return(f=n).v+(e-n.t)/n.gap*n.c}}var w,r,a=i(.7);(a.ease=a).config=i;var s=j(1,2);s.config=j;var u=l();(u.ease=u).config=l;var c={SlowMo:a,RoughEase:u,ExpoScaleEase:s};for(var n in c)c[n].register=h,c[n].version="3.6.1";f()&&w.registerPlugin(a),e.EasePack=c,e.ExpoScaleEase=s,e.RoughEase=u,e.SlowMo=a,e.default=c;if(typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})}else{delete e.default}});!function(e){function n(){}function t(e,n){return function(){e.apply(n,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function i(e,n){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(n):(e._handled=!0,void o._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null===t)return void(1===e._state?r:u)(n.promise,e._value);var o;try{o=t(e._value)}catch(i){return void u(n.promise,i)}r(n.promise,o)}))}function r(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof o)return e._state=3,e._value=n,void f(e);if("function"==typeof i)return void s(t(i,n),e)}e._state=1,e._value=n,f(e)}catch(r){u(e,r)}}function u(e,n){e._state=2,e._value=n,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;n<t;n++)i(e,e._deferreds[n]);e._deferreds=null}function c(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function s(e,n){var t=!1;try{e(function(e){t||(t=!0,r(n,e))},function(e){t||(t=!0,u(n,e))})}catch(o){if(t)return;t=!0,u(n,o)}}var a=setTimeout;o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var o=new this.constructor(n);return i(this,new c(e,t,o)),o},o.all=function(e){var n=Array.prototype.slice.call(e);return new o(function(e,t){function o(r,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,function(e){o(r,e)},t)}n[r]=u,0===--i&&e(n)}catch(c){t(c)}}if(0===n.length)return e([]);for(var i=n.length,r=0;r<n.length;r++)o(r,n[r])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(n){n(e)})},o.reject=function(e){return new o(function(n,t){t(e)})},o.race=function(e){return new o(function(n,t){for(var o=0,i=e.length;o<i;o++)e[o].then(n,t)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){a(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=o:e.Promise||(e.Promise=o)}(this);!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function v(e,t){if(e.parentNode&&(h||M(e))){var n=k(e),o=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",r=n?t?"rect":"g":"div",i=2!==t?0:100,a=3===t?100:0,l="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",s=h.createElementNS?h.createElementNS(o.replace(/^https/,"http"),r):h.createElement(r);return t&&(n?(g=g||v(e),s.setAttribute("width",.01),s.setAttribute("height",.01),s.setAttribute("transform","translate("+i+","+a+")"),g.appendChild(s)):(f||((f=v(e)).style.cssText=l),s.style.cssText=l+"width:0.1px;height:0.1px;top:"+a+"px;left:"+i+"px",f.appendChild(s))),s}throw"Need document and parent."}function y(e,t,n,o,r,i,a){return e.a=t,e.b=n,e.c=o,e.d=r,e.e=i,e.f=a,e}var h,u,r,i,f,g,x,m,t,w="transform",b=w+"Origin",M=function _setDoc(e){var t=e.ownerDocument||e;!(w in e.style)&&"msTransform"in e.style&&(b=(w="msTransform")+"Origin");for(;t.parentNode&&(t=t.parentNode););if(u=window,x=new fe,t){r=(h=t).documentElement,i=t.body;var n=t.createElement("div"),o=t.createElement("div");i.appendChild(n),n.appendChild(o),n.style.position="static",n.style[w]="translate3d(0,0,1px)",m=o.offsetParent!==n,i.removeChild(n)}return t},D=function _forceNonZeroScale(e){for(var t,n;e&&e!==i;)(n=e._gsap)&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},E=[],S=[],L=function _getDocScrollTop(){return u.pageYOffset||h.scrollTop||r.scrollTop||i.scrollTop||0},C=function _getDocScrollLeft(){return u.pageXOffset||h.scrollLeft||r.scrollLeft||i.scrollLeft||0},k=function _svgOwner(e){return e.ownerSVGElement||("svg"===(e.tagName+"").toLowerCase()?e:null)},N=function _isFixed(e){return"fixed"===u.getComputedStyle(e).position||((e=e.parentNode)&&1===e.nodeType?_isFixed(e):void 0)},P=function _placeSiblings(e,t){var n,o,r,i,a,l,s=k(e),c=e===s,d=s?E:S,p=e.parentNode;if(e===u)return e;if(d.length||d.push(v(e,1),v(e,2),v(e,3)),n=s?g:f,s)r=c?{x:0,y:0}:e.getBBox(),a=(o=e.transform?e.transform.baseVal:{}).numberOfItems?(i=(o=1<o.numberOfItems?function _consolidate(e){for(var t=new fe,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t}(o):o.getItem(0).matrix).a*r.x+o.c*r.y,o.b*r.x+o.d*r.y):(o=x,i=r.x,r.y),t&&"g"===e.tagName.toLowerCase()&&(i=a=0),(c?s:p).appendChild(n),n.setAttribute("transform","matrix("+o.a+","+o.b+","+o.c+","+o.d+","+(o.e+i)+","+(o.f+a)+")");else{if(i=a=0,m)for(o=e.offsetParent,r=e;(r=r&&r.parentNode)&&r!==o&&r.parentNode;)4<(u.getComputedStyle(r)[w]+"").length&&(i=r.offsetLeft,a=r.offsetTop,r=0);if("absolute"!==(l=u.getComputedStyle(e)).position)for(o=e.offsetParent;p&&p!==o;)i+=p.scrollLeft||0,a+=p.scrollTop||0,p=p.parentNode;(r=n.style).top=e.offsetTop-a+"px",r.left=e.offsetLeft-i+"px",r[w]=l[w],r[b]=l[b],r.position="fixed"===l.position?"fixed":"absolute",e.parentNode.appendChild(n)}return n},fe=((t=Matrix2D.prototype).inverse=function inverse(){var e=this.a,t=this.b,n=this.c,o=this.d,r=this.e,i=this.f,a=e*o-t*n||1e-10;return y(this,o/a,-t/a,-n/a,e/a,(n*i-o*r)/a,-(e*i-t*r)/a)},t.multiply=function multiply(e){var t=this.a,n=this.b,o=this.c,r=this.d,i=this.e,a=this.f,l=e.a,s=e.c,c=e.b,d=e.d,p=e.e,u=e.f;return y(this,l*t+c*o,l*n+c*r,s*t+d*o,s*n+d*r,i+p*t+u*o,a+p*n+u*r)},t.clone=function clone(){return new Matrix2D(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function equals(e){var t=this.a,n=this.b,o=this.c,r=this.d,i=this.e,a=this.f;return t===e.a&&n===e.b&&o===e.c&&r===e.d&&i===e.e&&a===e.f},t.apply=function apply(e,t){void 0===t&&(t={});var n=e.x,o=e.y,r=this.a,i=this.b,a=this.c,l=this.d,s=this.e,c=this.f;return t.x=n*r+o*a+s||0,t.y=n*i+o*l+c||0,t},Matrix2D);function Matrix2D(e,t,n,o,r,i){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=1),void 0===r&&(r=0),void 0===i&&(i=0),y(this,e,t,n,o,r,i)}function getGlobalMatrix(e,t,n,o){if(!e||!e.parentNode||(h||M(e)).documentElement===e)return new fe;var r=D(e),i=k(e)?E:S,a=P(e,n),l=i[0].getBoundingClientRect(),s=i[1].getBoundingClientRect(),c=i[2].getBoundingClientRect(),d=a.parentNode,p=!o&&N(e),u=new fe((s.left-l.left)/100,(s.top-l.top)/100,(c.left-l.left)/100,(c.top-l.top)/100,l.left+(p?0:C()),l.top+(p?0:L()));if(d.removeChild(a),r)for(l=r.length;l--;)(s=r[l]).scaleX=s.scaleY=0,s.renderTransform(1,s);return t?u.inverse():u}function T(){return"undefined"!=typeof window}function U(){return ge||T()&&(ge=window.gsap)&&ge.registerPlugin&&ge}function V(e){return"function"==typeof e}function W(e){return"object"==typeof e}function X(e){return void 0===e}function Y(){return!1}function _(e){return Math.round(1e4*e)/1e4}function ba(e,t){var n=ve.createElementNS?ve.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ve.createElement(e);return n.style?n:ve.createElement(e)}function na(e,t){var n,o={};for(n in e)o[n]=t?e[n]*t:e[n];return o}function pa(e,t){for(var n,o=e.length;o--;)t?e[o].style.touchAction=t:e[o].style.removeProperty("touch-action"),(n=e[o].children)&&n.length&&pa(n,t)}function qa(){return Re.forEach(function(e){return e()})}function sa(){return!Re.length&&ge.ticker.remove(qa)}function ta(e){for(var t=Re.length;t--;)Re[t]===e&&Re.splice(t,1);ge.to(sa,{overwrite:!0,delay:15,duration:0,onComplete:sa,data:"_draggable"})}function va(e,t,n,o){if(e.addEventListener){var r=Te[t];o=o||(d?{passive:!1}:null),e.addEventListener(r||t,n,o),r&&t!==r&&e.addEventListener(t,n,o)}}function wa(e,t,n){if(e.removeEventListener){var o=Te[t];e.removeEventListener(o||t,n),o&&t!==o&&e.removeEventListener(t,n)}}function xa(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()}function za(e){Ee=e.touches&&De<e.touches.length,wa(e.target,"touchend",za)}function Aa(e){Ee=e.touches&&De<e.touches.length,va(e.target,"touchend",za)}function Ba(e){return xe.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0}function Ca(e){return xe.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0}function Da(e,t){va(e,"scroll",t),Fe(e.parentNode)||Da(e.parentNode,t)}function Ea(e,t){wa(e,"scroll",t),Fe(e.parentNode)||Ea(e.parentNode,t)}function Ga(e,t){var n="x"===t?"Width":"Height",o="scroll"+n,r="client"+n;return Math.max(0,Fe(e)?Math.max(me[o],l[o])-(xe["inner"+n]||me[r]||l[r]):e[o]-e[r])}function Ha(e,t){var n=Ga(e,"x"),o=Ga(e,"y");Fe(e)?e=Ie:Ha(e.parentNode,t),e._gsMaxScrollX=n,e._gsMaxScrollY=o,t||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)}function Ia(e,t,n){var o=e.style;o&&(X(o[t])&&(t=c(t,e)||t),null==n?o.removeProperty&&o.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):o[t]=n)}function Ja(e){return xe.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)}function La(e){if(e===xe)return p.left=p.top=0,p.width=p.right=me.clientWidth||e.innerWidth||l.clientWidth||0,p.height=p.bottom=(e.innerHeight||0)-20<me.clientHeight?me.clientHeight:e.innerHeight||l.clientHeight||0,p;var t=e.ownerDocument||ve,n=X(e.pageX)?e.nodeType||X(e.left)||X(e.top)?be(e)[0].getBoundingClientRect():e:{left:e.pageX-Ca(t),top:e.pageY-Ba(t),right:e.pageX-Ca(t)+1,bottom:e.pageY-Ba(t)+1};return X(n.right)&&!X(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):X(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n}function Ma(e,t,n){var o,r=e.vars,i=r[n],a=e._listeners[t];return V(i)&&(o=i.apply(r.callbackScope||e,r[n+"Params"]||[e.pointerEvent])),a&&!1===e.dispatchEvent(t)&&(o=!1),o}function Na(e,t){var n,o,r,i=be(e)[0];return i.nodeType||i===xe?A(i,t):X(e.left)?{left:o=e.min||e.minX||e.minRotation||0,top:n=e.min||e.minY||0,width:(e.max||e.maxX||e.maxRotation||0)-o,height:(e.max||e.maxY||0)-n}:(r={x:0,y:0},{left:e.left-r.x,top:e.top-r.y,width:e.width,height:e.height})}function Qa(r,i,e,t,a,n){var o,l,s,c={};if(i)if(1!==a&&i instanceof Array){if(c.end=o=[],s=i.length,W(i[0]))for(l=0;l<s;l++)o[l]=na(i[l],a);else for(l=0;l<s;l++)o[l]=i[l]*a;e+=1.1,t-=1.1}else V(i)?c.end=function(e){var t,n,o=i.call(r,e);if(1!==a)if(W(o)){for(n in t={},o)t[n]=o[n]*a;o=t}else o*=a;return o}:c.end=i;return!e&&0!==e||(c.max=e),!t&&0!==t||(c.min=t),n&&(c.velocity=0),c}function Ra(e){var t;return!(!e||!e.getAttribute||e===l)&&(!("true"!==(t=e.getAttribute("data-clickable"))&&("false"===t||!e.onclick&&!o.test(e.nodeName+"")&&"true"!==e.getAttribute("contentEditable")))||Ra(e.parentNode))}function Sa(e,t){for(var n,o=e.length;o--;)(n=e[o]).ondragstart=n.onselectstart=t?null:Y,ge.set(n,{lazy:!0,userSelect:t?"text":"none"})}function Wa(i,r){i=ge.utils.toArray(i)[0],r=r||{};var a,l,s,e,c,d,p=document.createElement("div"),u=p.style,t=i.firstChild,h=0,f=0,g=i.scrollTop,x=i.scrollLeft,v=i.scrollWidth,m=i.scrollHeight,y=0,w=0,b=0;R&&!1!==r.force3D?(c="translate3d(",d="px,0px)"):O&&(c="translate(",d="px)"),this.scrollTop=function(e,t){if(!arguments.length)return-this.top();this.top(-e,t)},this.scrollLeft=function(e,t){if(!arguments.length)return-this.left();this.left(-e,t)},this.left=function(e,t){if(!arguments.length)return-(i.scrollLeft+f);var n=i.scrollLeft-x,o=f;if((2<n||n<-2)&&!t)return x=i.scrollLeft,ge.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-x),void(r.onKill&&r.onKill());(e=-e)<0?(f=e-.5|0,e=0):w<e?(f=e-w|0,e=w):f=0,(f||o)&&(this._skip||(u[O]=c+-f+"px,"+-h+d),0<=f+y&&(u.paddingRight=f+y+"px")),i.scrollLeft=0|e,x=i.scrollLeft},this.top=function(e,t){if(!arguments.length)return-(i.scrollTop+h);var n=i.scrollTop-g,o=h;if((2<n||n<-2)&&!t)return g=i.scrollTop,ge.killTweensOf(this,{top:1,scrollTop:1}),this.top(-g),void(r.onKill&&r.onKill());(e=-e)<0?(h=e-.5|0,e=0):b<e?(h=e-b|0,e=b):h=0,(h||o)&&(this._skip||(u[O]=c+-f+"px,"+-h+d)),i.scrollTop=0|e,g=i.scrollTop},this.maxScrollTop=function(){return b},this.maxScrollLeft=function(){return w},this.disable=function(){for(t=p.firstChild;t;)e=t.nextSibling,i.appendChild(t),t=e;i===p.parentNode&&i.removeChild(p)},this.enable=function(){if((t=i.firstChild)!==p){for(;t;)e=t.nextSibling,p.appendChild(t),t=e;i.appendChild(p),this.calibrate()}},this.calibrate=function(e){var t,n,o,r=i.clientWidth===a;g=i.scrollTop,x=i.scrollLeft,r&&i.clientHeight===l&&p.offsetHeight===s&&v===i.scrollWidth&&m===i.scrollHeight&&!e||((h||f)&&(n=this.left(),o=this.top(),this.left(-i.scrollLeft),this.top(-i.scrollTop)),t=Ja(i),r&&!e||(u.display="block",u.width="auto",u.paddingRight="0px",(y=Math.max(0,i.scrollWidth-i.clientWidth))&&(y+=parseFloat(t.paddingLeft)+(B?parseFloat(t.paddingRight):0))),u.display="inline-block",u.position="relative",u.overflow="visible",u.verticalAlign="top",u.boxSizing="content-box",u.width="100%",u.paddingRight=y+"px",B&&(u.paddingBottom=t.paddingBottom),a=i.clientWidth,l=i.clientHeight,v=i.scrollWidth,m=i.scrollHeight,w=i.scrollWidth-a,b=i.scrollHeight-l,s=p.offsetHeight,u.display="block",(n||o)&&(this.left(n),this.top(o)))},this.content=p,this.element=i,this._skip=!1,this.enable()}function Xa(e){if(T()&&document.body){var t=window&&window.navigator;xe=window,ve=document,me=ve.documentElement,l=ve.body,s=ba("div"),Ye=!!window.PointerEvent,(ye=ba("div")).style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",Le="grab"===ye.style.cursor?"grab":"move",Xe=t&&-1!==t.userAgent.toLowerCase().indexOf("android"),Me="ontouchstart"in me&&"orientation"in xe||t&&(0<t.MaxTouchPoints||0<t.msMaxTouchPoints),o=ba("div"),r=ba("div"),i=r.style,a=l,i.display="inline-block",i.position="relative",o.style.cssText=r.innerHTML="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",o.appendChild(r),a.appendChild(o),n=r.offsetHeight+18>o.scrollHeight,a.removeChild(o),B=n,Te=function(e){for(var t=e.split(","),n=(("onpointerdown"in s?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in s?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":e).split(",")),o={},r=4;-1<--r;)o[t[r]]=n[r],o[n[r]]=t[r];try{me.addEventListener("test",null,Object.defineProperty({},"passive",{get:function get(){d=1}}))}catch(e){}return o}("touchstart,touchmove,touchend,touchcancel"),va(ve,"touchcancel",Y),va(xe,"touchmove",Y),l&&l.addEventListener("touchstart",Y),va(ve,"contextmenu",function(){for(var e in Be)Be[e].isPressed&&Be[e].endDrag()}),ge=we=U()}var n,o,r,i,a;ge?(Se=ge.plugins.inertia,c=ge.utils.checkPrefix,O=c(O),_e=c(_e),be=ge.utils.toArray,R=!!c("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")}var ge,xe,ve,me,l,s,ye,we,c,be,d,Me,Te,De,Ee,Xe,Se,Le,Ye,R,B,n,O="transform",_e="transformOrigin",Ce=Array.isArray,ke=180/Math.PI,Ne=1e20,a=new fe,Pe=Date.now||function(){return(new Date).getTime()},Re=[],Be={},Oe=0,o=/^(?:a|input|textarea|button|select)$/i,Ae=0,He={},Ie={},Fe=function _isRoot(e){return!(e&&e!==me&&9!==e.nodeType&&e!==ve.body&&e!==xe&&e.nodeType&&e.parentNode)},p={},We={},A=function _getElementBounds(e,t){t=be(t)[0];var n,o,r,i,a,l,s,c,d,p,u,h,f,g,x=e.getBBox&&e.ownerSVGElement,v=e.ownerDocument||ve;if(e===xe)r=Ba(v),o=(n=Ca(v))+(v.documentElement.clientWidth||e.innerWidth||v.body.clientWidth||0),i=r+((e.innerHeight||0)-20<v.documentElement.clientHeight?v.documentElement.clientHeight:e.innerHeight||v.body.clientHeight||0);else{if(t===xe||X(t))return e.getBoundingClientRect();n=r=0,x?(u=(p=e.getBBox()).width,h=p.height):(e.viewBox&&(p=e.viewBox.baseVal)&&(n=p.x||0,r=p.y||0,u=p.width,h=p.height),u||(p="border-box"===(f=Ja(e)).boxSizing,u=(parseFloat(f.width)||e.clientWidth||0)+(p?0:parseFloat(f.borderLeftWidth)+parseFloat(f.borderRightWidth)),h=(parseFloat(f.height)||e.clientHeight||0)+(p?0:parseFloat(f.borderTopWidth)+parseFloat(f.borderBottomWidth)))),o=u,i=h}return e===t?{left:n,top:r,width:o-n,height:i-r}:(l=(a=getGlobalMatrix(t,!0).multiply(getGlobalMatrix(e))).apply({x:n,y:r}),s=a.apply({x:o,y:r}),c=a.apply({x:o,y:i}),d=a.apply({x:n,y:i}),n=Math.min(l.x,s.x,c.x,d.x),r=Math.min(l.y,s.y,c.y,d.y),{left:n+((g=t.parentNode||{}).scrollLeft||0),top:r+(g.scrollTop||0),width:Math.max(l.x,s.x,c.x,d.x)-n,height:Math.max(l.y,s.y,c.y,d.y)-r})},H=((n=EventDispatcher.prototype).addEventListener=function addEventListener(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);~n.indexOf(t)||n.push(t)},n.removeEventListener=function removeEventListener(e,t){var n=this._listeners[e],o=n&&n.indexOf(t)||-1;-1<o&&n.splice(o,1)},n.dispatchEvent=function dispatchEvent(t){var n,o=this;return(this._listeners[t]||[]).forEach(function(e){return!1===e.call(o,{type:t,target:o.target})&&(n=!1)}),n},EventDispatcher);function EventDispatcher(e){this._listeners={},this.target=e||this}var Ve,I=(function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(Draggable,Ve=H),Draggable.register=function register(e){ge=e,Xa()},Draggable.create=function create(e,t){return we||Xa(!0),be(e).map(function(e){return new Draggable(e,t)})},Draggable.get=function get(e){return Be[(be(e)[0]||{})._gsDragID]},Draggable.timeSinceDrag=function timeSinceDrag(){return(Pe()-Ae)/1e3},Draggable.hitTest=function hitTest(e,t,n){if(e===t)return!1;var o,r,i,a=La(e),l=La(t),s=a.top,c=a.left,d=a.right,p=a.bottom,u=a.width,h=a.height,f=l.left>d||l.right<c||l.top>p||l.bottom<s;return f||!n?!f:(i=-1!==(n+"").indexOf("%"),n=parseFloat(n)||0,(o={left:Math.max(c,l.left),top:Math.max(s,l.top)}).width=Math.min(d,l.right)-o.left,o.height=Math.min(p,l.bottom)-o.top,!(o.width<0||o.height<0)&&(i?u*h*(n*=.01)<=(r=o.width*o.height)||r>=l.width*l.height*n:o.width>n&&o.height>n))},Draggable);function Draggable(h,p){var e;e=Ve.call(this)||this,we||Xa(1),h=be(h)[0],Se=Se||ge.plugins.inertia,e.vars=p=na(p||{}),e.target=h,e.x=e.y=e.rotation=0,e.dragResistance=parseFloat(p.dragResistance)||0,e.edgeResistance=isNaN(p.edgeResistance)?1:parseFloat(p.edgeResistance)||0,e.lockAxis=p.lockAxis,e.autoScroll=p.autoScroll||0,e.lockedAxis=null,e.allowEventDefault=!!p.allowEventDefault,ge.getProperty(h,"x");function Jg(e,t){return parseFloat(le.get(h,e,t))}function oh(e){return xa(e),e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1}function ph(e){if(Q.autoScroll&&Q.isDragging&&(ee||k)){var t,n,o,r,i,a,l,s,c=h,d=15*Q.autoScroll;for(ee=!1,Ie.scrollTop=null!=xe.pageYOffset?xe.pageYOffset:null!=ce.documentElement.scrollTop?ce.documentElement.scrollTop:ce.body.scrollTop,Ie.scrollLeft=null!=xe.pageXOffset?xe.pageXOffset:null!=ce.documentElement.scrollLeft?ce.documentElement.scrollLeft:ce.body.scrollLeft,r=Q.pointerX-Ie.scrollLeft,i=Q.pointerY-Ie.scrollTop;c&&!n;)t=(n=Fe(c.parentNode))?Ie:c.parentNode,o=n?{bottom:Math.max(me.clientHeight,xe.innerHeight||0),right:Math.max(me.clientWidth,xe.innerWidth||0),left:0,top:0}:t.getBoundingClientRect(),a=l=0,U&&((s=t._gsMaxScrollY-t.scrollTop)<0?l=s:i>o.bottom-oe&&s?(ee=!0,l=Math.min(s,d*(1-Math.max(0,o.bottom-i)/oe)|0)):i<o.top+te&&t.scrollTop&&(ee=!0,l=-Math.min(t.scrollTop,d*(1-Math.max(0,i-o.top)/te)|0)),l&&(t.scrollTop+=l)),K&&((s=t._gsMaxScrollX-t.scrollLeft)<0?a=s:r>o.right-ne&&s?(ee=!0,a=Math.min(s,d*(1-Math.max(0,o.right-r)/ne)|0)):r<o.left+re&&t.scrollLeft&&(ee=!0,a=-Math.min(t.scrollLeft,d*(1-Math.max(0,r-o.left)/re)|0)),a&&(t.scrollLeft+=a)),n&&(a||l)&&(xe.scrollTo(t.scrollLeft,t.scrollTop),ue(Q.pointerX+a,Q.pointerY+l)),c=t}if(k){var p=Q.x,u=Q.y;z?(Q.deltaX=p-parseFloat(le.rotation),Q.rotation=p,le.rotation=p+"deg",le.renderTransform(1,le)):f?(U&&(Q.deltaY=u-f.top(),f.top(u)),K&&(Q.deltaX=p-f.left(),f.left(p))):q?(U&&(Q.deltaY=u-parseFloat(le.y),le.y=u+"px"),K&&(Q.deltaX=p-parseFloat(le.x),le.x=p+"px"),le.renderTransform(1,le)):(U&&(Q.deltaY=u-parseFloat(h.style.top||0),h.style.top=u+"px"),K&&(Q.deltaX=p-parseFloat(h.style.left||0),h.style.left=p+"px")),!g||e||I||(!(I=!0)===Ma(Q,"drag","onDrag")&&(K&&(Q.x-=Q.deltaX),U&&(Q.y-=Q.deltaY),ph(!0)),I=!1)}k=!1}function qh(e,t){var n,o,r=Q.x,i=Q.y;h._gsap||(le=ge.core.getCache(h)),le.uncache&&ge.getProperty(h,"x"),q?(Q.x=parseFloat(le.x),Q.y=parseFloat(le.y)):z?Q.x=Q.rotation=parseFloat(le.rotation):f?(Q.y=f.top(),Q.x=f.left()):(Q.y=parseFloat(h.style.top||(o=Ja(h))&&o.top)||0,Q.x=parseFloat(h.style.left||(o||{}).left)||0),(N||P||R)&&!t&&(Q.isDragging||Q.isThrowing)&&(R&&(He.x=Q.x,He.y=Q.y,(n=R(He)).x!==Q.x&&(Q.x=n.x,k=!0),n.y!==Q.y&&(Q.y=n.y,k=!0)),N&&(n=N(Q.x))!==Q.x&&(Q.x=n,z&&(Q.rotation=n),k=!0),P&&((n=P(Q.y))!==Q.y&&(Q.y=n),k=!0)),k&&ph(!0),e||(Q.deltaX=Q.x-r,Q.deltaY=Q.y-i,Ma(Q,"throwupdate","onThrowUpdate"))}function rh(a,l,s,n){return null==l&&(l=-Ne),null==s&&(s=Ne),V(a)?function(e){var t=Q.isPressed?1-Q.edgeResistance:1;return a.call(Q,s<e?s+(e-s)*t:e<l?l+(e-l)*t:e)*n}:Ce(a)?function(e){for(var t,n,o=a.length,r=0,i=Ne;-1<--o;)(n=(t=a[o])-e)<0&&(n=-n),n<i&&l<=t&&t<=s&&(r=o,i=n);return a[r]}:isNaN(a)?function(e){return e}:function(){return a*n}}function th(){var e,t,n,o;D=!1,f?(f.calibrate(),Q.minX=S=-f.maxScrollLeft(),Q.minY=Y=-f.maxScrollTop(),Q.maxX=E=Q.maxY=L=0,D=!0):p.bounds&&(e=Na(p.bounds,h.parentNode),z?(Q.minX=S=e.left,Q.maxX=E=e.left+e.width,Q.minY=Y=Q.maxY=L=0):X(p.bounds.maxX)&&X(p.bounds.maxY)?(t=Na(h,h.parentNode),Q.minX=S=Math.round(Jg(d,"px")+e.left-t.left-.5),Q.minY=Y=Math.round(Jg(J,"px")+e.top-t.top-.5),Q.maxX=E=Math.round(S+(e.width-t.width)),Q.maxY=L=Math.round(Y+(e.height-t.height))):(e=p.bounds,Q.minX=S=e.minX,Q.minY=Y=e.minY,Q.maxX=E=e.maxX,Q.maxY=L=e.maxY),E<S&&(Q.minX=E,Q.maxX=E=S,S=Q.minX),L<Y&&(Q.minY=L,Q.maxY=L=Y,Y=Q.minY),z&&(Q.minRotation=S,Q.maxRotation=E),D=!0),p.liveSnap&&(n=!0===p.liveSnap?p.snap||{}:p.liveSnap,o=Ce(n)||V(n),z?(N=rh(o?n:n.rotation,S,E,1),P=null):n.points?R=function buildPointSnapFunc(s,l,c,d,p,u,h){return u=u&&u<Ne?u*u:Ne,V(s)?function(e){var t,n,o,r=Q.isPressed?1-Q.edgeResistance:1,i=e.x,a=e.y;return e.x=i=c<i?c+(i-c)*r:i<l?l+(i-l)*r:i,e.y=a=p<a?p+(a-p)*r:a<d?d+(a-d)*r:a,(t=s.call(Q,e))!==e&&(e.x=t.x,e.y=t.y),1!==h&&(e.x*=h,e.y*=h),u<Ne&&(n=e.x-i,o=e.y-a,u<n*n+o*o&&(e.x=i,e.y=a)),e}:Ce(s)?function(e){for(var t,n,o,r,i=s.length,a=0,l=Ne;-1<--i;)(r=(t=(o=s[i]).x-e.x)*t+(n=o.y-e.y)*n)<l&&(a=i,l=r);return l<=u?s[a]:e}:function(e){return e}}(o?n:n.points,S,E,Y,L,n.radius,f?-1:1):(K&&(N=rh(o?n:n.x||n.left||n.scrollLeft,S,E,f?-1:1)),U&&(P=rh(o?n:n.y||n.top||n.scrollTop,Y,L,f?-1:1))))}function uh(){Q.isThrowing=!1,Ma(Q,"throwcomplete","onThrowComplete")}function vh(){Q.isThrowing=!1}function wh(e,t){var n,o,r,i;e&&Se?(!0===e&&(n=p.snap||p.liveSnap||{},o=Ce(n)||V(n),e={resistance:(p.throwResistance||p.resistance||1e3)/(z?10:1)},z?e.rotation=Qa(Q,o?n:n.rotation,E,S,1,t):(K&&(e[d]=Qa(Q,o?n:n.points||n.x||n.left,E,S,f?-1:1,t||"x"===Q.lockedAxis)),U&&(e[J]=Qa(Q,o?n:n.points||n.y||n.top,L,Y,f?-1:1,t||"y"===Q.lockedAxis)),(n.points||Ce(n)&&W(n[0]))&&(e.linkedProps=d+","+J,e.radius=n.radius))),Q.isThrowing=!0,i=isNaN(p.overshootTolerance)?1===p.edgeResistance?0:1-Q.edgeResistance+.2:p.overshootTolerance,e.duration||(e.duration={max:Math.max(p.minDuration||0,"maxDuration"in p?p.maxDuration:2),min:isNaN(p.minDuration)?0===i||W(e)&&1e3<e.resistance?0:.5:p.minDuration,overshoot:i}),Q.tween=r=ge.to(f||h,{inertia:e,data:"_draggable",onComplete:uh,onInterrupt:vh,onUpdate:p.fastMode?Ma:qh,onUpdateParams:p.fastMode?[Q,"onthrowupdate","onThrowUpdate"]:n&&n.radius?[!1,!0]:[]}),p.fastMode||(f&&(f._skip=!0),r.render(1e9,!0,!0),qh(!0,!0),Q.endX=Q.x,Q.endY=Q.y,z&&(Q.endRotation=Q.x),r.play(0),qh(!0,!0),f&&(f._skip=!1))):D&&Q.applyBounds()}function xh(e){var t,n=B;B=getGlobalMatrix(h.parentNode,!0),e&&Q.isPressed&&!B.equals(n||new fe)&&(t=n.inverse().apply({x:w,y:b}),B.apply(t,t),w=t.x,b=t.y),B.equals(a)&&(B=null)}function yh(){var e,t,n,o=1-Q.edgeResistance,r=se?Ca(ce):0,i=se?Ba(ce):0;xh(!1),We.x=Q.pointerX-r,We.y=Q.pointerY-i,B&&B.apply(We,We),w=We.x,b=We.y,k&&(ue(Q.pointerX,Q.pointerY),ph(!0)),f?(th(),T=f.top(),M=f.left()):(de()?(qh(!0,!0),th()):Q.applyBounds(),z?(e=h.ownerSVGElement?[le.xOrigin-h.getBBox().x,le.yOrigin-h.getBBox().y]:(Ja(h)[_e]||"0 0").split(" "),C=Q.rotationOrigin=getGlobalMatrix(h).apply({x:parseFloat(e[0])||0,y:parseFloat(e[1])||0}),qh(!0,!0),t=Q.pointerX-C.x-r,n=C.y-Q.pointerY+i,M=Q.x,T=Q.y=Math.atan2(n,t)*ke):(T=Jg(J,"px"),M=Jg(d,"px"))),D&&o&&(E<M?M=E+(M-E)/o:M<S&&(M=S-(S-M)/o),z||(L<T?T=L+(T-L)/o:T<Y&&(T=Y-(Y-T)/o))),Q.startX=M=_(M),Q.startY=T=_(T)}function Ah(){!ye.parentNode||de()||Q.isDragging||ye.parentNode.removeChild(ye)}function Bh(e,t){var n;if(!u||Q.isPressed||!e||!("mousedown"!==e.type&&"pointerdown"!==e.type||t)&&Pe()-ae<30&&Te[Q.pointerEvent.type])G&&e&&u&&xa(e);else{if(O=de(),Q.pointerEvent=e,Te[e.type]?(y=~e.type.indexOf("touch")?e.currentTarget||e.target:ce,va(y,"touchend",he),va(y,"touchmove",pe),va(y,"touchcancel",he),va(ce,"touchstart",Aa)):(y=null,va(ce,"mousemove",pe)),H=null,Ye&&y||(va(ce,"mouseup",he),e&&e.target&&va(e.target,"mouseup",he)),m=ie.call(Q,e.target)&&!1===p.dragClickables&&!t)return va(e.target,"change",he),Ma(Q,"pressInit","onPressInit"),Ma(Q,"press","onPress"),Sa(Z,!0),void(G=!1);if(A=!(!y||K==U||!1===Q.vars.allowNativeTouchScrolling||Q.vars.allowContextMenu&&e&&(e.ctrlKey||2<e.which))&&(K?"y":"x"),(G=!A&&!Q.allowEventDefault)&&(xa(e),va(xe,"touchforcechange",xa)),e.changedTouches?(e=x=e.changedTouches[0],v=e.identifier):e.pointerId?v=e.pointerId:x=v=null,De++,function _addToRenderQueue(e){Re.push(e),1===Re.length&&ge.ticker.add(qa)}(ph),b=Q.pointerY=e.pageY,w=Q.pointerX=e.pageX,Ma(Q,"pressInit","onPressInit"),(A||Q.autoScroll)&&Ha(h.parentNode),!h.parentNode||!Q.autoScroll||f||z||!h.parentNode._gsMaxScrollX||ye.parentNode||h.getBBox||(ye.style.width=h.parentNode.scrollWidth+"px",h.parentNode.appendChild(ye)),yh(),Q.tween&&Q.tween.kill(),Q.isThrowing=!1,ge.killTweensOf(f||h,o,!0),f&&ge.killTweensOf(h,{scrollTo:1},!0),Q.tween=Q.lockedAxis=null,!p.zIndexBoost&&(z||f||!1===p.zIndexBoost)||(h.style.zIndex=Draggable.zIndex++),Q.isPressed=!0,g=!(!p.onDrag&&!Q._listeners.drag),s=!(!p.onMove&&!Q._listeners.move),!z&&(!1!==p.cursor||p.activeCursor))for(n=Z.length;-1<--n;)ge.set(Z[n],{cursor:p.activeCursor||p.cursor||("grab"===Le?"grabbing":Le)});Ma(Q,"press","onPress")}}function Fh(e){if(e&&Q.isDragging&&!f){var t=e.target||h.parentNode,n=t.scrollLeft-t._gsScrollX,o=t.scrollTop-t._gsScrollY;(n||o)&&(B?(w-=n*B.a+o*B.c,b-=o*B.d+n*B.b):(w-=n,b-=o),t._gsScrollX+=n,t._gsScrollY+=o,ue(Q.pointerX,Q.pointerY))}}function Gh(e){var t=Pe(),n=t-ae<40,o=t-$<40,r=n&&F===ae,i=Q.pointerEvent&&Q.pointerEvent.defaultPrevented,a=n&&c===ae,l=e.isTrusted||null==e.isTrusted&&n&&r;if((r||o&&!1!==Q.vars.suppressClickOnDrag)&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),n&&(!Q.pointerEvent||!Q.pointerEvent.defaultPrevented)&&(!r||l&&!a))return l&&r&&(c=ae),void(F=ae);(Q.isPressed||o||n)&&(l&&e.detail&&n&&!i||xa(e)),n||o||(e&&e.target&&(Q.pointerEvent=e),Ma(Q,"click","onClick"))}function Hh(e){return B?{x:e.x*B.a+e.y*B.c+B.e,y:e.x*B.b+e.y*B.d+B.f}:{x:e.x,y:e.y}}var u,f,w,b,M,T,D,g,s,E,S,L,Y,x,v,C,k,t,N,P,R,m,y,B,O,A,H,I,F,c,G,n=(p.type||"x,y").toLowerCase(),q=~n.indexOf("x")||~n.indexOf("y"),z=-1!==n.indexOf("rotation"),d=z?"rotation":q?"x":"left",J=q?"y":"top",K=!(!~n.indexOf("x")&&!~n.indexOf("left")&&"scroll"!==n),U=!(!~n.indexOf("y")&&!~n.indexOf("top")&&"scroll"!==n),j=p.minimumMovement||2,Q=function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),Z=be(p.trigger||p.handle||h),o={},$=0,ee=!1,te=p.autoScrollMarginTop||40,ne=p.autoScrollMarginRight||40,oe=p.autoScrollMarginBottom||40,re=p.autoScrollMarginLeft||40,ie=p.clickableTest||Ra,ae=0,le=h._gsap||ge.core.getCache(h),se=function _isFixed(e){return"fixed"===Ja(e).position||((e=e.parentNode)&&1===e.nodeType?_isFixed(e):void 0)}(h),ce=h.ownerDocument||ve,de=function isTweening(){return Q.tween&&Q.tween.isActive()},pe=function onMove(e){var t,n,o,r,i,a,l=e;if(u&&!Ee&&Q.isPressed&&e){if(t=(Q.pointerEvent=e).changedTouches){if((e=t[0])!==x&&e.identifier!==v){for(r=t.length;-1<--r&&(e=t[r]).identifier!==v&&e.target!==h;);if(r<0)return}}else if(e.pointerId&&v&&e.pointerId!==v)return;y&&A&&!H&&(We.x=e.pageX,We.y=e.pageY,B&&B.apply(We,We),n=We.x,o=We.y,((i=Math.abs(n-w))!==(a=Math.abs(o-b))&&(j<i||j<a)||Xe&&A===H)&&(H=a<i&&K?"x":"y",A&&H!==A&&va(xe,"touchforcechange",xa),!1!==Q.vars.lockAxisOnTouchScroll&&K&&U&&(Q.lockedAxis="x"===H?"y":"x",V(Q.vars.onLockAxis)&&Q.vars.onLockAxis.call(Q,l)),Xe&&A===H))?he(l):(G=Q.allowEventDefault||A&&(!H||A===H)||!1===l.cancelable?G&&!1:(xa(l),!0),Q.autoScroll&&(ee=!0),ue(e.pageX,e.pageY,s))}else G&&e&&u&&xa(e)},ue=function setPointerPosition(e,t,n){var o,r,i,a,l,s,c=1-Q.dragResistance,d=1-Q.edgeResistance,p=Q.pointerX,u=Q.pointerY,h=T,f=Q.x,g=Q.y,x=Q.endX,v=Q.endY,m=Q.endRotation,y=k;Q.pointerX=e,Q.pointerY=t,se&&(e-=Ca(ce),t-=Ba(ce)),z?(a=Math.atan2(C.y-t,e-C.x)*ke,180<(l=Q.y-a)?(T-=360,Q.y=a):l<-180&&(T+=360,Q.y=a),i=Q.x!==M||Math.abs(T-a)>j?(Q.y=a,M+(T-a)*c):M):(B&&(s=e*B.a+t*B.c+B.e,t=e*B.b+t*B.d+B.f,e=s),(r=t-b)<j&&-j<r&&(r=0),(o=e-w)<j&&-j<o&&(o=0),(Q.lockAxis||Q.lockedAxis)&&(o||r)&&((s=Q.lockedAxis)||(Q.lockedAxis=s=K&&Math.abs(o)>Math.abs(r)?"y":U?"x":null,s&&V(Q.vars.onLockAxis)&&Q.vars.onLockAxis.call(Q,Q.pointerEvent)),"y"===s?r=0:"x"===s&&(o=0)),i=_(M+o*c),a=_(T+r*c)),(N||P||R)&&(Q.x!==i||Q.y!==a&&!z)?(R&&(He.x=i,He.y=a,s=R(He),i=_(s.x),a=_(s.y)),N&&(i=_(N(i))),P&&(a=_(P(a)))):D&&(E<i?i=E+Math.round((i-E)*d):i<S&&(i=S+Math.round((i-S)*d)),z||(L<a?a=Math.round(L+(a-L)*d):a<Y&&(a=Math.round(Y+(a-Y)*d)))),Q.x===i&&(Q.y===a||z)||(z?(Q.endRotation=Q.x=Q.endX=i,k=!0):(U&&(Q.y=Q.endY=a,k=!0),K&&(Q.x=Q.endX=i,k=!0)),n&&!1===Ma(Q,"move","onMove")?(Q.pointerX=p,Q.pointerY=u,T=h,Q.x=f,Q.y=g,Q.endX=x,Q.endY=v,Q.endRotation=m,k=y):!Q.isDragging&&Q.isPressed&&(Q.isDragging=!0,Ma(Q,"dragstart","onDragStart")))},he=function onRelease(e,t){if(u&&Q.isPressed&&(!e||null==v||t||!(e.pointerId&&e.pointerId!==v&&e.target!==h||e.changedTouches&&!function _hasTouchID(e,t){for(var n=e.length;n--;)if(e[n].identifier===t)return!0}(e.changedTouches,v)))){Q.isPressed=!1;var n,o,r,i,a,l=e,s=Q.isDragging,c=Q.vars.allowContextMenu&&e&&(e.ctrlKey||2<e.which),d=ge.delayedCall(.001,Ah);if(y?(wa(y,"touchend",onRelease),wa(y,"touchmove",pe),wa(y,"touchcancel",onRelease),wa(ce,"touchstart",Aa)):wa(ce,"mousemove",pe),wa(xe,"touchforcechange",xa),Ye&&y||(wa(ce,"mouseup",onRelease),e&&e.target&&wa(e.target,"mouseup",onRelease)),k=!1,s&&($=Ae=Pe(),Q.isDragging=!1),m&&!c)return e&&(wa(e.target,"change",onRelease),Q.pointerEvent=l),Sa(Z,!1),Ma(Q,"release","onRelease"),Ma(Q,"click","onClick"),void(m=!1);if(ta(ph),!z)for(o=Z.length;-1<--o;)Ia(Z[o],"cursor",p.cursor||(!1!==p.cursor?Le:null));if(De--,e){if((n=e.changedTouches)&&(e=n[0])!==x&&e.identifier!==v){for(o=n.length;-1<--o&&(e=n[o]).identifier!==v&&e.target!==h;);if(o<0)return}Q.pointerEvent=l,Q.pointerX=e.pageX,Q.pointerY=e.pageY}return c&&l?(xa(l),G=!0,Ma(Q,"release","onRelease")):l&&!s?(G=!1,O&&(p.snap||p.bounds)&&wh(p.inertia||p.throwProps),Ma(Q,"release","onRelease"),Xe&&"touchmove"===l.type||-1!==l.type.indexOf("cancel")||(Ma(Q,"click","onClick"),Pe()-ae<300&&Ma(Q,"doubleclick","onDoubleClick"),i=l.target||h,ae=Pe(),a=function syntheticClick(){ae===F||!Q.enabled()||Q.isPressed||l.defaultPrevented||(i.click?i.click():ce.createEvent&&((r=ce.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,xe,1,Q.pointerEvent.screenX,Q.pointerEvent.screenY,Q.pointerX,Q.pointerY,!1,!1,!1,!1,0,null),i.dispatchEvent(r)))},Xe||l.defaultPrevented||ge.delayedCall(.05,a))):(wh(p.inertia||p.throwProps),Q.allowEventDefault||!l||!1===p.dragClickables&&ie.call(Q,l.target)||!s||A&&(!H||A!==H)||!1===l.cancelable?G=!1:(G=!0,xa(l)),Ma(Q,"release","onRelease")),de()&&d.duration(Q.tween.duration()),s&&Ma(Q,"dragend","onDragEnd"),!0}G&&e&&u&&xa(e)};return(t=Draggable.get(h))&&t.kill(),e.startDrag=function(e,t){var n,o,r,i;Bh(e||Q.pointerEvent,!0),t&&!Q.hitTest(e||Q.pointerEvent)&&(n=La(e||Q.pointerEvent),o=La(h),r=Hh({x:n.left+n.width/2,y:n.top+n.height/2}),i=Hh({x:o.left+o.width/2,y:o.top+o.height/2}),w-=r.x-i.x,b-=r.y-i.y),Q.isDragging||(Q.isDragging=!0,Ma(Q,"dragstart","onDragStart"))},e.drag=pe,e.endDrag=function(e){return he(e||Q.pointerEvent,!0)},e.timeSinceDrag=function(){return Q.isDragging?0:(Pe()-$)/1e3},e.timeSinceClick=function(){return(Pe()-ae)/1e3},e.hitTest=function(e,t){return Draggable.hitTest(Q.target,e,t)},e.getDirection=function(e,t){var n,o,r,i,a,l,s="velocity"===e&&Se?e:W(e)&&!z?"element":"start";return"element"===s&&(a=La(Q.target),l=La(e)),n="start"===s?Q.x-M:"velocity"===s?Se.getVelocity(h,d):a.left+a.width/2-(l.left+l.width/2),z?n<0?"counter-clockwise":"clockwise":(t=t||2,o="start"===s?Q.y-T:"velocity"===s?Se.getVelocity(h,J):a.top+a.height/2-(l.top+l.height/2),i=(r=Math.abs(n/o))<1/t?"":n<0?"left":"right",r<t&&(""!==i&&(i+="-"),i+=o<0?"up":"down"),i)},e.applyBounds=function(e,t){var n,o,r,i,a,l;if(e&&p.bounds!==e)return p.bounds=e,Q.update(!0,t);if(qh(!0),th(),D&&!de()){if(n=Q.x,o=Q.y,E<n?n=E:n<S&&(n=S),L<o?o=L:o<Y&&(o=Y),(Q.x!==n||Q.y!==o)&&(r=!0,Q.x=Q.endX=n,z?Q.endRotation=n:Q.y=Q.endY=o,ph(k=!0),Q.autoScroll&&!Q.isDragging))for(Ha(h.parentNode),i=h,Ie.scrollTop=null!=xe.pageYOffset?xe.pageYOffset:null!=ce.documentElement.scrollTop?ce.documentElement.scrollTop:ce.body.scrollTop,Ie.scrollLeft=null!=xe.pageXOffset?xe.pageXOffset:null!=ce.documentElement.scrollLeft?ce.documentElement.scrollLeft:ce.body.scrollLeft;i&&!l;)a=(l=Fe(i.parentNode))?Ie:i.parentNode,U&&a.scrollTop>a._gsMaxScrollY&&(a.scrollTop=a._gsMaxScrollY),K&&a.scrollLeft>a._gsMaxScrollX&&(a.scrollLeft=a._gsMaxScrollX),i=a;Q.isThrowing&&(r||Q.endX>E||Q.endX<S||Q.endY>L||Q.endY<Y)&&wh(p.inertia||p.throwProps,r)}return Q},e.update=function(e,t,n){var o=Q.x,r=Q.y;return xh(!t),e?Q.applyBounds():(k&&n&&ph(!0),qh(!0)),t&&(ue(Q.pointerX,Q.pointerY),k&&ph(!0)),Q.isPressed&&!t&&(K&&.01<Math.abs(o-Q.x)||U&&.01<Math.abs(r-Q.y)&&!z)&&yh(),Q.autoScroll&&(Ha(h.parentNode,Q.isDragging),ee=Q.isDragging,ph(!0),Ea(h,Fh),Da(h,Fh)),Q},e.enable=function(e){var t,n,o,r={lazy:!0};if(z||!1===p.cursor||(r.cursor=p.cursor||Le),ge.utils.checkPrefix("touchCallout")&&(r.touchCallout="none"),"soft"!==e){for(pa(Z,K==U?"none":p.allowNativeTouchScrolling&&h.scrollHeight===h.clientHeight==(h.scrollWidth===h.clientHeight)||p.allowEventDefault?"manipulation":K?"pan-y":"pan-x"),n=Z.length;-1<--n;)o=Z[n],Ye||va(o,"mousedown",Bh),va(o,"touchstart",Bh),va(o,"click",Gh,!0),ge.set(o,r),o.getBBox&&o.ownerSVGElement&&ge.set(o.ownerSVGElement,{touchAction:K==U?"none":p.allowNativeTouchScrolling||p.allowEventDefault?"manipulation":K?"pan-y":"pan-x"}),p.allowContextMenu||va(o,"contextmenu",oh);Sa(Z,!1)}return Da(h,Fh),u=!0,Se&&"soft"!==e&&Se.track(f||h,q?"x,y":z?"rotation":"top,left"),h._gsDragID=t="d"+Oe++,Be[t]=Q,f&&(f.enable(),f.element._gsDragID=t),(p.bounds||z)&&yh(),p.bounds&&Q.applyBounds(),Q},e.disable=function(e){var t,n,o=Q.isDragging;if(!z)for(t=Z.length;-1<--t;)Ia(Z[t],"cursor",null);if("soft"!==e){for(pa(Z,null),t=Z.length;-1<--t;)n=Z[t],Ia(n,"touchCallout",null),wa(n,"mousedown",Bh),wa(n,"touchstart",Bh),wa(n,"click",Gh),wa(n,"contextmenu",oh);Sa(Z,!0),y&&(wa(y,"touchcancel",he),wa(y,"touchend",he),wa(y,"touchmove",pe)),wa(ce,"mouseup",he),wa(ce,"mousemove",pe)}return Ea(h,Fh),u=!1,Se&&"soft"!==e&&Se.untrack(f||h,q?"x,y":z?"rotation":"top,left"),f&&f.disable(),ta(ph),Q.isDragging=Q.isPressed=m=!1,o&&Ma(Q,"dragend","onDragEnd"),Q},e.enabled=function(e,t){return arguments.length?e?Q.enable(t):Q.disable(t):u},e.kill=function(){return Q.isThrowing=!1,Q.tween&&Q.tween.kill(),Q.disable(),ge.set(Z,{clearProps:"userSelect"}),delete Be[h._gsDragID],Q},~n.indexOf("scroll")&&(f=e.scrollProxy=new Wa(h,function _extend(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}({onKill:function onKill(){Q.isPressed&&he(null)}},p)),h.style.overflowY=U&&!Me?"auto":"hidden",h.style.overflowX=K&&!Me?"auto":"hidden",h=f.content),z?o.rotation=1:(K&&(o[d]=1),U&&(o[J]=1)),le.force3D=!("force3D"in p)||p.force3D,e.enable(),e}!function _setDefaults(e,t){for(var n in t)n in e||(e[n]=t[n])}(I.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1}),I.zIndex=1e3,I.version="3.6.1",U()&&ge.registerPlugin(I),e.Draggable=I,e.default=I;if(typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})}else{delete e.default}});!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");var IrisProgress={leftTween:null,widthTween1:null,widthTween2:null,loopAnimation:!0,isIndeterminate:!1,show:function(parentShell,callback){var _this=this,preload=Iris.DOM.find('.preload',parentShell);this.reset(parentShell);if(typeof callback=='function')
callback();this.loopAnimation=!0;this.isIndeterminate=!0;this.indeterminate_loop(_this,parentShell)},hide:function(parentShell,callback){var _this=this,preload=Iris.DOM.find('.preload',parentShell);this.loopAnimation=!1;this.isIndeterminate=!1;gsap.to(preload,1,{opacity:0,ease:Expo.easeIn,onComplete:function(){if(typeof callback=='function')
callback()}})},indeterminate_loop:function(_this,parentShell){var progress=Iris.DOM.find('.progress',parentShell);progress.style.left='-80%';progress.style.width='80%';_this.leftTween=gsap.to(progress,2.0,{left:'100%',ease:Expo.easeInOut,onComplete:function(){if(_this.loopAnimation){console.log('loopAnimation');_this.indeterminate_loop(_this,parentShell)}else{console.log('ending indeterminate loop')}}});_this.widthTween1=gsap.to(progress,1.0,{width:'80%',ease:Expo.easeInOut});_this.widthTween2=gsap.to(progress,1.0,{delay:1,width:'50%',ease:Expo.easeInOut})},reset:function(parentShell){var preload=Iris.DOM.find('.preload',parentShell),progress=Iris.DOM.find('.preload .progress',parentShell);preload.style.display='block';preload.style.height='3px'
Iris.DOM.style(preload,'opacity',1);progress.style.width='80%';progress.style.left='-80%;'},kill_tweens:function(_this){if(_this.leftTween!=null)
_this.leftTween.kill();if(_this.widthTween1!=null)
_this.widthTween1.kill();if(_this.widthTween2!=null)
_this.widthTween2.kill()}};Object.size=function(obj){var size=0,key;for(key in obj){if(obj.hasOwnProperty(key))size++}
return size};IrisUtil=(function(){return{log:function(message,showts,debug){var now=new Date(),ampm=(now.getHours()>12?'pm':'am'),datetime='',script='',method='',line='';if(window.location.hash){var debugHash=window.location.hash.split('#')[1];if(debugHash.indexOf('=')>-1){var debugVal=debugHash.split('=')[1];if(debugVal==='true'){if(window.console){if(debug!==undefined){var callerLine=new Error();if(callerLine.stack!=undefined&&callerLine.stack!=null){callerLine=callerLine.stack.split("\n");var logInfoRegex=/\s+(at)\s([a-zA-Z\._]+)*\s\(http:\/\/[A-Za-z]+\.[A-Za-z]+\.[A-Za-z]+\/[A-Za-z]+\/[A-Za-z]+\/([A-Za-z]+\.js):([0-9]+)/,logInfo=null;if(callerLine[3]!=undefined)logInfo=callerLine[3].match(logInfoRegex)}
if(logInfo!=undefined){script=(logInfo[2]==undefined?'':logInfo[3]);method=(logInfo[1]==undefined?'':logInfo[2]);line=(logInfo[3]==undefined?'':logInfo[4])}}
if(showts!==undefined){var currentdate=new Date();datetime=" @ "+
+(currentdate.getHours()>12?currentdate.getHours()-12:currentdate.getHours())+":"+(currentdate.getMinutes()<10?'0':'')+currentdate.getMinutes()+":"+(currentdate.getSeconds()<10?'0':'')+currentdate.getSeconds()+' '+(currentdate.getHours()>12?'pm':'am')}
if(typeof message=="string"){console.log(message+datetime+(script!==''?"\nscript: "+script:'')+(method!==''?', method: '+method:'')+(line!==''?', line: '+line:''))}
else{console.log(message)}
if(debug)console.log('')}}}}},str_pad:function(i,l,s){var o=i.toString();if(!s){s='0'}
while(o.length<l){o=s+o}
return o},unique_id:function(){var S4=function(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1)};return(S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4())},browser:function(){var UA=navigator.userAgent.toLowerCase(),matches=[],browserVersion=0,browserName='';matches=UA.match(/(edge\/[0-9\._]+)/ig);if(matches!==null){var version=matches[0].replace('edge/','');browserVersion=parseInt(version,10);browserName='msie'}else{matches=UA.match(/(trident\/[0-9\._]+)/ig);if(matches!==null){var emulationVers=matches[0].replace('trident/','');browserVersion=parseInt(emulationVers,10)+4;browserName='msie'}else{matches=UA.match(/(chrome\/[0-9\._]+)/ig);if(matches!==null){var emulationVers=matches[0].replace('chrome/','');browserVersion=parseInt(emulationVers,10);browserName='chrome'}else{matches=UA.match(/(safari\/[0-9\._]+)/ig);if(matches!==null){var emulationVers=matches[0].replace('safari/','');browserVersion=parseInt(emulationVers,10);browserName='safari'}else{matches=UA.match(/(firefox\/[0-9\._]+)/ig);if(matches!==null){var emulationVers=matches[0].replace('firefox/','');browserVersion=parseInt(emulationVers,10);browserName='firefox'}else{browserVersion=100;browserName='unknown'}}}}}
return{browser:browserName,version:browserVersion}},os:function(){var osRegex=new RegExp("(([a-zA-Z0-9 \.]+);* ([a-zA-Z ]+)([0-9_\.]+)([\) ;]).([a-zA-Z; ]+))");var OSInfo=navigator.userAgent.match(osRegex);if(OSInfo!==null){OSInfo.splice(0,2);OSInfo.splice(1,1);OSInfo.splice(2,2);var OS=OSInfo[0].toLowerCase().split(' ').slice(0,1).join(''),OSVersion=OSInfo[1].replace(new RegExp('_','g'),'.'),browserInfo=$pJQ._browser();switch(OS){case 'compatible':case 'windows':OS='windows';OSVersion=this.win_os_version();break}
return{os:{name:OS,version:parseFloat(OSVersion)},browser:{name:browserInfo.browser,version:parseFloat(browserInfo.version)}}}},windows_os:function(){if(window.navigator.userAgent.indexOf("Windows NT 6.2")!=-1)return "8";if(window.navigator.userAgent.indexOf("Windows NT 6.1")!=-1)return "7";if(window.navigator.userAgent.indexOf("Windows NT 6.0")!=-1)return "Vista";if(window.navigator.userAgent.indexOf("Windows NT 5.1")!=-1)return "XP";if(window.navigator.userAgent.indexOf("Windows NT 5.0")!=-1)return "2000"},eval_string:function(input){if(typeof(input)!="string")return input;try{var ret=Number(eval('(0+('+input+'))'));return isNaN(ret)?null:ret}catch(err){}
return input},array_merge:function(target,source){if(typeof target!=='object'){target={}}
for(var property in source){if(source.hasOwnProperty(property)){var sourceProperty=source[property];if(typeof sourceProperty==='object'){target[property]=util.merge(target[property],sourceProperty);continue}
target[property]=sourceProperty}}
for(var a=2,l=arguments.length;a<l;a++){merge(target,arguments[a])}
return target},extend:function(defaults,options){var extended={};var prop;for(prop in defaults){if(Object.prototype.hasOwnProperty.call(defaults,prop)){extended[prop]=defaults[prop]}}
for(prop in options){if(Object.prototype.hasOwnProperty.call(options,prop)){extended[prop]=options[prop]}}
return extended},in_array:function(needle,haystack){var length=haystack.length;for(var i=0;i<length;i++){if(haystack[i]==needle)return !0}
return !1},is_numeric:function(n){var timeRegex=/^[0-9]+:.[0-9]+$/ig;if(timeRegex.test(n))return !0;return !isNaN(+n)&&isFinite(n)},px_to_perc:function(pixelX){return(pixelX/window.innerWidth)*100},sprintf:function(format,number){var parts=format.match(/%([0-9]+)d/i);if(parts!=null){var padded=new Array(parseInt(parts[1],10)+1).join('0').split('');if(parts[1].charAt(0)=='0'){padded=padded.concat(new String(number).split(''));return padded.slice(-parseInt(parts[1],10)).join('')}else{var numArray=new String(number).split(''),numLen=new String(number).split('').length,sliceLen=parseInt(parts[1],10)-numLen;if(number<1){sliceLen=0;number=number*100;numArray=new String(number).split('');numLen=new String(number).split('').length}
numArray=numArray.concat(padded);return format.replace(parts[0],numArray.slice(0,(numLen+sliceLen)).join(''))}}else{return number}},mobile:function(){if(!IrisUtil.tablet()){return/Mobi/i.test(navigator.userAgent)}else{return !1}},tablet:function(){var osname=window.navigator.platform.toLowerCase();switch(osname){case 'ipad':return !0;break;case 'android':var screenWidthInInches=window.innerWidth/window.devicePixelRatio;var screenHeightInInches=window.innerHeight/window.devicePixelRatio;var maxInches=(screenWidthInInches>=screenHeightInInches)?screenWidthInInches:screenHeightInInches;return(maxInches>=7?!0:!1);break}
return !1},tablet_model:function(){var osname=window.navigator.platform.toLowerCase();switch(osname){case 'ipad':return 'ipad';break;case 'android':var screenWidthInInches=window.innerWidth/window.devicePixelRatio;var screenHeightInInches=window.innerHeight/window.devicePixelRatio;var maxInches=(screenWidthInInches>=screenHeightInInches)?screenWidthInInches:screenHeightInInches;return(maxInches>=7)?'android':!1;break}
return !1},device_orientation:function(){if(screen.orientation){if(screen.orientation.angle==90||screen.orientation.angle==-90||screen.orientation.angle==270){return 'landscape'}else{return 'portrait'}}
else if(window.orientation){if(window.orientation==90||window.orientation==-90||window.orientation==270){return 'landscape'}else{return 'portrait'}}}}})();IrisGA={load:function(callback){if(typeof ga=='object'){if(callback!=undefined)callback();return}
var hostname='google-analytics.com',protocol=(("https:"==document.location.protocol)?"https://ssl.":"http://www."),loaded=!1;js=document.createElement('script');js.setAttribute('type','text/javascript');js.setAttribute('src','https://www.'+hostname+'/analytics.js');document.body.appendChild(js);js.onreadystatechange=function(){if(js.readyState=='loaded'){if(!loaded){if(callback!=undefined)callback()}
loaded=!0}};js.onload=function(){if(!loaded){if(callback!=undefined)callback()}
loaded=!0}}};Date.prototype.time_days_between=function(checkDate){var one_day=1000*60*60*24;var date1_ms=this.getTime();var date2_ms=checkDate.getTime();var difference_ms=date2_ms-date1_ms;return Math.round(difference_ms/one_day)}
Date.prototype.time_hours_between=function(checkDate){var one_day=1000*60*60;var date1_ms=this.getTime();var date2_ms=checkDate.getTime();var difference_ms=date2_ms-date1_ms;return Math.round(difference_ms/one_day)}
Date.prototype.time_utc=function(offset){if(offset!=undefined){var UTC=this.getTime(),offsetMS=offset*3600000,camTime=UTC+offsetMS;this.setTime(camTime)}else{this.setTime(new Date().getTime())}};Date.prototype.time_unix=function(unixEpoch){this.setTime(unixEpoch*1000)};Date.prototype.time_format=function(formatString){var date=this;function convertDateString(str){var formattedString='',dateHour=date.getUTCHours();switch(str){case 'YYYY':formattedString+=date.getUTCFullYear();break;case 'MM':formattedString+=(date.getUTCMonth()>8?'':'0')+(date.getUTCMonth()+1);break;case 'DD':formattedString+=(date.getUTCDate()>9?'':'0')+date.getUTCDate();break;case 'hh':formattedString+=(dateHour>9?'':'0')+(dateHour>12?(dateHour-12):dateHour);break;case 'h':formattedString+=(dateHour>12?(dateHour-12):(dateHour==0?12:dateHour));break;case 'mm':formattedString+=(date.getUTCMinutes()>8?'':'0')+date.getUTCMinutes();break;case 'ss':formattedString+='00';break;case 'a':formattedString+=(dateHour>11?'pm':'am');break}
return formattedString}
var formatParts=formatString.split(' '),partsLength=formatParts.length,len=0,subpart,formattedParts=new Array(),formattedString=new Array();for(var i=0;i<partsLength;i++){if(formatParts[i].indexOf('-')!=-1){formattedParts=new Array();subpart=formatParts[i].split('-');len=subpart.length;for(var j=0;j<len;j++){formattedParts.push(convertDateString(subpart[j]))}
formattedString.push(formattedParts.join('-'))}else if(formatParts[i].indexOf(':')!=-1){formattedParts=new Array();subpart=formatParts[i].split(':');len=subpart.length;for(var j=0;j<len;j++){formattedParts.push(convertDateString(subpart[j]))}
formattedString.push(formattedParts.join(':'))}else{formattedString.push(convertDateString(formatParts[i]))}}
return formattedString.join(' ')};IrisTime=(function(){return{tz_hr_time:function(offset,unixEpoch,humanReadable){if(humanReadable==undefined)humanReadable=!1;var nowUTC=new Date(),imageUTC=new Date(),oneHour=60*60*1*1000;nowUTC.time_utc(offset);imageUTC.time_unix(unixEpoch);imageUTC.time_utc(offset);if((nowUTC-imageUTC)<oneHour&&humanReadable){var imageTime=new Date();imageTime.time_unix(parseInt(unixEpoch,10));imageTime.time_utc(offset);var secondsAgo=((nowUTC-imageUTC)/1000),minutesAgo=Math.floor(secondsAgo/60),hoursAgo=Math.floor(minutesAgo/60);if(minutesAgo>=60){minutesAgo-=hoursAgo*60}
var hrTimeString='';if(hoursAgo>0){hrTimeString=hoursAgo+" hour"+(hoursAgo>1?'s':'')+' '}
if(minutesAgo>10){hrTimeString+=minutesAgo+' '+(minutesAgo>10?'min':(minutesAgo>1?'min':'min'))+' '}else{hrTimeString='now'}
if(hoursAgo==0&&minutesAgo==0)
hrTimeString='now';return(hrTimeString==''?'':(hrTimeString=='now'?hrTimeString:hrTimeString+'ago'))}else{var imageTime=new Date();imageTime.time_unix(parseInt(unixEpoch,10));imageTime.time_utc(offset);let fixedTime=Math.ceil(parseInt(imageTime.time_format('mm'))/5)*5;if(fixedTime==60){imageTime=new Date(imageTime.getTime()+(3600*1000));fixedTime='00'}else if(fixedTime<10){fixedTime='0'+fixedTime}
return imageTime.time_format('h')+':'+fixedTime+imageTime.time_format('a')}
return !1},tz_offset:function(offset,unixEpoch){var UTC=new Date(unixEpoch*1000).getTime(),offsetMS=offset*3600000,camTime=UTC+offsetMS;var tzDate=new Date(camTime);return tzDate},convert_mysql_time:function(dateTime){if(dateTime!=undefined){var timeSplit=dateTime.split(/[- :]/),dateObj=new Date(timeSplit[0],timeSplit[1]-1,timeSplit[2],timeSplit[3],timeSplit[4],timeSplit[5]);return dateObj}
return new Date()},image_server_path:function(camTZOffset,imageInfo){var tzOffset=parseInt(camTZOffset,10),imageUnixEpoch=parseInt(imageInfo.time,10),tzDate=IrisTime.tz_offset(tzOffset,parseInt(imageUnixEpoch,10)),imageDate=IrisTime.convert_mysql_time(imageInfo.sql);return tzDate.time_format('YYYY')+'/'+tzDate.time_format('MM')+'/'+tzDate.time_format('DD')+'/'+imageInfo.hm},format_hr_time:function(hrTime){var hrTimeAry=[],hrTimeDesc=[];if(hrTime!==!1){if(hrTime.length>0){for(var i=0;i<hrTime.length;i++){if(!IrisUtil.is_numeric(hrTime[i])){hrTimeDesc.push(hrTime[i])}else{if(hrTimeDesc.length>0){hrTimeAry.push(hrTimeDesc.join(' ').toUpperCase());hrTimeDesc=[]}
hrTimeAry.push(hrTime[i])}}
if(hrTimeDesc.length>0){hrTimeAry.push(hrTimeDesc.join(' ').toUpperCase())}}}
return hrTimeAry}}})();window.hasOwnProperty=window.hasOwnProperty||Object.prototype.hasOwnProperty;if(typeof Element.elementWidth==='undefined'){if(!window.Object.hasOwnProperty('elementWidth')){window.Object.defineProperty(Element.prototype,'elementWidth',{get:function(){if(typeof this.clip!=="undefined"){return this.clip.width}else{if(this.style.pixelWidth){return this.style.pixelWidth}else{return this.offsetWidth}}},configurable:!0})}}
if(typeof Element.documentOffsetTop==='undefined'){if(!window.Object.hasOwnProperty('documentOffsetTop')){window.Object.defineProperty(Element.prototype,'documentOffsetTop',{get:function(){return this.offsetTop+(this.offsetParent?this.offsetParent.documentOffsetTop:0)},configurable:!0})}}
if(typeof Element.documentOffsetLeft==='undefined'){if(!window.Object.hasOwnProperty('documentOffsetLeft')){window.Object.defineProperty(Element.prototype,'documentOffsetLeft',{get:function(){return this.offsetLeft+(this.offsetParent?this.offsetParent.documentOffsetLeft:0)},configurable:!0})}}
if(typeof Element.documentOffset==='undefined'){if(!window.Object.hasOwnProperty('documentOffset')){window.Object.defineProperty(Element.prototype,'documentOffset',{get:function(){return{left:parseInt(this.documentOffsetLeft,10),top:parseInt(this.documentOffsetTop,10)}},configurable:!0})}}
if(typeof Element.insertAfter==='undefined'){if(!window.Object.hasOwnProperty('insertAfter')){window.Object.defineProperty(Element.prototype,'insertAfter',{set:function(referenceNode){return referenceNode.parentNode.insertBefore(this,referenceNode.nextSibling)},configurable:!0})}}
IrisDOM=(function(){var regexFilters=[/url|\(|\)/gi],cssCrossBrowser={opacity:[['-ms-filter',"progid:DXImageTransform.Microsoft.Alpha(Opacity={VALUE})",'%30d'],['filter','alpha(opacity={VALUE})','%03d'],['-moz-opacity','',''],['-khtml-opacity','',''],['opacity','','']]};var create_element,create_element_ie;create_element_ie=function(nodeName){return document.createElement("<"+nodeName+">")};create_element=function(nodeName){var node=document.createElement(nodeName);return node};return{init:function(DOM,images){},display:function(){},find:function(cssPath,parent,allElements){var searchParent=document,allElements=allElements||!1;if(parent!=undefined){if(typeof parent==='boolean'){allElements=parent}else{if(IrisDOM.is_dom(parent)){searchParent=parent}}}
var idRegex=new RegExp("^#[a-z0-9-_]+$","ig"),classRegex=/^(#|\.){1}[a-z0-9-_ \.#\[\]\'\=:]+$/ig
wildcardRegex=/\*/g,elements=[];if(classRegex.test(cssPath)){elements=searchParent.querySelectorAll(cssPath);if(elements.length>0){if(allElements!=undefined&&allElements==!0){return elements}else{return elements[0]}}else{return !1}}else if(wildcardRegex.test(cssPath)){var wildcardRemoved=cssPath.replace(/(\*|\-)/g,''),filteredPath='';if(idRegex.test(wildcardRemoved)){filteredPath=wildcardRemoved.replace('#','');elements=searchParent.querySelectorAll("[id^='"+filteredPath+"']")}else{filteredPath=wildcardRemoved.replace(/\./g,'');elements=searchParent.querySelectorAll("[class^='"+filteredPath+"']")}
if(elements.length==0)elements=!1;if(allElements!=undefined&&allElements==!0){return elements}else{return elements[0]}}else{elements=searchParent.querySelectorAll(cssPath);if(elements.length>0){if(allElements!=undefined&&allElements==!0){return elements}else{return elements[0]}}else{return !1}}
return !1},create_dom:function(nodeName){var node;try{node=create_element_ie(nodeName);create_dom=create_element_ie}catch(e){node=create_element(nodeName);create_dom=create_element}
return node},destroy_dom:function(cssPath){var element=cssPath;if(element==null||element==undefined)return !1;if(!IrisDOM.is_dom(element)){element=IrisDOM.find(cssPath);if(!IrisDOM.is_dom(element))return !1}
try{element.parentNode.removeChild(element);return !0}catch(e){element.removeNode(!0);return !0}
return !1},is_dom:function(elements){if(elements.length>1)
return elements[0]instanceof Element;return elements instanceof Element},within_dom:function(element,mouseXY){var eleLeft=element.documentOffsetLeft,eleTop=element.documentOffsetTop,eleWidth=parseInt(element.elementWidth),eleHeight=parseInt(element.style.height);if(mouseXY.clientX<eleLeft||mouseXY.clientX>(eleLeft+eleWidth)||mouseXY.clientY<eleTop||mouseXY.clientY>(eleTop+eleHeight)){return !1}
return !0},attr:function(el,attr,newValue){if(IrisDOM.is_dom(el)){if(newValue!=undefined){el.setAttribute(attr,newValue);return !0}else{var result=(el.getAttribute&&el.getAttribute(attr))||null;if(!result&&result!=undefined){var attrs=el.attributes;var length=attrs.length;for(var i=0;i<length;i++){if(attr[i]!==undefined){if(attr[i].nodeName===attr){result=attr[i].nodeValue}}}}
return result||!1}}},remove_attr:function(element,attr){element.removeAttribute(attr)},style:function(element,name,value){if(!IrisDOM.is_dom(element)){element=IrisDOM.find(element,!0);if(element.length!=undefined){if(!IrisDOM.is_dom(element[0]))return !1}
else{if(!IrisDOM.is_dom(element))return !1}}
if(element){if(name){if(typeof name=='object'){var cssStyles=name;for(var styleName in cssStyles){if(element.length!=undefined){for(var j=0;j<element.length;j++)
IrisDOM.set_css_style(element[j],styleName,cssStyles[styleName]);}else{IrisDOM.set_css_style(element,styleName,cssStyles[styleName])}}}else{if(value){if(element.length!=undefined){for(var j=0;j<element.length;j++)
IrisDOM.set_css_style(element[j],name,value);}else{IrisDOM.set_css_style(element,name,value)}}else{var filtered='',styleValue=element.style[name];for(var i=0;i<regexFilters.length;i++){filtered=styleValue.replace(regexFilters[i],'')}
return filtered}}}}},set_css_style:function(element,styleName,value){if(cssCrossBrowser.hasOwnProperty(styleName)){for(var i=0;i<cssCrossBrowser[styleName].length;i++){var formattedValue=IrisUtil.sprintf(cssCrossBrowser[styleName][i][2],value);if(cssCrossBrowser[styleName][i][1]==''){element.style[cssCrossBrowser[styleName][i][0]]=formattedValue}else{element.style[cssCrossBrowser[styleName][i][0]]=cssCrossBrowser[styleName][i][1].replace('{VALUE}',formattedValue)}}}else{element.style[styleName]=value}},add_class:function(cssPath,klass){var element=cssPath,classesString;if(!IrisDOM.is_dom(element))
element=IrisDOM.find(cssPath);classesString=element.className||"";if(classesString.indexOf(klass)===-1)
element.className+=(classesString===""?klass:" "+klass)},remove_class:function(cssPath,_class){var element=cssPath;if(!IrisDOM.is_dom(element)){element=IrisDOM.find(cssPath)}
if(element){var classes=element.className.split(" ");for(var i=0;i<classes.length;i++){if(classes[i]==_class){classes.splice(i,1);break}}
element.className=classes.join(" ")}else{}},replace:function(cssPath,value){var element=cssPath;if(!IrisDOM.is_dom(element)){element=IrisDOM.find(cssPath)}
if(element){element.innerHTML=value;return !0}
return !1},append:function(cssPath,value){var element=cssPath;if(IrisDOM.is_dom(element)===!1){element=IrisDOM.find(cssPath)}
if(element!=undefined&&element!=!1){element.insertAdjacentHTML('beforeend',value);return !0}
return !1},prepend:function(cssPath,value){var element=IrisDOM.find(cssPath);if(element!=undefined){element.insertAdjacentHTML('beforebegin',value);return !0}
return !1},image_sizes:function(elementWidth){var sizes={hires:0,lowres:0};if(elementWidth<1200){sizes.lowres='180'}else if(elementWidth>1200){sizes.lowres='360'}
if(elementWidth<=320){sizes.hires='180'}else if(elementWidth>320&&elementWidth<640){sizes.hires='360'}else if(elementWidth>640&&elementWidth<1280){sizes.hires='720'}else if(elementWidth>1280&&elementWidth<1921){sizes.hires='1080'}else{sizes.hires='3k'}
return sizes},viewport_orientation:function(){var orientation=window.orientation;if(orientation===undefined){if(document.documentElement.clientWidth>document.documentElement.clientHeight)orientation='landscape';else orientation='portrait'}
else if(orientation===0||orientation===180)orientation='portrait';else orientation='landscape';return orientation},viewport_scale:function(){var viewportScale=undefined;var viewportWidth=document.documentElement.clientWidth;if(screen.width>viewportWidth){return}
var orientation=IrisDOM.viewport_orientation();var screenWidth=screen.width;if(orientation==='portrait'){if(screen.width>screen.height)screenWidth=screen.height}
else{if(screen.width<screen.height)screenWidth=screen.height}
viewportScale=screenWidth/window.innerWidth;return viewportScale},viewport_size:function(){var e=window,a='inner';if(!('innerWidth' in window)){a='client';e=document.documentElement||document.body}
return{width:e[a+'Width'],height:e[a+'Height']}},scroll_top:function(){var doc=document.documentElement;var left=(window.pageXOffset||doc.scrollLeft)-(doc.clientLeft||0);var top=(window.pageYOffset||doc.scrollTop)-(doc.clientTop||0);return top},}})();IrisNet=(function(){var settings;settings={};return{init:function(){},ajax:function(url,options){if(!url){if(window.console){console.log("No Target URL is provided. URL : "+url)}
return-1}
var parameters='';var callback=!1;if(typeof options.callback==='function'){callback=options.callback}else if(typeof options.callback==='string'){callback=window[options.callback]}
if(options.data instanceof Object){for(key in options.data){if(parameters.length>0)parameters=parameters+'&';parameters=parameters+key+'='+options.data[key]}}else if(typeof options.data==='string'){parameters=parameters+options.data}
if(options.jsonp){var cbnum=Math.random().toString(16).slice(2);var script=document.createElement('script');if(parameters.length>0){parameters='?'+parameters+'&callback=cb'+cbnum}else{parameters='?callback=cb'+cbnum}
window['cb'+cbnum]=function(data){try{callback(data)}
finally{if(window.hasOwnProperty('delete')){delete window['cb'+cbnum]}else{window['cb'+cbnum]=null}
script.parentNode.removeChild(script)}}
script.src=url+parameters;document.body.appendChild(script)}else{var xmlhttp;if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest()}else{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}
if(!xmlhttp){if(window.console){console.log("XMLHTTP initiating is failed")}
return-2}
if(callback){xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){if(xmlhttp.status==200||xmlhttp.status==0){callback(xmlhttp.responseText)}else{if(window.console){console.log("XMLHTTP Response error : "+xmlhttp.statusText)}
return-4}}}}
try{if(options.isPost){xmlhttp.open("POST",url,!0);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.send(parameters)}else{xmlhttp.open("GET",url+'?'+parameters,!0);xmlhttp.send()}}catch(err){if(window.console){console.log("XMLHTTP Request error : "+err.message)}
return-3}}},display:function(){},refresh_display:function(){},reset_display:function(){},reset:function(){},destroy:function(){}}})();IrisEvent=(function(){var topics={},hOP=topics.hasOwnProperty;return{mobileEvents:{'click':'tap','mouseup':'touchend','mousedown':'touchstart','mousemove':'touchmove','resize':'gesturechange'},desktopEvents:{},dom_add:function(target,event,callback){if(Iris.Core!=undefined){if(Iris.Core.mobile){event=IrisEvent.mobileEvents[event]||event}}
if(typeof target=='string'){var lastPathPart=target.split(' ').slice(-1).pop(),elements;if(lastPathPart[0]=='.'||lastPathPart[0]!='#'){elements=Iris.DOM.find(target,!0)}else{elements=Iris.DOM.find(target)}
if(elements!==!1&&elements.length>0){for(var i=0;i<elements.length;i++){IrisEvent.dom_add(elements[i],event,callback)}}else{if(elements!==!1)
IrisEvent.dom_add(elements,event,callback)}}else{var eventName=target.addEventListener?event:'on'+event;if(event=='DOMContentLoaded'){eventName=target.addEventListener?event:'onreadystatechange'}
if(target.addEventListener){target.addEventListener(eventName,callback,!1)}else if(target.attachEvent){target.attachEvent(eventName,callback)}else{target[eventName]=callback}}},dom_remove:function(target,_event,callback){if(typeof target=='string'){var lastPathPart=target.split(' ').slice(-1).pop(),elements;if(lastPathPart[0]=='.'||lastPathPart[0]!='#'){elements=Iris.DOM.find(target,!0)}else{elements=Iris.DOM.find(target)}
if(elements!==!1&&elements.length>0){for(var i=0;i<elements.length;i++){IrisEvent.dom_remove(elements[i],_event,callback)}}else{if(elements!==!1)
IrisEvent.dom_remove(elements,_event,callback)}}else{var eventName=target.addEventListener?_event:'on'+_event;if(_event=='DOMContentLoaded'){eventName=target.addEventListener?_event:'onreadystatechange'}
if(target.removeEventListener){target.removeEventListener(eventName,callback,!1)}else if(target.detachEvent){target.detachEvent(eventName,callback)}}},subscribe:function(topic,listener){if(!hOP.call(topics,topic))topics[topic]=[];var index=topics[topic].push(listener)-1;return{remove:function(){delete topics[topic][index]}}},publish:function(topic,info){if(!hOP.call(topics,topic))return;topics[topic].forEach(function(item){item(info!=undefined?info:{})})},has_listener:function(element,_event){if(Iris.DOM.is_dom(element)){var listeners=Iris.DOM.attr(element,'data-listeners');if(listeners!==!1){if(listeners.indexOf(_event)===-1){return !1}else{return !0}}else{return !1}}
return !1},add_listener:function(element,_event){if(Iris.DOM.attr(element,'data-listeners')===!1){Iris.DOM.attr(element,'data-listeners',_event)}else{var listeners=Iris.DOM.attr(element,'data-listeners')||'';if(listeners!==!1)
listeners=listeners.split(' ');listeners.push(_event);Iris.DOM.attr(element,'data-listeners',listeners.join(' '))}},remove_listener:function(element,_event){if(Iris.DOM.is_dom(element)){var listeners=Iris.DOM.attr(element,'data-listeners').split(' ');if(listeners.length>0){for(var i=0;i<listeners.length;i++){if(listeners[i]==_event){listeners.splice(i,1);Iris.DOM.attr(element,'data-listeners',listeners.join(' '));return !1}}}}}}})();var IrisImage={loading:[],remaining:0,args:[],cancel_loading:function(){var totalLoading=this.loading.length;for(var i=0;i<totalLoading;i++){this.loading[i].src=""}},load_images:function(args,index){index=index||0;var _this=this,imgs=[];this.remaining=args.sources.length;this.args=args;var totalImages=args.sources.length;for(var i=0;i<totalImages;i++){this.load_image(args.sources[i],i)}},load_image:function(path,index){var _this=this,img=new Image();img.onerror=function(){if(typeof _this.args.singleComplete=="function"){if(_this.args.klass!=undefined)
_this.args.singleComplete(img.src,index,0,_this.args.klass);else _this.args.singleComplete(img.src,index,0)}
_this.remaining--;if(_this.remaining===0){if(typeof _this.args.onComplete=="function")
_this.args.onComplete(_this.args.sources)}};img.onload=function(){if(typeof _this.args.singleComplete=="function"){if(_this.args.klass!=undefined)
_this.args.singleComplete(img.src,index,1,_this.args.klass);else _this.args.singleComplete(img.src,index,1)}
_this.remaining--;if(_this.remaining===0){if(typeof _this.args.onComplete=="function")
_this.args.onComplete(_this.args.sources)}};img.src=path;_this.loading.push(img)}};if(typeof Promise.prototype.done!=='function'){Promise.prototype.done=function(onFulfilled,onRejected){var self=arguments.length?this.then.apply(this,arguments):this;self.then(null,function(err){setTimeout(function(){throw err},0)})}}
if(typeof Promise.prototype.fail!=='function'){Promise.prototype.fail=function(onRejected){return this.then(null,onRejected)}}
window.irisEvents=[];var Iris=function(params){Iris.prototype.iris="0.0.1";Iris.prototype.eventHandler={bindEvent:function(event,callback,targetElement){let events=event.split(" ");let len=events.length;for(let i=0;i<len;i++){if(events[i]==="tap"){targetElement.addEventListener('touchstart',this.tapHandler,!1);targetElement.addEventListener('touchmove',this.tapHandler,!1);targetElement.addEventListener('touchend',this.tapHandler,!1);window.irisEvents.push({type:events[i],_event:callback,target:targetElement})}else{this.unbindEvent(events[i],targetElement);targetElement.addEventListener(events[i],callback,!1);window.irisEvents.push({type:events[i],_event:callback,target:targetElement})}}},findEvent:function(_event){return window.irisEvents.filter(function(evt){return(evt.type===_event)},_event)[0]},unbindEvent:function(_event,targetElement){if(_event==="tap"){var foundEvent=this.findEvent('touchstart');if(foundEvent!==undefined)
targetElement.removeEventListener('touchstart',foundEvent._event,!1);foundEvent=this.findEvent('touchmove');if(foundEvent!==undefined)
targetElement.removeEventListener('touchmove',foundEvent._event,!1);foundEvent=this.findEvent('touchend');if(foundEvent!==undefined)
targetElement.removeEventListener('touchend',foundEvent._event,!1);window.irisEvents=window.irisEvents.filter(function(evt){return(evt.type!=='touchstart')},'touchstart');window.irisEvents=window.irisEvents.filter(function(evt){return(evt.type!=='touchmove')},'touchmove');window.irisEvents=window.irisEvents.filter(function(evt){return(evt.type!=='touchend')},'touchend')}else{var foundEvent=this.findEvent(_event);if(foundEvent!==undefined){targetElement.removeEventListener(_event,foundEvent._event,!1)}
window.irisEvents=window.irisEvents.filter(function(evt){return(evt.type!==_event)},_event)}},tapHandler:function(e){var elem=this;if(e.type==="touchstart"){let touchobj=e.changedTouches[0]
this.tapDrag=!1;this.startX=touchobj.pageX;this.tapStartTime=new Date().getTime()}
if(e.type==="touchmove"){let touchobj=e.changedTouches[0]
let startX=this.startX||0;let dist=Math.abs(touchobj.pageX-startX);if(dist>80){this.tapDrag=!0}}
if(e.type==='touchend'&&!this.tapDrag){if(new Date().getTime()-this.tapStartTime<150){console.log('tap detected');e.type='tap';var i=0,length=window.irisEvents.length;for(;i<length;i++){if(window.irisEvents[i].target===this){window.irisEvents[i]._event.apply(this,arguments);break}}}}}};params=params||!1;var selector,i=0,validDOM=!1;if(params!==!1){validDOM=(params.tagName?!0:!1);if(validDOM){selector=[params]}else{if(typeof params.match==="function"){if(params.match(/^#[a-z0-9\-]+$/ig)){selector=document.getElementById(params.slice(1));if(selector!==null)selector=[selector]}else{selector=document.querySelectorAll(params)}}}}
if(selector!==null&&selector!==undefined){Iris.prototype.length=selector.length;this.length=selector.length;for(;i<selector.length;i++){this[i]=selector[i]}}
return this};var iris=function(params){return new Iris(params)};if(!window.iris){window.iris=iris}(function(){window.iris.cookie=function(action,args){switch(action){case 'set':var d=new Date;value=(typeof args.value==="object"?JSON.stringify(args.value):args.value);path=args.path||'/';d.setTime(d.getTime()+24*60*60*1000*args.days);document.cookie=args.name+"="+value+";path="+path+";expires="+d.toGMTString();break;case 'get':var v=document.cookie.match('(^|;) ?'+args.name+'=([^;]*)(;|$)');v=v?v[2]:null;if(v!==null){try{return JSON.parse(v)}
catch(e){return v}}
return v;break;case 'delete':var d=new Date,path=args.path||'/';d.setTime(d.getTime()+24*60*60*1000*-1);document.cookie=args.name+"=;path="+path+";expires="+d.toGMTString()}};iris.fn=Iris.prototype={length:0,iris:"0.0.1",startX:0,tapDrag:!1,tapStartTime:0,}})();(function(){window.iris.cssPrefix=function(){var styles=window.getComputedStyle(document.documentElement,''),pre=(Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/)||(styles.OLink===''&&['','o']))[1],dom=('WebKit|Moz|MS|O').match(new RegExp('('+pre+')','i'))[1];return{dom:dom,lowercase:pre,css:'-'+pre+'-',js:pre[0].toUpperCase()+pre.substr(1)}};function stripAndCollapse(value){var tokens=value.match(/[^\x20\t\r\n\f]+/g)||[];return tokens.join(" ")}
function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}
iris.fn=Iris.prototype={width:function(){var widths=[parseInt(window.getComputedStyle(this[0]).width,10),this[0].offsetWidth,this[0].clientWidth];widths.sort(function(a,b){return b-a});return widths[0]},each:function(callback){var length,i=0;length=this.length;for(i=0;i<length;i++){callback(this[i],i)}
return this},remove:function(){var length,i=0;length=this.length;for(;i<length;i++){this[i].parentNode.removeChild(this[i])}
return this},css:function(styles,value){var doPrefix=['animation','filter','transform','opacity'],cssPrefix=iris.cssPrefix(),length,i=0;length=this.length;if(length>0){if(typeof styles==="object"){if(Array.isArray(styles)===!0){return this}
for(;i<length;i++){for(var property in styles){if(styles[property]===''){if(this[i].style.removeProperty){this[i].style.removeProperty(property)}else{this[i].style.removeAttribute(property)}}else{this[i].style[property]=styles[property]}}}}else if(typeof styles==="string"){if(typeof value==="string"){for(;i<length;i++){if(this[i]&&this[i].style){if(value===''){if(this[i].style.removeProperty){this[i].style.removeProperty(styles)}else{this[i].style.removeAttribute(styles)}}else{this[i].style[styles]=value}}}}else if(typeof value==="undefined"){if(this.length>0)
return this[0].style[styles]}}}
return this},hasClass:function(selector){var className,elem,i=0;className=" "+selector+" ";while((elem=this[i++])){if(elem.nodeType===1&&(" "+stripAndCollapse(getClass(elem))+" ").indexOf(className)>-1){return !0}}
return !1},addClass:function(klass){var length,i=0;length=this.length;for(;i<length;i++){if(!iris(this[i]).hasClass(klass)){this[i].className=(this[i].className.trim()!=''?this[i].className.trim()+' '+klass:klass)}}
return this},removeClass:function(klass){var length,i=0;length=this.length;for(;i<length;i++){if(iris(this[i]).hasClass(klass)){this[i].className=this[i].className.replace(new RegExp('\\b'+klass+'\\b','g'),'')}}
return this},attr:function(attrName,attrValue){var length,i=0;length=this.length;if(typeof attrName==="object"){if(Array.isArray(attrName)===!0){return this}
for(;i<length;i++){for(var property in attrName)
this[i].setAttribute(property,attrName[property])}}else if(typeof attrName==="string"){if(typeof attrValue==="string"||typeof attrValue==="number"){for(;i<length;i++){this[i].setAttribute(attrName,attrValue)}}else{if(iris(this[i]).hasAttr(attrName)){return this[i].getAttribute(attrName)}else{return !1}}}
return this},hasAttr:function(attrName){if(this.length>0)
return this[0].hasAttribute(attrName);return !1},insertBefore:function(value){var length,i=0;length=this.length;for(;i<length;i++){this[i].insertAdjacentHTML('beforebegin',value)}
return this},prepend:function(value){var length,i=0;length=this.length;for(;i<length;i++){this[i].insertAdjacentHTML('afterbegin',value)}
return this},append:function(value){var length,i=0;length=this.length;for(;i<length;i++){this[i].insertAdjacentHTML('beforeend',value)}
return this},insertAfter:function(value){var length,i=0;length=this.length;for(;i<length;i++){this[i].insertAdjacentHTML('afterend',value)}
return this},html:function(value){value=value||null;var length,i=0;length=this.length;for(;i<length;i++){if(value===null){return this[i].innerHTML}else{if(typeof value==='string')
this[i].innerHTML=value}}
return this},empty:function(){var length,i=0;length=this.length;for(;i<length;i++){while(this[i].firstChild){this[i].removeChild(this[i].firstChild)}}
return this},hide:function(){var len=this.length;while(len--){this[len].style.display='none'}
return this},show:function(){var len=this.length;while(len--){this[len].style.display='block'}
return this},height:function(){var style=window.getComputedStyle?getComputedStyle(this[0],null):this[0].currentStyle;var marginTop=parseInt(style.marginTop)||0,marginBottom=parseInt(style.marginBottom)||0;return(this[0].offsetHeight+marginTop+marginBottom)},offset:function(){var rect=this[0].getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft}},children:function(params){if(this.length>0&&typeof this[0]!=='undefined'){if(params&&typeof params==='string'){let selector=this[0].querySelectorAll(params);let i=0;Iris.prototype.length=0;this.length=0;if(selector!==null&&selector!==undefined){Iris.prototype.length=selector.length;this.length=selector.length;for(;i<selector.length;i++){this[i]=selector[i]}}}}
return this},on:function(evt,callback){var length,i=0;length=this.length;for(;i<length;i++){this.eventHandler.bindEvent(evt,callback,this[i])}},off:function(evt){var length,i=0;length=this.length;for(;i<length;i++){this.eventHandler.unbindEvent(evt,this[i])}}}})();var ImagePreloader;(function(){ImagePreloader=function(syncLoadCount){this.maxLoad=syncLoadCount;this.images=[];this.promises=[];this.loaded=0;this.active=0;this.completeCallback}
ImagePreloader.prototype.queue=function(array,callback){this.images=array;this.totalImages=array.length;this.completeCallback=callback||function(){}};ImagePreloader.prototype.loadSuccess=function(resolve){var _this=this;this.active--;resolve();if(this.promises.length!==this.totalImages){this.preload()}};ImagePreloader.prototype.loadError=function(resolve){var _this=this;this.active--;resolve();if(this.promises.length!==this.totalImages){this.preload()}};ImagePreloader.prototype.preloadImage=function(path){var ip=this;return new Promise(function(resolve,reject){var image=new Image();image.onload=function(){ip.loadSuccess(resolve)};image.onerror=function(){ip.loadSuccess(resolve)};image.src=path})};ImagePreloader.prototype.preload=function(){var _this=this;if(!('Promise' in window)){return}
var i=0,max=this.maxLoad;for(;i<this.totalImages;i++){if(this.images[i].indexOf('.jpg')!==-1){if(this.images[i]!==''&&this.active!==max){this.promises.push(this.preloadImage(window.location.protocol+this.images[i]));this.images[i]='';this.active++}
if(this.promises.length==this.totalImages){window.end=new Date();Promise.all(this.promises).then(function(){_this.completeCallback()}).catch(function(err){});break}}}};window.iris.preload=function(images){var ip=new ImagePreloader(5);ip.queue(images,function(){Violet.Event.publish('timelapseImagesLoaded',{'images':images})});ip.preload()}})();(function(){window.iris.ajax=function(url,payload,method){return new Promise(function(resolve,reject){if(url.slice(0,2)==='//'){var cbnum=Math.random().toString(16).slice(2),script=document.createElement('script');window['cb'+cbnum]=function(data){try{resolve(data)}
finally{if(window.hasOwnProperty('delete')){delete window['cb'+cbnum]}else{window['cb'+cbnum]=null}
script.parentNode.removeChild(script)}}
url+='&callback=cb'+cbnum;script.src=url;script.addEventListener('error',reject)
document.body.appendChild(script)}else{var request=new XMLHttpRequest();method=method.toUpperCase();request.onreadystatechange=function(){if(request.readyState===XMLHttpRequest.DONE){var data={};if(request.status===200||request.status===0){var validJSON=!0,JSONSize=0,response='';try{response=JSON.parse(request.responseText)}catch(e){validJSON=!1}
if(validJSON)JSONSize=Object.keys(response).length;if(JSONSize===0)response=request.responseText;data={'data':response,'status':request.status,'statusText':request.statusText}
resolve(data)}else{data={'data':'','status':request.status,'statusText':request.statusText}
reject(data)}}};request.onerror=function(){reject(request.status)};request.open(method,url,!0);request.setRequestHeader('X-Requested-With','XMLHttpRequest');if(method==='POST'){var params=iris.param(payload);request.setRequestHeader('Content-Type','application/x-www-form-urlencoded');request.send(params)}else{request.send()}}})};window.iris.post=function(url,payload){return iris.ajax(url,payload,'POST')};window.iris.get=function(url){return iris.ajax(url,{},'GET')};window.iris.param=function(object){var encodedString='';for(var prop in object){if(object.hasOwnProperty(prop)){if(encodedString.length>0){encodedString+='&'}
encodedString+=encodeURI(prop+'='+object[prop])}}
return encodedString}})();var IrisImagePreloader=function(syncLoadCount){this.maxLoad=syncLoadCount;this.images=[];this.promises=[];this.loaded=0;this.active=0;this.completeCallback;this.loadCallback;this.errorCallback}
IrisImagePreloader.prototype.queue=function(array,complete,load,error){this.images=array;this.totalImages=array.length;this.completeCallback=complete||function(){};this.loadCallback=load||function(){};this.errorCallback=error||function(){}};IrisImagePreloader.prototype.loadSuccess=function(resolve,src){var _this=this;this.active--;this.loadCallback(src);resolve();if(this.promises.length!==this.totalImages){this.preload()}};IrisImagePreloader.prototype.loadError=function(resolve,src){var _this=this;this.active--;this.errorCallback(src);resolve();if(this.promises.length!==this.totalImages){this.preload()}};IrisImagePreloader.prototype.preloadImage=function(path){var ip=this;return new Promise(function(resolve,reject){var image=new Image();image.onload=function(){ip.loadSuccess(resolve,path)};image.onerror=function(){ip.loadError(resolve,path)};image.src=path})};IrisImagePreloader.prototype.preload=function(){var _this=this;if(!('Promise' in window)){return}
if(window.start===0)
window.start=new Date();var i=0,max=this.maxLoad;for(;i<this.totalImages;i++){if(this.images[i]!==''&&this.active!==max){this.promises.push(this.preloadImage(this.images[i]));this.images[i]='';this.active++}
if(this.promises.length==this.totalImages){window.end=new Date();Promise.all(this.promises).then(function(){_this.completeCallback()}).catch(function(err){});break}}};(function(){})();if(!window.Promise){window.Promise=Promise}
window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60)}})();Iris.Core=(function(){var compClasses=['preview','live','gallery'],config={"preview":{"showTitle":!0,"showLocation":!0,"showWeather":!0,"aspectRatio":1.777},"live":{"showTitle":!0,"showLocation":!0,"showWeather":!0,"showTimeline":!0,"aspectRatio":1.777},"timeline":{},"gallery":{}},cloudStorage='//storage.googleapis.com/prism-cam-',imageServer='//storage.googleapis.com/prism-cam-',serverJS='//js.prismcam.com/',serverPHP='//php.prismcam.com/';var config_for_component,process_cam_json;config_for_component=function(cam,component){if(Iris.Core.components[component][cam]!=undefined)
return Iris.Core.components[component][cam].config.active;return config[component]};parse_init_json=function(json,isPagesConfig){isPagesConfig=isPagesConfig||!1;var galleryCoreRequired=!1;var i,length=0;length=json.length;for(i=0;i<length;i++){if(json[i].type=="camera"){var camId=json[i].id;if(json[i].cam!=null){if(json[i].cam.client!=null){var currentShell=!1,client='';if(isPagesConfig===!1){var client=json[i].cam.client;if(typeof shell!=="undefined"){currentShell=shell}
var preview=iris('.luma-'+client+' .luma-preview[cam="'+camId+'"]');if(preview.length===0){iris('.luma-'+client+'[cam="'+camId+'"]').append('<div data-cid="'+client+'" cam="'+camId+'" class="luma-preview"></div>');preview=iris('.luma-'+client+' .luma-preview[cam="'+camId+'"]')[0]}
preview=preview||!1;if(preview!==!1){let previewId=IrisUtil.unique_id();iris(preview).attr('data-id',previewId);Iris.Core.components.preview[camId]={"client":json[i].cam.client,"id":"luma-"+json[i].cam.client,"previewId":previewId,"cam":camId,"version":json[i].config.version,"klass":null,"element":preview,"config":{"active":{},"base":config.preview,"page":{},"local":{}},"images":[]}}}else{var client=json[i].clientId;var preview=iris('.luma-'+client+' .luma-preview[cam="'+json[i].id+'"]');if(preview.length===0){iris('.luma-'+client).append('<div data-cid="'+client+'" cam="'+json[i].id+'" class="luma-preview"></div>');preview=iris('.luma-'+client+' .luma-preview[cam="'+json[i].id+'"]')[0]}
preview=preview||!1;if(preview!==!1){let previewId=IrisUtil.unique_id();iris(preview).attr('data-id',previewId);Iris.Core.components.preview[camId]={"client":json[i].cam.client,"id":"luma-"+client,"previewId":previewId,"cam":camId,"version":json[i].config.version,"klass":null,"element":preview,"config":{"active":{},"base":config.preview,"page":{},"local":{}},"images":[]}}}}}}else if(json[i].type=="gallery"){galleryCoreRequired=!0;client=json[i].clientId;if(iris('.luma-'+client).length>0){if(iris('.luma-'+client).hasAttr('pages')){currentShell=iris('.luma-'+client)[0];var gallery=iris('.luma-'+client+' .luma-gallery[data-gallery-id="'+json[i].id+'"]');if(gallery.length===0){iris('.luma-'+client).append('<div class="luma-gallery" data-client="'+client+'" data-gallery-id="'+json[i].id+'"><h3></h3><ul class="luma-gallery-grid"></ul></div>');gallery=iris('.luma-'+client+' .luma-gallery[data-gallery-id="'+json[i].id+'"]')[0]}
gallery=gallery||!1;if(gallery!==!1){Iris.Core.components.gallery[json[i].id]={"client":json[i].clientId,"id":"luma-"+json[i].clientId,"klass":null,"element":gallery,"images":[]}}}}}}
var _this=this;let serverCSS='';if(Iris.Core.devMode===!0){serverJS=Iris.Core.serverJSDev+'04-gallery/';serverCSS='assets/css/'}else{serverCSS=serverJS}
if(galleryCoreRequired===!0&&Iris.Core.galleryCoreLoaded===!1){Iris.Core.async_load_css(serverCSS+'luma-gallery.css',function(){Iris.Core.async_load_js(serverJS+'luma-gallery.js',function(){Iris.Core.galleryCoreLoaded=!0;_this.process_init_json(json)})})}else{process_init_json(json)}};process_init_json=function(json){var camsJson=json;var i,length=0;length=camsJson.length;for(i=0;i<length;i++){if(camsJson[i].type=="camera"){var camId=camsJson[i].id;let preview=Object.create(IrisPreview);let parsedConfig=camsJson[i].config;if(typeof camsJson[i].config=="string"){parsedConfig=JSON.parse(camsJson[i].config)}
if(Iris.Core.components.preview[camId]!==undefined){Iris.Core.components.preview[camId].config.page=parsedConfig;Iris.Core.components.preview[camId].config.active=IrisUtil.extend(Iris.Core.components.preview[camId].config.base,parsedConfig);if(Iris.Core.components.live[camId]==undefined){Iris.Core.components.live[camId]=Iris.Core.components.preview[camId];Iris.Core.components.live[camId].config.active=IrisUtil.extend(config.live,parsedConfig);var imgIndex=imgLen=0;imgLen=camsJson[i].images.length;for(imgIndex=0;imgIndex<imgLen;imgIndex++){camsJson[i].images[imgIndex].complete=!1}
Iris.Core.components.live[camId].images=camsJson[i].images}
Iris.Core.components.preview[camId].klass=preview;var mode="standard";if(camsJson[i].mode!==undefined)
mode=camsJson[i].mode;if(camsJson[i].cam.client!==''){var violetShell=IrisDOM.find('.luma-'+camsJson[i].cam.client);var shellMode=IrisDOM.attr(violetShell,'data-mode');if(shellMode!==!1)
mode=shellMode}
var args={"mainShellID":Iris.Core.components.preview[camId].id,"previewId":Iris.Core.components.preview[camId].previewId,"camID":camId,"config":camsJson[i],'serverPath':imageServer,"mode":mode};if(Iris.Core.browser.supported===!1)
args.alert={type:'upgrade'};if(typeof camsJson[i].images=="undefined"){camsJson[i].images=[]}else{if(typeof camsJson[i].images!='object'||camsJson[i].images===null){args.alert={type:'error'}}else{if(typeof camsJson[i].images[0]!='undefined'){if(camsJson[i].images[0].length==0){args.alert={type:'error'}}}else{args.alert={type:'error'}}}}
var now=new Date(),tzOffset=parseInt(camsJson[i].cam.camTZOffset);if(Math.abs(tzOffset)<10){if(tzOffset<0){tzOffset='-0'+Math.abs(tzOffset)+':00'}else{tzOffset='+0'+Math.abs(tzOffset)+'00'}}else{if(tzOffset<0){tzOffset='-'+Math.abs(tzOffset)+':00'}else{tzOffset='+'+Math.abs(tzOffset)+':00'}}
var tzDate=new Date();tzDate.setTime(Date.parse(camsJson[i].current.mysqlTime.split(' ').join('T')+tzOffset));if(now.getMonth()==tzDate.getMonth()){if(now.getDate()==tzDate.getDate()){let hoursSinceLastImage=Math.abs(now.getHours()-tzDate.getHours());if(hoursSinceLastImage>=1&&hoursSinceLastImage<12){args.serverPath=cloudStorage;args.alert={type:'offline-12'}}else if(hoursSinceLastImage>=12&&hoursSinceLastImage<24){args.serverPath=cloudStorage;args.alert={type:'offline-24'}}else if(hoursSinceLastImage>24){args.serverPath=cloudStorage;args.alert={type:'offline'}}}else{args.serverPath=cloudStorage;args.alert={type:'offline'}}}else{args.serverPath=cloudStorage;args.alert={type:'offline'}}
if(Iris.Core.components.preview[camId].config.active.version===2)
args.serverPath=cloudStorage;if(camsJson[i].cam.status===undefined){preview.init(args)}else{if(camsJson[i].cam.status!=="3"){preview.init(args)}}}}else if(camsJson[i].type=="gallery"){var gallery=Object.create(IrisGallery);Iris.Core.components.gallery[camsJson[i].id].images=camsJson[i].images;Iris.Core.components.gallery[camsJson[i].id].klass=gallery;var args={"galleryData":camsJson[i],"mainShellID":Iris.Core.components.gallery[camsJson[i].id].id,"galleryId":camsJson[i].id,'serverPath':imageServer};if(Iris.Core.browser.supported===!1)
args.alert={type:'upgrade'};gallery.init(args)}
var vga=Object.create(IrisGA);vga.load(function(){if(typeof ga=="function"){let length=0;length=camsJson.length;for(var i=0;i<length;i++){if(typeof camsJson[i].cam!='undefined'){if(camsJson[i].cam.gaProfile!=''){ga('create',camsJson[i].cam.gaProfile,'auto',camsJson[i].id);Iris.Core.analytics[camsJson[i].id]=!0}else{Iris.Core.analytics[camsJson[i].id]=null}}else{}}}})}};return{initTriggered:!1,components:{live:[],preview:[],timline:[],gallery:[]},mobile:!1,tablet:!1,tabletModel:'',browser:{},minBrowser:{"chrome":45,"firefox":40,"safari":8,"msie":8},upgradeURL:{'chrome':'https://www.google.com/chrome/','firefox':'https://www.mozilla.org/en-US/firefox/new/','safari':'https://support.apple.com/downloads/safari','msie':'https://www.microsoft.com/en-us/edge/'},analytics:[],liveDOM:{cam:'',element:null},clickEvent:'click',scrubSize:'180',fullResSize:'',pageScrolltop:0,previewWidth:0,galleryCoreLoaded:!1,serverJSDev:'components/',devMode:!1,init:function(){Iris.Core.initTriggered=!0;Iris.Core.mobile=IrisUtil.mobile();if(Iris.Core.mobile)
Iris.Core.clickEvent='touchend';var userBrowser=IrisUtil.browser();Iris.Core.browser={'name':userBrowser.browser,'version':parseFloat(userBrowser.version,10),'supported':!1};if(!Iris.Core.mobile){var isTouchDevice=(('ontouchstart' in window)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0));if(isTouchDevice){Iris.Core.tablet=!0}}
if(Iris.Core.minBrowser[userBrowser.browser]!=undefined){if(parseFloat(userBrowser.version,10)>Iris.Core.minBrowser[userBrowser.browser]){Iris.Core.browser.supported=!0}}else{Iris.Core.browser.supported=!0}
let legacyIDEmbeds=iris('div[id^="violet-"]')||Object();if(legacyIDEmbeds.length>0){for(var i=0;i<legacyIDEmbeds.length;i++){iris(legacyIDEmbeds[i]).html('')}}
let lumaEmbeds=iris('div[class^="luma-"]')||Object();let legacyClassEmbeds=iris('div[class^="violet-"]')||Object();let violetInstances=[];let allEmbeds=[];let cams=[];let pages=[];allEmbeds.push(legacyClassEmbeds);allEmbeds.push(legacyIDEmbeds);allEmbeds.push(lumaEmbeds);if(allEmbeds.length>0){for(var i=0;i<allEmbeds.length;i++){let embedLen=allEmbeds[i].length;for(j=0;j<embedLen;j++){violetInstances.push(allEmbeds[i][j])}}
for(var i=0;i<violetInstances.length;i++){let instanceClasses=[];let className=iris(violetInstances[i]).attr('id');if(iris(violetInstances[i]).attr('class')==!1){instanceClasses=[iris(violetInstances[i]).attr('id').replace('violet','luma')];iris(violetInstances[i]).addClass(className.replace('violet','luma'));iris(violetInstances[i]).attr('id','')}else{if(iris(violetInstances[i]).attr('class').indexOf('violet')!=-1){let legacyClassName=iris(violetInstances[i]).attr('class').match(/(violet-[0-9]+)/g);if(legacyClassName!=null){iris(violetInstances[i]).removeClass(legacyClassName[0]);iris(violetInstances[i]).addClass(legacyClassName[0].replace('violet','luma'));instanceClasses=iris(violetInstances[i]).attr('class').split(' ')}}
else if(iris(violetInstances[i]).attr('class').indexOf('luma')!=-1){instanceClasses=iris(violetInstances[i]).attr('class').split(' ')}
else if(iris(violetInstances[i]).attr('id').indexOf('violet')!=-1){instanceClasses=[iris(violetInstances[i]).attr('id').replace('violet','luma')];iris(violetInstances[i]).addClass(className.replace('violet','luma'));iris(violetInstances[i]).attr('id','')}}
iris(violetInstances[i]).html('');let instanceID='';for(var j=0;j<instanceClasses.length;j++){if(/[a-z]\-[0-9]+/.test(instanceClasses[j])){let violetMatches=instanceClasses[j].match(/(violet-[0-9]+)/g);if(violetMatches!=null&&violetMatches.length>0){instanceID=violetMatches[0];break}
let lumaMatches=instanceClasses[j].match(/(luma-[0-9]+)/g);if(lumaMatches!=null&&lumaMatches.length>0){instanceID=lumaMatches[0];break}}}
var accountID=instanceID.split('-')[1];let classPrefix=instanceID.split('-')[0]
var isEmbed=iris(violetInstances[i]).attr('type');var pagesCompatible=iris(violetInstances[i]).hasAttr('pages');var instanceCams=0;violetInstances[i].style.display="block";for(var j=0;j<compClasses.length;j++){var childComponents=IrisDOM.find('.'+classPrefix+'-'+compClasses[j],violetInstances[i],!0);if(childComponents!==!1){for(var k=0;k<childComponents.length;k++){var camID=IrisDOM.attr(childComponents[k],'cam');if(!IrisUtil.in_array(camID,cams)){cams.push(camID);instanceCams++}}}else{}}
var instanceCamID=iris(violetInstances[i]).attr('cam');if(instanceCamID!==!1&&pagesCompatible===!1){if(!IrisUtil.in_array(instanceCamID,cams)){cams.push(instanceCamID);instanceCams++}}else{if(!IrisUtil.in_array(accountID,pages)){pages.push(accountID)}}}
var start=new Date().getTime();IrisNet.ajax(serverPHP+"public/helpers/cam_init.php",{jsonp:!0,callback:function(response){var end=new Date().getTime(),camsData=response.cams,pagesData=response.pages;parse_init_json(camsData);parse_init_json(pagesData,!0)},data:{'cams':cams.join(','),'pages':pages.join(','),'url':encodeURIComponent(window.location.href.replace('http:',''))}})}},get_config:function(cam,component){return config_for_component(cam,component)},image_load_complete:function(cam,imgSrc){var i=len=0;var path='';len=Iris.Core.components.live[cam].images.length;for(i=0;i<len;i++){path=Iris.Core.components.live[cam].images[i].path;if(imgSrc.indexOf(path)!==-1){Iris.Core.components.live[cam].images[i].complete=!0;break}}},replace_image_index:function(cam,index){if(typeof index=='string'){var i=len=0;var path='';len=Iris.Core.components.live[cam].images.length;for(i=0;i<len;i++){path=Iris.Core.components.live[cam].images[i].path;if(index.indexOf(path)!==-1){index=i;break}}}
Iris.Core.components.live[cam].images.splice(index,1)},images:function(id,type){if(typeof id!=="undefined"&&typeof type!=="undefined"){if(Iris.Core.components[type][id]!==undefined)
return Iris.Core.components[type][id].images;else return[]}},update_load_size:function(oldWidth,newWidth){if(newWidth>oldWidth||newWidth==oldWidth){if(this.mobile===!0){this.fullResSize='1080'}else{if(newWidth<=220){this.fullResSize='180'}else if(newWidth>220&&newWidth<740){this.fullResSize='360'}else if(newWidth>740&&newWidth<1380){this.fullResSize='720'}else{this.fullResSize='1080'}}}},ga_track:function(camID,cat,action,label,value){if(Iris.Core.analytics[camID]===!0){if(typeof ga=='function'){ga(camID+'.send','event',cat,action,label)}}},async_load_js:function(target,callback){var script=document.createElement('script');script.type='text/javascript';script.src=target;script.onload=callback;script.onreadystatechange=callback;document.head.appendChild(script)},async_load_css:function(target,callback){var style=document.createElement('link');style.rel='stylesheet';style.href=target;style.type='text/css';style.onload=callback;style.onreadystatechange=callback;document.head.appendChild(style)},preview:function(camID,customConfig){},timeline:function(customConfig){},gallery:function(){},dev_mode:function(){return Iris.Core.config.devMode}}})();if(typeof document.attachEvent=='function'){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"||document.readyState==="interactive"){document.detachEvent("onreadystatechange",arguments.callee);if(Iris.Core.initTriggered===!1)Iris.Core.init()}})}else{document.addEventListener("DOMContentLoaded",function(){if(Iris.Core.initTriggered===!1)Iris.Core.init()});if(document.readyState==="complete"||document.readyState==="interactive"){if(Iris.Core.initTriggered===!1)Iris.Core.init()}};var IrisTimeline={camData:{},initComplete:!1,colors:[],images:[],imagesByHour:[],startTime:0,endTime:24,totalImages:0,preloaded:{'180':!1,'360':!1,'720':!1},imagesLoaded:0,scrubbing:!1,hourWidth:0,currentHour:0,currentHourIndex:0,currentImage:[],rootDivId:'',camID:'',paddedCamID:'',previewId:'',vProgress:null,timeline:null,tlColors:null,playhead:null,timelineHit:!1,imageShell:null,vImage:null,imagePath:'',timelineIsIdle:!1,reRender:!1,activeImage:'',activeImageIndex:0,phX:0,mouseX:0,maxPlayheadX:0,minPlayheadX:8,minPreviewX:225,maxPreviewX:0,scrubPreviewWidth:450,aspectRatio:1.7778,phResetPerc:0,year:'',month:'',day:'',imageIndex:0,events:[],listenerEvents:[],functions:[],timelapsePauseTimer:0,timelapseActive:!1,androidLandscapeCheck:0,preloaded:{},init:function(args){var _this=this;if(!this.initComplete){this.camData=args.camData;this.mainShellID=args.mainShellID;this.previewId=args.previewId;var plLength=Object.size(this.preloaded);if(plLength==0){this.preloaded={'180':!1,'360':!1,'720':!1,'1080':!1}}
this.camID=args.camData.camID;this.paddedCamID=IrisUtil.sprintf('%05d',this.camID);this.serverPath=args.serverPath;this.activeImage=args.serverPath+args.camData.current.imagePath;this.images=Iris.Core.images(_this.camID,'live');this.currentImage=this.images[this.images.length-1];if(Iris.Core.mobile||Iris.Core.tablet){let orientation=IrisUtil.device_orientation();if(orientation==='landscape'){this.scrubPreviewWidth=250}else{}}
let currentHour=-1;let hourIndex=-1;let imagesLen=this.images.length;for(var i=0;i<imagesLen;i++){let hour=parseInt(this.images[i].hm.split('-')[0]);if(hour!=currentHour){hourIndex++;currentHour=hour;this.imagesByHour[hourIndex]=[this.images[i]]}else{this.imagesByHour[hourIndex].push(this.images[i])}}
let tzOffset=parseInt(this.camData.cam.camTZOffset);var camLocalDate=new Date(new Date().getTime()+(3600000*tzOffset));let alignedImages=[];let nowHour=camLocalDate.getHours()+Math.abs(tzOffset);for(var i=(this.imagesByHour.length-1);i>-1;i--){let expectedHour=nowHour;if(expectedHour<0)expectedHour=(24+expectedHour);if(typeof this.imagesByHour[i]=='undefined'){}else{let timelineHour=this.imagesByHour[i][0].hm.split('-');if(parseInt(timelineHour[0],10)!=expectedHour){let hourGap=this.range(parseInt(timelineHour[0],10),expectedHour);for(var j=0;j<hourGap.length;j++){alignedImages.unshift([])}
nowHour=parseInt(timelineHour[0],10)-1}else{alignedImages.unshift(this.imagesByHour[i]);nowHour--}}}
if(alignedImages.length>24){alignedImages=alignedImages.slice(0,24)}
if(alignedImages.length<24){let alignedPadLen=24-alignedImages.length;alignedImages=alignedImages.concat(Array.apply(null,Array(alignedPadLen)).map([].valueOf,[]))}
this.imagesByHour=alignedImages;this.reRender=!1;if(this.camID!=''){if(this.camID!=args.camData.camID){this.reRender=!0}}
IrisEvent.subscribe('exitingFullscreen',function(data){_this.exit_timelapse({},_this)});this.config=args.camData.config;this.totalImages=_this.images.length;setTimeout(function(){_this.post_init()},600)}
this.listenerEvents.timelapsePlayClick=function(e){e.preventDefault();if(!_this.timelapseActive){var video=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video');iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-play').addClass('playing');_this.timelapseActive=!0;_this.event(_this,'timelineIsIdle',!1);_this.event(_this,'timelineHit',!1);_this.event(_this,'playheadHit',!1);if(!Iris.Core.mobile&&!Iris.Core.tablet){setTimeout(function(){IrisEvent.publish('makeTimelapseActive',{})},300)}else{IrisEvent.publish('makeTimelapseActive',{})}}else{var video=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video');if(video.length>0){if(video[0].paused){clearTimeout(_this.timelapsePauseTimer);IrisEvent.publish('playTimelapse',{});iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-play').addClass('playing')}else{IrisEvent.publish('pauseTimelapse',{});iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-play').removeClass('playing')}}}
e.stopPropagation()};this.listenerEvents.scrubberShellMouseEnter=function(e){e.stopPropagation();if(!_this.preloaded[Iris.Core.scrubSize]){_this.preload_images(_this)}
document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrub-indicator').style.display="block";document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-preview').style.display="block"};this.listenerEvents.scrubberShellMouseLeave=function(e){e.preventDefault();document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrub-indicator').style.display="none";document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-preview').style.display="none"};this.listenerEvents.scrubberMouseMove=function(e){e.stopPropagation();let pagePos=e.clientX||e.pageX;if(typeof e.touches!='undefined'){if(e.touches.length>0){pagePos=e.touches[0].clientX||e.touches[0].pageX}}
let divPos=e.offsetX||e.layerX;_this.mouseX=pagePos;document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrub-indicator').style.left=(pagePos-2)+'px';if((pagePos>=(_this.scrubPreviewWidth/2)+15)&&(pagePos<=window.innerWidth-(_this.scrubPreviewWidth/2)-15)){document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-preview').style.left=(pagePos-(_this.scrubPreviewWidth/2))+"px"}
let imageData;if(!Iris.Core.mobile&&!Iris.Core.tablet){const hoverHour=parseInt(e.target.getAttribute('data-luma-hour'));let hoverIndices=e.target.getAttribute('data-luma-indices');if(hoverIndices!=null){hoverIndices=hoverIndices.split(',');const imagesForDiv=parseInt(e.target.getAttribute('data-luma-len'));const imageIndex=Math.floor(divPos/(e.target.clientWidth/imagesForDiv));imageData=_this.imagesByHour[hoverHour][hoverIndices[imageIndex]]}}else{const hourDivWidth=_this.hourWidth;const hoverHour=Math.floor(pagePos/hourDivWidth);divPos=pagePos-(hoverHour*hourDivWidth);const imageIndex=Math.floor(divPos/(hourDivWidth/_this.imagesByHour[hoverHour].length));imageData=_this.imagesByHour[hoverHour][imageIndex]}
if(typeof imageData!="undefined"){let now=new Date();let tzOffset=parseInt(_this.camData.cam.camTZOffset);let imageUnixEpoch=parseInt(imageData.time,10);let imageDate=IrisTime.convert_mysql_time(imageData.sql);let hrTime=IrisTime.tz_hr_time(tzOffset,imageUnixEpoch,!0).split(' ');let hrTimeAry=[];if(Math.abs(tzOffset)<10){if(tzOffset<0){tzOffset='-0'+Math.abs(tzOffset)+':00'}else{tzOffset='+0'+Math.abs(tzOffset)+'00'}}else{if(tzOffset<0){tzOffset='-'+Math.abs(tzOffset)+':00'}else{tzOffset='+'+Math.abs(tzOffset)+':00'}}
let tzDate=new Date();tzDate.setTime(Date.parse(imageData.sql.split(' ').join('T')+tzOffset));hrTimeAry=IrisTime.format_hr_time(hrTime);let datePath=imageData.path.split('/');document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-preview .time').innerHTML=hrTime[0]+(hrTime.length>2?' '+hrTime[1]+' '+hrTime[2]:'');document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-preview .date').innerHTML=datePath[1]+'/'+datePath[2]+'/'+datePath[0];let previewPath=_this.serverPath+_this.paddedCamID+"/"+imageData.path+"/"+Iris.Core.scrubSize+".jpg";_this.currentImage=imageData;if(document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-preview').style.backgroundImage!='url("'+previewPath+'")'){var img=new Image();img.onload=function(){document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-preview').style.backgroundImage="url('"+previewPath+"')"}
img.src=previewPath}}};this.listenerEvents.scrubberShellClick=function(e){e.stopPropagation();const imageFullResPath=_this.serverPath+_this.paddedCamID+"/"+_this.currentImage.path+"/"+Iris.Core.fullResSize+".jpg";var img=new Image();img.onload=function(){if(Iris.Core.mobile){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-image img').attr('src',imageFullResPath)}else{iris('.luma-full[data-id="'+_this.previewId+'"] .luma-image').css('background-image',"url('"+imageFullResPath+"')")}
IrisEvent.publish('exitTimelapse',{})}
img.src=imageFullResPath};this.listenerEvents.orientationchange=function(e){_this.handle_rotation(e,_this)};this.listenerEvents.scrubberShellTouchStart=function(e){e.stopPropagation();if(!_this.preloaded[Iris.Core.scrubSize]){_this.preload_images(_this)}
document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrub-indicator').style.display="block";document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-preview').style.display="block"};this.listenerEvents.scrubberShellTouchEnd=function(e){e.stopPropagation();const imageFullResPath=_this.serverPath+_this.paddedCamID+"/"+_this.currentImage.path+"/"+Iris.Core.fullResSize+".jpg";var img=new Image();img.onload=function(){if(Iris.Core.tablet){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-image img').attr('src',imageFullResPath)}else{iris('.luma-full[data-id="'+_this.previewId+'"] .luma-image').css('background-image',"url('"+imageFullResPath+"')")}
IrisEvent.publish('exitTimelapse',{})}
img.src=imageFullResPath;document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrub-indicator').style.display="none";document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-preview').style.display="none"};this.listenerEvents.downloadClick=function(e){e.preventDefault();_this.download(_this,'jpg')};if(this.initComplete){setTimeout(function(){_this.render(_this)},1000)}
this.initComplete=!0},render:function(_this){let hourPreviewWidth=document.querySelectorAll('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-wrapper .luma-scrubber-hour-wrapper .hour')[1].clientWidth;let hourPreviewQuarterWidth=(hourPreviewWidth/4);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-wrapper .luma-scrubber-hour-wrapper .hour').css({marginLeft:-(hourPreviewQuarterWidth)+'px',});iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-wrapper .luma-scrubber-hour-wrapper .hour').css('opacity','1')},add_listeners:function(_this){if(!Iris.Core.mobile){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').on('mouseenter',_this.listenerEvents.scrubberShellMouseEnter);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').on('mouseleave',_this.listenerEvents.scrubberShellMouseLeave);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').on('touchstart',_this.listenerEvents.scrubberShellTouchStart);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').on('touchmove',_this.listenerEvents.scrubberMouseMove);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').on('touchend',_this.listenerEvents.scrubberShellTouchEnd);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell .luma-scrubber-hour-wrapper .hour').on('mousemove',this.listenerEvents.scrubberMouseMove);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').on('tap click',_this.listenerEvents.scrubberShellClick);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-play').on('tap click',_this.listenerEvents.timelapsePlayClick);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-header-tools .luma-download-icon').on('tap click',_this.listenerEvents.downloadClick);if(Iris.Core.tablet){window.addEventListener("orientationchange",_this.listenerEvents.orientationchange)}}else{window.addEventListener("orientationchange",_this.listenerEvents.orientationchange);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').on('touchstart',_this.listenerEvents.scrubberShellTouchStart);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').on('touchend',_this.listenerEvents.scrubberShellTouchEnd);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').on('touchmove',_this.listenerEvents.scrubberMouseMove);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-play').on('tap',_this.listenerEvents.timelapsePlayClick);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-header-tools .luma-download-icon').on('tap',_this.listenerEvents.downloadClick)}},exit_timelapse:function(e,_this){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-play').removeClass('playing');_this.timelapseActive=!1},handle_rotation:function(e,_this){if(Iris.Core.mobile||Iris.Core.tablet){let orientation=0;if(screen.orientation){orientation=screen.orientation.angle}
else if(window.orientation){orientation=window.orientation}
switch(orientation){case-90:case 90:if(Iris.Core.mobile||Iris.Core.tablet){this.scrubPreviewWidth=250}
setTimeout(function(){_this.hourWidth=document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-wrapper').offsetWidth/24;_this.render(_this)},1000);break;default:clearInterval(_this.androidLandscapeCheck);if(Iris.Core.mobile||Iris.Core.tablet){this.scrubPreviewWidth=450}
setTimeout(function(){_this.hourWidth=document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-wrapper').offsetWidth/24;_this.render(_this)},1000);break}}},post_init:function(){let _this=this;var playheadWidth=iris('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-preview').width();this.timeline=this.timeline||IrisDOM.find('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-wrapper');this.tlColors=this.tlColors||iris('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-shell .key-colors')[0];this.imageShell=this.imageShell||IrisDOM.find('.luma-full[data-id="'+this.previewId+'"] .luma-image');var now=new Date(),tzOffset=parseInt(this.camData.cam.camTZOffset),imageUnixEpoch=parseInt(this.images[this.imageIndex].time,10),tzDate=new Date(this.images[this.imageIndex].sql+' GMT'+tzOffset),imageDate=IrisTime.convert_mysql_time(this.images[this.imageIndex].sql),hrTime=IrisTime.tz_hr_time(tzOffset,imageUnixEpoch,!0).split(' '),hrTimeAry=[];hrTimeAry=IrisTime.format_hr_time(hrTime);if(now.getDate()!==tzDate.getDate()){iris('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-preview .day').html('YESTERDAY')}else{iris('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-preview .day').html('TODAY')}
var hourDivs=document.querySelectorAll('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-wrapper .hour');if(hourDivs.length==0){let imageLen=this.imagesByHour.length;for(var i=0;i<imageLen;i++){let imagePathOnHour='';let imagePathHalfHour='';let hourHR='';let previewIndex=0;if(typeof this.imagesByHour[i]!='undefined'){let scrubberImageBlockDiv1=document.createElement('div');let scrubberImageBlockDiv2=document.createElement('div');if(this.imagesByHour[i].length>0){hourHR=this.get_image_time(_this,this.imagesByHour[i][0],'hh a');previewIndex=parseInt(this.imagesByHour[i].length/2,10);imagePathOnHour=this.serverPath+this.paddedCamID+"/"+this.imagesByHour[i][0].path+"/180.jpg";imagePathHalfHour=this.serverPath+this.paddedCamID+"/"+this.imagesByHour[i][previewIndex].path+"/180.jpg";let hourImagesLen=this.imagesByHour[i].length;let arrayIndices=[...Array.from({length:this.imagesByHour[i].length}).keys()]
scrubberImageBlockDiv1.setAttribute('data-luma-hour',i);scrubberImageBlockDiv1.setAttribute('data-luma-len',Math.floor(hourImagesLen/2));scrubberImageBlockDiv1.setAttribute('data-luma-indices',arrayIndices.slice(0,hourImagesLen-Math.floor(hourImagesLen/2)).join(','));scrubberImageBlockDiv2.setAttribute('data-luma-hour',i);scrubberImageBlockDiv2.setAttribute('data-luma-len',hourImagesLen-Math.floor(hourImagesLen/2));scrubberImageBlockDiv2.setAttribute('data-luma-indices',arrayIndices.slice(Math.floor(hourImagesLen/2)).join(','))}
if(i==0){scrubberImageBlockDiv1.className="hour first"}else{scrubberImageBlockDiv1.className="hour"}
scrubberImageBlockDiv1.style.backgroundImage='url("'+imagePathOnHour+'")';document.querySelectorAll('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-wrapper .luma-scrubber-hour-wrapper')[0].appendChild(scrubberImageBlockDiv1);scrubberImageBlockDiv2.className="hour";scrubberImageBlockDiv2.style.backgroundImage='url("'+imagePathOnHour+'")';document.querySelectorAll('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-wrapper .luma-scrubber-hour-wrapper')[0].appendChild(scrubberImageBlockDiv2)}}}
_this.hourWidth=document.querySelector('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-wrapper').offsetWidth/24;this.add_listeners(this);setTimeout(function(){_this.maxPreviewX=window.innerWidth-(_this.scrubPreviewWidth/2);let imageSizes=IrisDOM.image_sizes(window.innerWidth);_this.activeImageIndex=_this.images.length-1;Iris.Core.scrubSize=imageSizes.lowres;Iris.Core.fullResSize=imageSizes.hires;var timelineDOM=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell');if(!Iris.Core.mobile){IrisEvent.subscribe('exitTimelapse',function(data){_this.imageIndex=_this.images.length-1;_this.exit_timelapse({},_this)})}else{}
let tzOffset=parseInt(_this.camData.cam.camTZOffset);if(Math.abs(tzOffset)<10){if(tzOffset<0){tzOffset='-0'+Math.abs(tzOffset)+':00'}else{tzOffset='+0'+Math.abs(tzOffset)+'00'}}else{if(tzOffset<0){tzOffset='-'+Math.abs(tzOffset)+':00'}else{tzOffset='+'+Math.abs(tzOffset)+':00'}}
var previewImages=[];for(var i=0;i<_this.imagesByHour.length;i++){if(_this.imagesByHour[i].length>0){previewImages.push(_this.imagesByHour[i][0]);previewImages.push(_this.imagesByHour[i][Math.ceil(_this.imagesByHour[i].length-1)])}else{previewImages.push("");previewImages.push("")}}
let scrubberHours=document.querySelectorAll('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-wrapper .luma-scrubber-hour-wrapper .hour');for(var i=0;i<scrubberHours.length;i++){if(previewImages[i]!=""){let imageServerPath=IrisTime.image_server_path(tzOffset,previewImages[i]);if(imageServerPath!==undefined){let imagePath=_this.serverPath+_this.paddedCamID+'/'+imageServerPath;scrubberHours[i].style.backgroundImage="url('"+imagePath+"/"+Iris.Core.scrubSize+".jpg')"}}}
const lastImage=_this.imagesByHour[_this.imagesByHour.length-1][_this.imagesByHour[_this.imagesByHour.length-1].length-1];if(typeof lastImage!='undefined'){let imageServerPath=IrisTime.image_server_path(tzOffset,lastImage);if(imageServerPath!==undefined){let imagePath=_this.serverPath+_this.paddedCamID+'/'+imageServerPath;iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-hour-current').css({'background-image':"url('"+imagePath+"/"+Iris.Core.scrubSize+".jpg')"})}}
_this.render(_this)},1000);Iris.Core.ga_track(this.camID,'Timeline','Show','Cam',this.camID)},preload_images:function(_this){if(!this.preloaded[Iris.Core.scrubSize]){_this.event(_this,'preloadingImageSize',!0);this.preloaded[Iris.Core.scrubSize]=!0;var _this=this,preloadImages=[],images=Iris.Core.images(this.camID,'live');for(var i=0;i<images.length;i++){if(images[i].path!==undefined)
preloadImages.push(_this.serverPath+this.paddedCamID+"/"+images[i].path+"/"+Iris.Core.scrubSize+".jpg")}
if(preloadImages.length>0){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell .preload').css({display:'block',height:'3px',opacity:1});iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell .preload .progress').css('width','0');this.imagesLoaded=0;var irisPreloader=new IrisImagePreloader(5);irisPreloader.queue(preloadImages,function(){var preload=IrisDOM.find('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell .preload');gsap.to(preload,1,{opacity:0,ease:Expo.easeOut,onComplete:function(){preload.style.display="none";_this.event(_this,'preloadingImageSize',!1)}})},function(imageSource){_this.imagesLoaded++;Iris.Core.image_load_complete(_this.camID,imageSource);_this.images=Iris.Core.images(_this.camID,'live');var increment=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell').width()/images.length;iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell .preload .progress').css({width:Math.ceil(_this.imagesLoaded*increment)+'px'})},function(imageSource){Iris.Core.replace_image_index(_this.camID,imageSource);_this.images=Iris.Core.images(_this.camID,'live')});irisPreloader.preload()}}},get_image_time:function(_this,image,format){format=format||'hh:mm a';let now=new Date();let tzOffset=parseInt(_this.camData.cam.camTZOffset);let imageHour=0;if(Math.abs(tzOffset)<10){if(tzOffset<0){tzOffset='-0'+Math.abs(tzOffset)+':00'}else{tzOffset='+0'+Math.abs(tzOffset)+'00'}}else{if(tzOffset<0){tzOffset='-'+Math.abs(tzOffset)+':00'}else{tzOffset='+'+Math.abs(tzOffset)+':00'}}
var tzDate=new Date();tzDate.setTime(Date.parse(image.sql.split(' ').join('T')+tzOffset));let imageTime=format;imageHour=tzDate.getHours();if(!imageHour){imageHour=12;imageTime=imageTime.replace('a','am')}else{if(imageHour<12){imageTime=imageTime.replace('a','am')}else{imageTime=imageTime.replace('a','pm')}}
imageTime=imageTime.replace('hh',(imageHour>12?(imageHour-12):imageHour));imageTime=imageTime.replace('mm',(tzDate.getMinutes()<10?'0'+tzDate.getMinutes():tzDate.getMinutes()));return imageTime},download:function(_this,type){let paddedCamID=IrisUtil.str_pad(new String(_this.camID),5);let targetFile;let tzOffset=parseInt(_this.camData.cam.camTZOffset);let imageUnixEpoch=parseInt(_this.currentImage.time,10);let tzDate=IrisTime.tz_offset(tzOffset,parseInt(imageUnixEpoch,10));_this.year=tzDate.time_format('YYYY');_this.month=tzDate.time_format('MM');_this.day=tzDate.time_format('DD');let imageServerPath=IrisTime.image_server_path(tzOffset,_this.currentImage);_this.imagePath=_this.serverPath+IrisUtil.str_pad(new String(_this.camID),5)+'/'+imageServerPath;targetFile=encodeURIComponent(_this.imagePath+'/1080-watermark.jpg');Iris.Core.ga_track(_this.camID,'Share','Download Image','Cam',_this.camID);let args='?target='+targetFile+'&cam_title='+encodeURIComponent(_this.camData.cam.camTitle);let downloadFrame=document.createElement('iframe');downloadFrame.setAttribute('src',"//php.prismcam.com/public/exposed/download.php"+args);document.getElementsByTagName('body')[0].appendChild(downloadFrame);setTimeout(function(){downloadFrame.parentNode.removeChild(downloadFrame)},1000)},event:function(_this,name,value){if(value!==undefined){_this.events[name]=value}else{let eventState=_this.events[name]||!1;return eventState}},refresh_display:function(){},reset:function(){},destroy:function(_this){},range:function(start,end){return[...Array(end+1).keys()].filter(value=>end>=value&&start<=value)}};var IrisPreview={settings:{},camData:{},mode:"standard",mainShellID:'',camID:'',paddedCamID:'',previewId:'',serverPath:'',loadImageTime:0,resizeTimer:0,refreshInt:0,refreshIntFunc:null,listenerEvents:[],clickEvents:[],previewShell:null,previewHover:null,previewImageFade:null,previewImage:null,previewHeading:null,previewTime:null,violetLive:null,timeUpdateInt:0,oldWidth:0,winWidth:0,winHeight:0,aspectRatio:1.7778,touchDist:0,touchStartY:0,startX:0,startY:0,deviceOrientation:0,alert:null,alertType:'',structure:'<div class="image"></div>'+'<div class="luma-timelapse-play">'+'<svg class="iris-preview-timelapse-play" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve"><g><path class="st0" d="M37.5,75L75,49.9L37.5,25V75z M43.8,36.6l20,13.3l-20,13.4V36.6z"/></g><g><path class="st0" d="M79.3,81.3c-1.5,1.4-3.1,2.7-4.8,3.9c-0.9,0.6-1.9,1.2-2.8,1.8c-3.2,1.9-6.6,3.3-10.2,4.3c-3.6,1-7.4,1.5-11.4,1.5s-7.7-0.5-11.4-1.5s-7.1-2.5-10.2-4.3s-6.1-4.1-8.7-6.7s-4.8-5.5-6.7-8.7S9.7,65,8.7,61.4S7.2,54,7.2,50s0.5-7.7,1.5-11.4s2.5-7.1,4.3-10.2s4.1-6.1,6.7-8.7s5.5-4.8,8.7-6.7S35,9.7,38.6,8.7c1.7-0.5,3.4-0.8,5.1-1.1c2-0.3,4.1-0.4,6.3-0.4V0c-2.1,0-4.2,0.1-6.3,0.4c-2.4,0.3-4.7,0.8-7,1.4c-4.2,1.2-8.2,2.9-11.9,5c-3.7,2.2-7.1,4.8-10.1,7.8S9,21.1,6.8,24.8s-3.9,7.7-5.1,12C0.6,41,0,45.4,0,50s0.6,9,1.8,13.3c1.2,4.2,2.9,8.2,5.1,11.9s4.8,7.1,7.8,10.1c3.1,3,6.4,5.7,10.1,7.8c3.7,2.2,7.7,3.9,12,5C41,99.4,45.4,100,50,100s9-0.6,13.3-1.8c4.3-1.2,8.2-2.9,12-5c1.5-0.9,3-1.8,4.3-2.9c1.7-1.2,3.2-2.5,4.7-4L79.3,81.3z"/></g><path class="st0" d="M88.4,30.6l6.2-3.2c-1.8-3.9-6-9.6-8.7-12.2c-0.4,0.4-5,4.9-5,4.9C83.9,23.3,86.5,26.8,88.4,30.6L88.4,30.6zM98.5,37.8c1.5,5.2,1.6,11.8,1.4,14.9c-0.6,0-6.4-0.4-7-0.4c0.3-3.9-0.4-10.1-1.2-12.8 M64,2c4.8,1.3,9.3,3.6,13.6,6.3l-3.9,5.8l0,0c-3.6-2.4-7.5-4.2-11.7-5.4L64,2z M92,77.1c2.2-3.1,5.1-9.4,6.1-13.6c-0.7-0.2-6.7-1.9-6.7-1.9c-1.2,4.1-2.9,8.1-5.3,11.7C86.1,73.3,90.5,76.2,92,77.1z"/></svg>'+'<svg class="iris-preview-timelapse-pause" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve"><g><path d="M79.3,81.3c-1.5,1.4-3.1,2.7-4.8,3.9c-0.9,0.6-1.9,1.2-2.8,1.8c-3.2,1.9-6.6,3.3-10.2,4.3c-3.6,1-7.4,1.5-11.4,1.5s-7.7-0.5-11.4-1.5s-7.1-2.5-10.2-4.3s-6.1-4.1-8.7-6.7s-4.8-5.5-6.7-8.7S9.7,65,8.7,61.4S7.2,54,7.2,50s0.5-7.7,1.5-11.4s2.5-7.1,4.3-10.2s4.1-6.1,6.7-8.7s5.5-4.8,8.7-6.7S35,9.7,38.6,8.7c1.7-0.5,3.4-0.8,5.1-1.1c2-0.3,4.1-0.4,6.3-0.4V0c-2.1,0-4.2,0.1-6.3,0.4c-2.4,0.3-4.7,0.8-7,1.4c-4.2,1.2-8.2,2.9-11.9,5c-3.7,2.2-7.1,4.8-10.1,7.8S9,21.1,6.8,24.8s-3.9,7.7-5.1,12C0.6,41,0,45.4,0,50s0.6,9,1.8,13.3c1.2,4.2,2.9,8.2,5.1,11.9s4.8,7.1,7.8,10.1c3.1,3,6.4,5.7,10.1,7.8c3.7,2.2,7.7,3.9,12,5C41,99.4,45.4,100,50,100s9-0.6,13.3-1.8c4.3-1.2,8.2-2.9,12-5c1.5-0.9,3-1.8,4.3-2.9c1.7-1.2,3.2-2.5,4.7-4L79.3,81.3z"/></g><path d="M88.4,30.6l6.2-3.2c-1.8-3.9-6-9.6-8.7-12.2c-0.4,0.4-5,4.9-5,4.9C83.9,23.3,86.5,26.8,88.4,30.6L88.4,30.6z M98.5,37.8c1.5,5.2,1.6,11.8,1.4,14.9c-0.6,0-6.4-0.4-7-0.4c0.3-3.9-0.4-10.1-1.2-12.8 M64,2c4.8,1.3,9.3,3.6,13.6,6.3l-3.9,5.8l0,0c-3.6-2.4-7.5-4.2-11.7-5.4L64,2z M92,77.1c2.2-3.1,5.1-9.4,6.1-13.6c-0.7-0.2-6.7-1.9-6.7-1.9c-1.2,4.1-2.9,8.1-5.3,11.7C86.1,73.3,90.5,76.2,92,77.1z"/><rect x="38.5" y="25" width="6.3" height="50"/><rect x="55.6" y="25" width="6.3" height="50"/></svg>'+'</div>'+'<div class="luma-preview-image-time"><svg class="luma-preview-now-icon" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve"><g><path d="M79.3,81.3c-1.5,1.4-3.1,2.7-4.8,3.9c-0.9,0.6-1.9,1.2-2.8,1.8c-3.2,1.9-6.6,3.3-10.2,4.3c-3.6,1-7.4,1.5-11.4,1.5s-7.7-0.5-11.4-1.5s-7.1-2.5-10.2-4.3s-6.1-4.1-8.7-6.7s-4.8-5.5-6.7-8.7S9.7,65,8.7,61.4S7.2,54,7.2,50s0.5-7.7,1.5-11.4s2.5-7.1,4.3-10.2s4.1-6.1,6.7-8.7s5.5-4.8,8.7-6.7S35,9.7,38.6,8.7c1.7-0.5,3.4-0.8,5.1-1.1c2-0.3,4.1-0.4,6.3-0.4V0c-2.1,0-4.2,0.1-6.3,0.4c-2.4,0.3-4.7,0.8-7,1.4c-4.2,1.2-8.2,2.9-11.9,5c-3.7,2.2-7.1,4.8-10.1,7.8S9,21.1,6.8,24.8s-3.9,7.7-5.1,12C0.6,41,0,45.4,0,50s0.6,9,1.8,13.3c1.2,4.2,2.9,8.2,5.1,11.9s4.8,7.1,7.8,10.1c3.1,3,6.4,5.7,10.1,7.8c3.7,2.2,7.7,3.9,12,5C41,99.4,45.4,100,50,100s9-0.6,13.3-1.8c4.3-1.2,8.2-2.9,12-5c1.5-0.9,3-1.8,4.3-2.9c1.7-1.2,3.2-2.5,4.7-4L79.3,81.3z"/></g><path d="M88.4,30.6l6.2-3.2c-1.8-3.9-6-9.6-8.7-12.2c-0.4,0.4-5,4.9-5,4.9C83.9,23.3,86.5,26.8,88.4,30.6L88.4,30.6z M98.5,37.8c1.5,5.2,1.6,11.8,1.4,14.9c-0.6,0-6.4-0.4-7-0.4c0.3-3.9-0.4-10.1-1.2-12.8 M64,2c4.8,1.3,9.3,3.6,13.6,6.3l-3.9,5.8l0,0c-3.6-2.4-7.5-4.2-11.7-5.4L64,2z M92,77.1c2.2-3.1,5.1-9.4,6.1-13.6c-0.7-0.2-6.7-1.9-6.7-1.9c-1.2,4.1-2.9,8.1-5.3,11.7C86.1,73.3,90.5,76.2,92,77.1z"/><rect x="46.8" y="15.2" width="6.3" height="25"/><rect x="59.2" y="34.1" transform="matrix(0.8141 -0.5808 0.5808 0.8141 -21.1126 46.7042)" width="6.3" height="44.5"/></svg><svg class="luma-preview-offline-icon" version="1.1" x="0px" y="0px" viewBox="0 0 82.6 67.4" style="enable-background:new 0 0 82.6 67.4;" xml:space="preserve"><path d="M22.5,49.3c2.4-2.3,4.9-4.2,8-5.3V32.2c-6,1.9-11.3,4.9-15.6,9.4L22.5,49.3z"/><path d="M7.6,34.4c6.2-5.9,13.5-10.1,22-12.3V10.8C17.1,13.5,7.3,18.8,0,26.7L7.6,34.4z"/><path d="M60.4,49.3c-2.4-2.3-4.9-4.2-8-5.3V32.2c6,1.9,11.3,4.9,15.6,9.4L60.4,49.3z"/><path d="M74.9,34.4c-6.2-5.9-13.5-10.1-22-12.3V10.8c12.5,2.7,22.4,8,29.7,15.9L74.9,34.4z"/><g><path d="M44,48.4c-2,0-3,0-5,0c-1.5,0-2.7-1.5-2.7-3.3c-0.2-13.9-1.1-27.7-1.7-41.5c-0.1-1.8,1.5-3.4,3.5-3.5C40.8,0,42.2,0,44.9,0c2,0.1,3.6,1.6,3.5,3.5c-0.7,13.8-1.5,27.7-1.7,41.5C46.7,46.9,45.5,48.4,44,48.4z"/></g><circle cx="41.5" cy="60.8" r="6.6"/></svg><div class="luma-preview-refresh"><svg version="1.1" x="0px" y="0px" viewBox="0 0 55 57.9" style="enable-background:new 0 0 55 57.9;" xml:space="preserve"><g><g><path d="M27.5,1.5c-5.4,0-10.4,1.6-14.7,4.3L7.1,0v16.1h16.1l-6.4-6.4c3.2-1.8,6.8-2.8,10.7-2.8c12.2,0,22.1,9.9,22.1,22.1c0,2.9-0.6,5.7-1.6,8.2l4.7,2.8c1.5-3.4,2.3-7.1,2.3-11C55,13.8,42.7,1.5,27.5,1.5z"/><path d="M38.2,48.2C35,50,31.4,51,27.5,51C15.3,51,5.4,41.1,5.4,29c0-2.7,0.5-5.4,1.4-7.8l-4.7-2.9C0.8,21.6,0,25.2,0,29c0,15.2,12.3,27.5,27.5,27.5c5.4,0,10.4-1.6,14.7-4.3l5.8,5.8V41.8H31.8L38.2,48.2z"/></g></g></svg></div><div class="luma-preview-time"></div><div class="luma-preview-time-sub"></div></div><div class="luma-preview-hover"><svg class="luma-full-interface" viewBox="0 0 72 72" fill="none"><path d="M72 0V25.7143H66.8571V8.79911L8.79911 66.8571H25.7143V72H0V46.2857H5.14286V63.2009L63.2009 5.14286H46.2857V0H72Z" fill="white"/></svg><div class="luma-embed"><svg class="luma-embed-interface" x="0px" y="0px" viewBox="0 0 781.3 1000" style="enable-background:new 0 0 781.3 1000;" xml:space="preserve"><g><g><g><path d="M173.1,162.1c0-64.2,54.1-118.3,118.3-118.3s118.3,54.1,118.3,118.3v94.6c20.3-27,33.8-60.8,33.8-94.6C443.4,77.6,375.8,10,291.3,10s-152,67.6-152,152.1c0,37.2,13.5,71,33.8,94.6V162.1z"/><path d="M696.9,415.5c-20.3,0-37.2,6.8-50.7,16.9l0,0c0-47.3-37.2-84.5-84.5-84.5c-20.3,0-40.6,6.8-57.4,20.3c-13.5-33.8-43.9-54.1-77.7-54.1c-20.3,0-37.2,6.8-50.7,16.9V162c0-47.3-37.2-84.5-84.5-84.5s-84.5,37.2-84.5,84.5v300.8C139.3,402,64.9,354.7,17.6,402C-50,469.6,91.9,601.4,200.1,800.8C277.8,939.3,386,990,494.1,990c158.8,0,287.2-128.4,287.2-287.2V500C781.3,452.7,744.2,415.5,696.9,415.5z M747.5,574.3v128.4c0,131.8-114.9,253.5-253.4,253.5c-128.4,0-202.8-71-263.6-169c-128.4-223-223-324.4-189.2-361.6c37.2-37.2,128.4,43.9,199.4,118.3V162.1c0-27,23.7-50.7,50.7-50.7s50.7,23.7,50.7,50.7v354.8h33.8V398.6c0-27,23.7-50.7,50.7-50.7s50.7,23.7,50.7,50.7v84.5h33.8v-50.7c0-27,23.7-50.7,50.7-50.7s50.7,23.7,50.7,50.7v84.5h33.8V500c0-27,23.7-50.7,50.7-50.7s50.7,23.7,50.7,50.7L747.5,574.3L747.5,574.3z"/></g></g></g></svg><div class="luma-embed-title">Full cam</div></div></div>',errorPanel:'<div class="luma-alert-hover"><div class="luma-alert-message">We&#8217;re sorry, an <strong>error</strong> ocurred. Please try refreshing this page or checking back a bit later.<div class="icon">error</div></div></div>',offlinePanel:'<div class="luma-alert-hover"><div class="luma-alert-message">Camera is Offline until power/network is restored.<div class="icon"><svg version="1.1" x="0px" y="0px" viewBox="0 0 82.6 67.4" style="enable-background:new 0 0 82.6 67.4;" xml:space="preserve"><path d="M22.5,49.3c2.4-2.3,4.9-4.2,8-5.3V32.2c-6,1.9-11.3,4.9-15.6,9.4L22.5,49.3z"/><path d="M7.6,34.4c6.2-5.9,13.5-10.1,22-12.3V10.8C17.1,13.5,7.3,18.8,0,26.7L7.6,34.4z"/><path d="M60.4,49.3c-2.4-2.3-4.9-4.2-8-5.3V32.2c6,1.9,11.3,4.9,15.6,9.4L60.4,49.3z"/><path d="M74.9,34.4c-6.2-5.9-13.5-10.1-22-12.3V10.8c12.5,2.7,22.4,8,29.7,15.9L74.9,34.4z"/><g><path d="M44,48.4c-2,0-3,0-5,0c-1.5,0-2.7-1.5-2.7-3.3c-0.2-13.9-1.1-27.7-1.7-41.5c-0.1-1.8,1.5-3.4,3.5-3.5C40.8,0,42.2,0,44.9,0c2,0.1,3.6,1.6,3.5,3.5c-0.7,13.8-1.5,27.7-1.7,41.5C46.7,46.9,45.5,48.4,44,48.4z"/></g><circle cx="41.5" cy="60.8" r="6.6"/></svg></div></div></div>',upgradePanel:'<div class="luma-alert-hover"><div class="luma-alert-message">Your browser is out of date, please update to use our full-featured application.<div class="icon">update</div></div></div>',init:function(args){var customConfig=Iris.Core.get_config(args.camID,"preview"),_this=this;if(customConfig.aspectRatio!=undefined)
this.aspectRatio=customConfig.aspectRatio;this.camData=args.config;this.camData.camID=args.camID;this.mainShellID=args.mainShellID;this.camID=args.camID;this.paddedCamID=IrisUtil.str_pad(new String(args.camID),5);this.serverPath=args.serverPath;this.previewId=args.previewId;this.loadImageTime=args.config.current.time;var previewWrapper=iris('.'+args.mainShellID+" .violet-preview[cam='"+args.camID+"']");if(previewWrapper.length>1){var i=1,length=previewWrapper.length;for(;i<length;i++){iris(previewWrapper[i]).remove()}}
iris('.luma-preview[data-id="'+args.previewId+'"]').empty();var previewContainer='.luma-preview[data-id="'+args.previewId+'"]';var preview=iris('.luma-preview[data-id="'+args.previewId+'"]');if(preview.length>0){iris('.luma-preview[data-id="'+args.previewId+'"]').append(this.structure);this.previewImage=iris('.luma-preview[data-id="'+args.previewId+'"] .image')[0];this.previewShell=IrisDOM.find(previewContainer);this.previewHover=IrisDOM.find(previewContainer+' .hover');if(args.mode!==undefined){this.mode=args.mode;if(_this.mode=="embed"){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-preview-hover .luma-embed').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-preview-hover svg.luma-full-interface').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play').css('display','none');if(Iris.Core.mobile||Iris.Core.tablet){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-preview-hover').css('opacity','1')}}else{if(Iris.Core.mobile){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-preview-hover').css('display','none')}
if(Iris.Core.tablet){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-preview-hover').css('opacity','1')}}}
if(Iris.Core.mobile){iris('.luma-preview[data-id="'+args.previewId+'"] .luma-preview-time-sub').css('z-index','2')}
var tzOffset=parseInt(this.camData.cam.camTZOffset,10),imageUnixEpoch=parseInt(this.camData.current.time,10),tzDate=IrisTime.tz_offset(tzOffset,imageUnixEpoch),imageDate=IrisTime.convert_mysql_time(this.camData.current.mysqlTime),hrTime=IrisTime.tz_hr_time(tzOffset,imageUnixEpoch,!0).split(' '),hrTimeAry=[],hrTimeDesc=[];if(hrTime!==!1){if(hrTime.length>0){for(var i=0;i<hrTime.length;i++){if(!IrisUtil.is_numeric(hrTime[i])){hrTimeDesc.push(hrTime[i])}else{if(hrTimeDesc.length>0){hrTimeAry.push('<span class="luma-time-period">'+hrTimeDesc.join(' ')+'</span>');hrTimeDesc=[]}
hrTimeAry.push(hrTime[i])}}
if(hrTimeDesc.length>0){hrTimeAry.push('<span class="luma-time-period">'+hrTimeDesc.join(' ')+'</span>')}}}
this.update_image_time(this,!0);if(Iris.Core.browser.supported===!1){iris('.luma-preview[data-id="'+args.previewId+'"]').append(this.upgradePanel);iris('.luma-preview[data-id="'+args.previewId+'"] .luma-alert-hover').addClass("clickable");iris('.luma-preview[data-id="'+args.previewId+'"] .luma-alert-hover .icon').addClass('upgrade-'+Iris.Core.browser.name);this.previewHover=IrisDOM.find(previewContainer+' .luma-alert-hover');this.alert=args.alert;this.alertType=args.alert.type;iris('.luma-preview[data-id="'+args.previewId+'"] .hover').css('display','none')}else{if(args.alert!=undefined){this.alert=args.alert;this.alertType=args.alert.type;if(args.alert.type=='error'){iris('.luma-preview[data-id="'+args.previewId+'"]').append(this.errorPanel);iris('.luma-preview[data-id="'+args.previewId+'"] .luma-preview-time-sub').css('display','none');iris('.luma-preview[data-id="'+args.previewId+'"] .hover').css('display','none')}else if(args.alert.type=='offline'||args.alert.type=='offline-12'||args.alert.type=='offline-24'){if(args.alert.type=='offline-24'||args.alert.type=='offline'){iris('.luma-preview[data-id="'+args.previewId+'"] > .luma-preview-image-time > .luma-preview-now-icon').css('display','none');iris('.luma-preview[data-id="'+args.previewId+'"] > .luma-preview-image-time > .luma-preview-offline-icon').css('display','block');iris('.luma-preview[data-id="'+args.previewId+'"] > .luma-timelapse-play').css('display','none');iris('.luma-preview[data-id="'+args.previewId+'"] > .luma-preview-hover').css('display','none');iris('.luma-preview[data-id="'+args.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').html('offline');iris('.luma-preview[data-id="'+args.previewId+'"] > .luma-preview-image-time > .luma-time-period').css('display','none')}}}}
this.listenerEvents.previewHoverTouchStart=function(e){_this.startX=event.changedTouches[0].pageX;_this.startY=event.changedTouches[0].pageY};this.listenerEvents.orientationchange=function(e){var orientation='';switch(window.orientation){case 0:orientation='portrait';_this.deviceOrientation='portrait';break;case 90:case-90:orientation='landscape';_this.deviceOrientation='landscape';break}
_this.orientation_change(_this,orientation)};this.listenerEvents.timelapsePlayTouchEnd=function(e){let previewTimelapseWrapper=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper');if(previewTimelapseWrapper.length==0){Iris.Core.update_load_size(iris('.luma-preview[data-id="'+_this.previewId+'"]').width(),iris('.luma-preview[data-id="'+_this.previewId+'"]').width());let tlPath=_this.serverPath+_this.paddedCamID+'/running/'+_this.paddedCamID+'_timelapse_'+Iris.Core.fullResSize;let timelapseHTML='';if(Iris.Core.mobile||Iris.Core.tablet){tlPath=_this.serverPath+_this.paddedCamID+'/running/'+_this.paddedCamID+'_timelapse_360';timelapseHTML='<video preload="metadata" autoplay muted controls>Your browser does not support the video tag.<source src="'+tlPath+'.mp4" type="video/mp4" /><source src="'+tlPath+'.webm" type="video/webm" /></video>'}else{timelapseHTML='<video preload="metadata" autoplay muted playsinline style="pointer-events: none;">Your browser does not support the video tag.<source src="'+tlPath+'.mp4" type="video/mp4" /><source src="'+tlPath+'.webm" type="video/webm" /></video>'}
iris('.luma-preview[data-id="'+_this.previewId+'"]').append('<div class="luma-tl-wrapper"></div>');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper').append(timelapseHTML);_this.add_timelapse_listeners(_this);if(Iris.Core.mobile){setTimeout(function(){let videoElement=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video')[0]
if(typeof videoElement!='undefined'){iris(videoElement).on('webkitendfullscreen',function(){if(document.fullScreenElement||document.webkitIsFullScreen==!0||document.mozFullScreen||document.msFullscreenElement){}else{let previewTimelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video');let previewTimelapseWrapper=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper');previewTimelapseVideo[0].pause();_this.remove_timelapse_listeners(_this);iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper').remove();iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-play').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-pause').css('display','none');_this.isFullScreen=!1}})}},1000)}}else{let previewTimelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video');previewTimelapseVideo[0].pause();_this.remove_timelapse_listeners(_this);previewTimelapseWrapper.remove()}};this.listenerEvents.timelapsePlayClick=function(e){e.preventDefault();let previewTimelapseWrapper=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper');if(previewTimelapseWrapper.length==0){Iris.Core.update_load_size(iris('.luma-preview[data-id="'+_this.previewId+'"]').width(),iris('.luma-preview[data-id="'+_this.previewId+'"]').width());let tlPath=_this.serverPath+_this.paddedCamID+'/running/'+_this.paddedCamID+'_timelapse_'+Iris.Core.fullResSize;let timelapseHTML='';if(Iris.Core.mobile){tlPath=_this.serverPath+_this.paddedCamID+'/running/'+_this.paddedCamID+'_timelapse_360';timelapseHTML='<video preload="metadata" autoplay muted controls>Your browser does not support the video tag.<source src="'+tlPath+'.mp4" type="video/mp4" /><source src="'+tlPath+'.webm" type="video/webm" /></video>'}else{timelapseHTML='<video preload="metadata" autoplay muted playsinline style="pointer-events: none;">Your browser does not support the video tag.<source src="'+tlPath+'.mp4" type="video/mp4" /><source src="'+tlPath+'.webm" type="video/webm" /></video>'}
iris('.luma-preview[data-id="'+_this.previewId+'"]').append('<div class="luma-tl-wrapper"></div>');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper').append(timelapseHTML);_this.add_timelapse_listeners(_this);iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-play').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-pause').css('display','block')}else{let previewTimelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video');if(previewTimelapseVideo[0].paused){previewTimelapseVideo[0].play();iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-play').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-pause').css('display','block')}else{previewTimelapseVideo[0].pause();iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-play').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-pause').css('display','none')}}};this.listenerEvents.embedClick=function(e){window.open(_this.camData.cam.url)};this.listenerEvents.liveInterfaceCTAClick=function(e){e.preventDefault();if(iris('.luma-full[data-id="'+_this.previewId+'"]').length>0){let timelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video');if(timelapseVideo.length>0){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-play').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-pause').css('display','none');let timelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper');if(timelapseVideo.length>0){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper').remove()}
_this.remove_timelapse_listeners(_this)}
_this.toggle_fullscreen(_this,!0);_this.violetLive.init({serverPath:_this.serverPath,mainShellID:_this.mainShellID,camData:_this.camData,previewId:_this.previewId})}else{var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.responseText!=''){let fullUI=xhr.responseText.replace("<div class=\"luma-full\">","<div class=\"luma-full\" data-id=\""+_this.previewId+"\">");iris('body').append(fullUI);let timelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video');if(timelapseVideo.length>0){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-play').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-pause').css('display','none');let timelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper');if(timelapseVideo.length>0){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper').remove()}
_this.remove_timelapse_listeners(_this)}
setTimeout(function(){_this.toggle_fullscreen(_this,!0)},300);if(_this.mode==="standard"){if(_this.violetLive==null){_this.violetLive=Object.create(IrisLive)}
_this.violetLive.init({serverPath:_this.serverPath,mainShellID:_this.mainShellID,camData:_this.camData,previewId:_this.previewId})}else{window.open(_this.camData.cam.url)}}}};xhr.open('GET','//js.prismcam.com/assets/templates/fullscreen.tpl');xhr.send()}};this.refreshIntFunc=function(){let tzOffset=parseInt(_this.camData.cam.camTZOffset);let imageUnixEpoch=parseInt(_this.loadImageTime,10);let tzDate=IrisTime.tz_offset(tzOffset,parseInt(imageUnixEpoch,10));let hrTime=IrisTime.tz_hr_time(tzOffset,imageUnixEpoch,!0).split(' ');if(hrTime.length>0){if(hrTime[0]!="now"){let minsAgo=parseInt(hrTime[0],10);if(minsAgo==30){clearInterval(_this.refreshInt);iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-now-icon').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time').css('display','none')}}}};IrisEvent.subscribe('violetLiveClose',function(){setTimeout(function(){if(_this.violetLive!==null)
_this.violetLive=null;iris('.violet-live[cam="'+_this.camID+'"]').remove()},1100)})
if(Iris.Core.mobile||Iris.Core.tablet){if(this.alert!=null){if(this.alert.type=='offline'||this.alert.type=='offline-24'){iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-now-icon').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-offline-icon').css('display','block')}}}
this.add_listeners();_this.render(_this);let previewWidth=document.querySelector('.luma-preview[data-id="'+_this.previewId+'"]').clientWidth;if(previewWidth==0){let parent=document.querySelector('.luma-preview[data-id="'+_this.previewId+'"]');for(var i=0;i<20;i++){parent=parent.parentElement;if(parent.clientWidth!=0){previewWidth=parent.clientWidth;break}}}
let previewHeight=(previewWidth/_this.aspectRatio);_this.previewShell.style.height=previewHeight+"px";if(preview.length>0)
gsap.to(preview[0],1,{opacity:1,ease:Expo.easeOut});Iris.Core.ga_track(args.camID,'Preview','Init','Cam',args.camID)}},add_listeners:function(){var _this=this;if(!Iris.Core.mobile&&!Iris.Core.tablet){iris('.luma-preview[data-id="'+_this.previewId+'"]').on('mouseenter',function(e){_this.preview_over(_this,e)});iris('.luma-preview[data-id="'+_this.previewId+'"]').on('mouseleave',function(e){_this.preview_out(_this,e)})}
if(!Iris.Core.browser.supported){IrisEvent.dom_add(this.previewHover,'click',function(){var URL=Iris.Core.upgradeURL[Iris.Core.browser.name];window.open(URL,"BrowserUpgrade")})}else{let alert=((_this.alert!=null)?_this.alert.type:'');if(_this.alert==null||alert=='offline-12'){if(Iris.Core.mobile||Iris.Core.tablet){window.addEventListener("orientationchange",_this.listenerEvents.orientationchange);if(Iris.Core.tablet){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play').on('tap click',_this.listenerEvents.timelapsePlayClick);iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').on("tap click",(e)=>{_this.refresh_preview_image(_this)})}else{iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play').on('tap',_this.listenerEvents.timelapsePlayClick);iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').on("tap",(e)=>{_this.refresh_preview_image(_this)})}}else{iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play').on(Iris.Core.clickEvent,_this.listenerEvents.timelapsePlayClick);iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').on("click",(e)=>{e.stopPropagation();_this.refresh_preview_image(_this)})}
if(!Iris.Core.mobile){if(_this.mode=="embed"){iris('.luma-preview[data-id="'+_this.previewId+'"]').on(Iris.Core.clickEvent,_this.listenerEvents.embedClick)}else{if(Iris.Core.tablet){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-preview-hover').on('tap click',_this.listenerEvents.liveInterfaceCTAClick)}else{iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-preview-hover svg.luma-full-interface').on(Iris.Core.clickEvent,_this.listenerEvents.liveInterfaceCTAClick)}}}}else{if(Iris.Core.mobile||Iris.Core.tablet){if(Iris.Core.tablet){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play').on('tap click',_this.listenerEvents.timelapsePlayClick)}else{iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play').on('tap',_this.listenerEvents.timelapsePlayClick)}}else{iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play').on('click',_this.listenerEvents.timelapsePlayClick)}}}
window.addEventListener('resize',function(){_this.refresh_display(_this)},!1);if(this.alert!=null){if(this.alertType!='error'&&this.alertType!='offline'&&this.alertType!='offline-12'&&this.alertType!='offline-24'){_this.timeUpdateInt=setInterval(function(){_this.update_image_time(_this)},60000);if(_this.mode!="embed"){_this.refreshInt=setInterval(_this.refreshIntFunc,60000)}}}else{_this.timeUpdateInt=setInterval(function(){_this.update_image_time(_this)},60000);if(_this.mode!="embed"){_this.refreshInt=setInterval(_this.refreshIntFunc,60000)}}},add_timelapse_listeners:function(_this){let timelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video');if(timelapseVideo.length>0){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').on('ended',function(e){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-play').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-timelapse-play .iris-preview-timelapse-pause').css('display','none');let timelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper');if(timelapseVideo.length>0){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper').remove()}
_this.remove_timelapse_listeners(_this)});if(Iris.Core.mobile||Iris.Core.tablet){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').on('canplay',function(e){let video=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video');if(video[0].paused){video[0].play()}})}
iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').on('error',function(e){});iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').on('abort',function(e){});iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').on('stalled',function(e){});iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').on('waiting',function(e){})}},remove_timelapse_listeners:function(_this){let timelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video');if(timelapseVideo.length>0){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').on('ended',function(e){_this.remove_timelapse_listeners(_this);let timelapseVideo=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper');if(timelapseVideo.length>0){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper').remove()}});if(Iris.Core.mobile||Iris.Core.tablet){iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').off('canplay',function(e){let video=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video');if(video[0].paused){video[0].play()}})}
iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').off('error',function(e){});iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').off('abort',function(e){});iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').off('stalled',function(e){});iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-tl-wrapper video').off('waiting',function(e){})}},render:function(_this){_this.refresh_display(_this)},refresh_display:function(_this){_this.winWidth=_this.previewShell.clientWidth-14;if(_this.winWidth<0){var element=_this.previewShell;while(element.parentNode){if(element.offsetWidth>0){_this.winWidth=element.offsetWidth;_this.oldWidth=0;break}
element=element.parentNode}}
_this.winHeight=Math.floor(_this.winWidth/_this.aspectRatio);var imageDivWidth=iris('.luma-preview[data-id="'+_this.previewId+'"] .image').width();var imageSizes=IrisDOM.image_sizes(imageDivWidth);this.previewImage.style.backgroundImage="url('"+this.serverPath+this.camData.current.imagePath+"/"+imageSizes.hires+".jpg')";this.oldWidth=this.previewShell.clientWidth;clearInterval(_this.resizeTimer)
_this.resizeTimer=setTimeout(function(){_this.preview_image_size(_this)},500)},refresh_preview_image:function(_this){let imageSizes=IrisDOM.image_sizes(iris('.luma-preview[data-id="'+_this.previewId+'"]')[0].clientWidth);let previewPath=_this.serverPath+_this.paddedCamID+"/"+imageSizes.hires+".jpg";var img=new Image();img.onload=function(){iris('.luma-preview[data-id="'+_this.previewId+'"] .image').css('background-image','url("'+previewPath+'?rt='+new Date().getTime()+'")')};img.onerror=function(){};img.src=previewPath;iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').html('now');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-now-icon').css('display','block');_this.loadImageTime=Math.floor(new Date().getTime()/1000);_this.refreshInt=setInterval(_this.refreshIntFunc,60000)},preview_over:function(_this,mouseXY){var shellX,shellY=0;shellLeft=iris('.luma-preview[data-id="'+_this.previewId+'"]')[0].documentOffsetLeft;shellTop=iris('.luma-preview[data-id="'+_this.previewId+'"]')[0].documentOffsetTop;shellWidth=iris('.luma-preview[data-id="'+_this.previewId+'"]').width();shellHeight=iris('.luma-preview[data-id="'+_this.previewId+'"]').height();var hover;if(_this.alertType!==''&&_this.alert.type!='offline-12'){}else{hover=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-preview-hover');gsap.to(hover[0],0.5,{opacity:1,ease:Expo.easeOut})}},preview_out:function(_this,mouseXY){var hover;if(_this.alertType!==''&&_this.alert.type!='offline-12'){if(_this.alert.type=='offline'||args.alert.type=='offline-24'){}}else{hover=iris('.luma-preview[data-id="'+_this.previewId+'"] .luma-preview-hover');gsap.to(hover[0],0.5,{opacity:0,ease:Expo.easeOut})}},preview_image_size:function(_this){iris('.luma-preview[data-id="'+_this.previewId+'"]').css('height',(_this.winWidth/1.777).toString()+'px');if(_this.oldWidth<_this.winWidth){var imageSizes;if(_this.previewImage.elementWidth==0){imageSizes=IrisDOM.image_sizes(_this.winWidth)}else{imageSizes=IrisDOM.image_sizes(_this.previewImage.elementWidth)}
var backgroundImagePath=IrisDOM.style(_this.previewImage,'backgroundImage');var currentBackgroundImage=backgroundImagePath.split('/').pop();if(currentBackgroundImage!=(imageSizes.hires+'.jpg')){var vImage=Object.create(IrisImage);vImage.load_images({sources:[_this.serverPath+_this.camData.current.imagePath+'/'+imageSizes.hires+'.jpg'],onComplete:function(imgSrc){gsap.to(_this.previewImage,1,{opacity:0,ease:Expo.easeOut,onComplete:function(){_this.previewImage.style.backgroundImage="url('"+imgSrc[0]+"')";IrisDOM.style(_this.previewImage,'opacity',1)}})}})}
_this.oldWidth=_this.winWidth}},update_image_time:function(_this,init=!1){var tzOffset=parseInt(_this.camData.cam.camTZOffset),imageUnixEpoch=parseInt(_this.loadImageTime,10),tzDate=IrisTime.tz_offset(tzOffset,parseInt(imageUnixEpoch,10)),imageDate=IrisTime.convert_mysql_time(_this.camData.current.mysqlTime),hrTime=IrisTime.tz_hr_time(tzOffset,imageUnixEpoch,!0).split(' '),hrTimeAry=[];hrTimeAry=IrisTime.format_hr_time(hrTime);if(hrTimeAry.length>1){let minsAgo=parseInt(hrTimeAry[0],10);if(minsAgo>=30){iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-now-icon').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').html('image');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').css('display','block')}else{if(isNaN(minsAgo)){iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-now-icon').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-offline-icon').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time').html(hrTimeAry[0]);iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').html('last image')}else{let minsRounded=Math.floor(parseInt(hrTimeAry[0])/5)*5;iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-now-icon').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time').html(minsRounded.toString());iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').html(hrTimeAry[1])}}}else{if(hrTimeAry[0].toLowerCase()==="now"){iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-now-icon').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').html(hrTimeAry[0])}else{if(init){iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-refresh').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-now-icon').css('display','none');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-offline-icon').css('display','block');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-preview-time-sub').html('offline');iris('.luma-preview[data-id="'+_this.previewId+'"] > .luma-preview-image-time > .luma-time-period').css('display','none')}}}},toggle_fullscreen:function(_this,toggle){let elem=document.querySelector('.luma-full[data-id="'+_this.previewId+'"]');if(toggle){if(Iris.Core.tablet){Iris.Core.pageScrolltop=window.pageYOffset;window.scrollTo(0,0);document.getElementsByTagName('body')[0].classList.add('luma-body-override');document.querySelector('.luma-full[data-id="'+_this.previewId+'"]').style.display='block';document.querySelector('.luma-full[data-id="'+_this.previewId+'"]').style.top='0px';iris('.luma-full[data-id="'+_this.previewId+'"]').css({'top':'0px','height':(window.innerHeight)+'px'})}else{if(elem.requestFullscreen){elem.requestFullscreen();elem.style.display="inline-block"}
else if(elem.mozRequestFullScreen){elem.mozRequestFullScreen();elem.style.display="inline-block"}
else if(elem.webkitRequestFullscreen){const fullscreenEnabled=document.fullscreenEnabled||document.mozFullScreenEnable||document.webkitFullscreenEnabled;elem.webkitRequestFullscreen();elem.style.display="inline-block"}
else if(elem.msRequestFullscreen){elem.msRequestFullscreen();elem.style.display="inline-block"}else{}}
setTimeout(function(){isFullScreen=!0},300)}else{elem.style.display="none";setTimeout(function(){isFullScreen=!1},500)}},orientation_change:function(_this,orientation){setTimeout(function(){_this.refresh_display(_this)},600)},reset_display:function(){},reset:function(){},destroy:function(){}};var IrisLive={mainShellID:'',camID:0,previewId:'',version:2,settings:{},camData:{},myConfig:{},serverPath:'',images:{},w:0,h:0,aspectRatio:1.7778,winWidth:0,newWinWidth:0,component:null,shell:null,resizeTimer:null,timeline:null,phX:0,close:null,myTimeline:null,pageTracker:null,timelapseActive:!1,timelapsePlaying:!1,imageDraggable:null,dragPanShown:!1,structure:'',isFullScreen:!1,fullscreenTimeout:0,listenerEvents:[],initComplete:!1,lastMouseX:0,timeUpdateInt:0,init:function(args){Iris.Core.update_load_size(window.screen.width,window.screen.width);var _this=this;if(!this.initComplete){var customConfig=Iris.Core.get_config(args.camID,"preview");if(customConfig.aspectRatio!=undefined)
this.aspectRatio=customConfig.aspectRatio;this.serverPath=args.serverPath;this.myConfig=Iris.Core.get_config(args.camData.cam.cam_id,'live');this.winWidth=window.innerWidth;this.mainShellID=args.mainShellID;this.camData=args.camData;this.camID=args.camData.camID;this.version=args.camData.cam.version;this.component=this.component||iris('.luma-full[data-id="'+args.previewId+'"]');this.previewId=args.previewId;this.shell=this.shell||iris('.luma-full[data-id="'+this.previewId+'"]');this.images=Iris.Core.images(this.camID,'live');if(this.images.length>1){this.myTimeline=this.myTimeline||Object.create(IrisTimeline);this.myTimeline.init({serverPath:this.serverPath,mainShellID:args.mainShellID,camData:args.camData,previewId:args.previewId});this.timeline=this.timeline||IrisDOM.find('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-shell')}
this.close=this.close||iris('.luma-full[data-id="'+this.previewId+'"] .luma-exit-icon');this.reset();if(Iris.Core.tablet){iris('.luma-full[data-id="'+this.previewId+'"] .luma-image img').attr('src',args.serverPath+args.camData.current.imagePath+"/"+Iris.Core.fullResSize+'.jpg');iris('.luma-full[data-id="'+this.previewId+'"] .luma-image').css({'height':(window.innerHeight)+'px'});iris('.luma-full[data-id="'+this.previewId+'"] .luma-image img').css({'height':(window.innerHeight)+'px','width':(window.innerHeight*1.777)+'px'});iris('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-shell').css({'top':(window.innerHeight-47)+'px','bottom':'auto'})}else{iris('.luma-full[data-id="'+this.previewId+'"] .luma-image').css('background-image',"url('"+args.serverPath+args.camData.current.imagePath+"/"+Iris.Core.fullResSize+".jpg')")}
if(!Iris.Core.mobile){iris('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-preview .image-info').css('display','block');iris('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-shell .label').css('display','block')}
if(!Iris.Core.mobile){var tips=document.querySelectorAll('.luma-full[data-id="'+_this.previewId+'"] *[data-luma-tip]');for(var i=0;i<tips.length;i++){var a=tips[i];if(a.getAttribute('data-luma-tip')!==''){a.addEventListener('mouseenter',_this.create_tip);a.addEventListener('mouseleave',_this.cancel_tip)}}}
this.render(null,this);this.show_UI();if(iris('.luma-full[data-id="'+this.previewId+'"]').css('display')=='none')
iris('.luma-full[data-id="'+this.previewId+'"]').css('display','block');Iris.Core.ga_track(this.camID,'Live','Show','Cam',this.camID);IrisEvent.subscribe('makeTimelapseActive',function(data){if(!_this.timelapseActive){_this.timelapseActive=!0;_this.play_timelapse(_this)}});IrisEvent.subscribe('pauseTimelapse',function(data){if(_this.timelapseActive){var video=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video')[0];if(!video.paused){_this.timelapsePlaying=!1;video.pause()}}});IrisEvent.subscribe('playTimelapse',function(data){if(_this.timelapseActive){var video=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video')[0];if(video.paused){_this.timelapsePlaying=!0;video.play()}}});IrisEvent.subscribe('exitTimelapse',function(data){_this.exit_timelapse(_this)});IrisEvent.subscribe('disableDraggable',function(data){if(_this.imageDraggable!==null){_this.imageDraggable[0].disable();iris('.luma-full[data-id="'+_this.previewId+'"] .luma-image').css({'-webkit-backface-visibility':'','-webkit-touch-callout':'','-webkit-user-select':'','transform':''})}});IrisEvent.subscribe('enableDraggable',function(data){if(_this.imageDraggable!==null){_this.imageDraggable[0].enable()}})}
this.listenerEvents.fullscreenchange=function(e){e.preventDefault();clearTimeout(_this.fullscreenTimeout);_this.fullscreenTimeout=setTimeout(function(){if(_this.isFullScreen){IrisEvent.publish('exitingFullscreen',{});_this.isFullScreen=!1;let fullUI=document.querySelector('.luma-full[data-id="'+_this.previewId+'"]');if(fullUI!=null){fullUI.style.display="none"}
if(_this.timelapseActive){_this.exit_timelapse(_this)}}else{_this.isFullScreen=!0}},600)};this.listenerEvents.orientationchange=function(e){setTimeout(function(){_this.orientation_change(_this,IrisUtil.device_orientation())},600)};this.listenerEvents.liveExitIconClick=function(e){e.preventDefault();if(_this.timelapseActive){IrisEvent.publish('exitTimelapse',{});return}else{if(Iris.Core.tablet){document.getElementsByTagName('body')[0].classList.remove('luma-body-override');IrisEvent.publish('exitingFullscreen',{});_this.isFullScreen=!1;iris('.luma-full[data-id="'+_this.previewId+'"]').css('display','none');window.scrollTo(0,Iris.Core.pageScrolltop)}else{if(document.exitFullscreen){document.exitFullscreen()}
else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}
else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}
else if(document.msExitFullscreen){document.msExitFullscreen()}}}};this.listenerEvents.resize=function(e){_this.render(e,_this)};this.listenerEvents.videoCanPlay=function(e){let video=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video')[0]
if(Iris.Core.mobile||Iris.Core.tablet){if(video.paused){_this.timelapsePlaying=!0;video.play()}}};this.listenerEvents.videoEnded=function(e){IrisEvent.publish('exitTimelapse',{})};if(this.initComplete){this.myTimeline.init({})}else{this.add_listeners(this);_this.timeUpdateInt=setInterval(function(){_this.update_image_time(_this)},60000);this.update_image_time(this)}
this.initComplete=!0},add_listeners:function(_this){document.addEventListener('fullscreenchange',_this.listenerEvents.fullscreenchange);document.addEventListener('mozfullscreenchange',_this.listenerEvents.fullscreenchange);document.addEventListener('webkitfullscreenchange',_this.listenerEvents.fullscreenchange);document.addEventListener('msfullscreenchange',_this.listenerEvents.fullscreenchange);if(!Iris.Core.mobile){window.addEventListener('orientationchange',_this.listenerEvents.orientationchange);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-exit-icon').on('tap click',_this.listenerEvents.liveExitIconClick)}else{iris('.luma-full[data-id="'+_this.previewId+'"] .luma-exit-icon').on('tap',_this.listenerEvents.liveExitIconClick)}
window.addEventListener('resize',_this.listenerEvents.resize)},play_timelapse:function(_this){var tlShell=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell');let firstPlay=!1;let video;if(tlShell.length===0){firstPlay=!0;var imageShellHeight=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-image').height();iris('.luma-full[data-id="'+_this.previewId+'"]').append('<div class="luma-timelapse-shell"></div>');var paddedCamID=IrisUtil.str_pad(new String(_this.camID),5),tlPath=_this.serverPath+paddedCamID+'/running/'+paddedCamID+'_timelapse_'+Iris.Core.fullResSize,timelapseHTML='<video preload="metadata" autoplay muted controls>Your browser does not support the video tag.</video>';if(tlPath.indexOf('3k')!=-1){tlPath=tlPath.replace('3k','1080')}
if(Iris.Core.tablet){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').css({'height':(window.innerHeight-47).toString()+'px'})}
iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').append(timelapseHTML);video=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video')[0]}else{video=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video')[0];video.currentTime=0}
tlShell=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell');if(tlShell.length===0){return}
iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').css({display:'block',opacity:1});iris('.luma-full[data-id="'+_this.previewId+'"] .luma-scrubber-shell .preload').css({display:'block',height:'3px',opacity:1});iris(video).on('canplay',_this.listenerEvents.videoCanPlay);if(!Iris.Core.mobile){iris(video).on('playing',_this.listenerEvents.videoPlaying);iris(video).on('pause',_this.listenerEvents.videoPaused)}
iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video').on('ended',_this.listenerEvents.videoEnded);if(firstPlay){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video').on('error',function(e){});iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video').on('abort',function(e){});iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video').on('stalled',function(e){});iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video').append('<source src="'+tlPath+'.mp4" '+'type="video/mp4" /><source src="'+tlPath+'.webm" type="video/webm" />')}else{if(video.paused){video.play()}}
if(Iris.Core.tablet&&Iris.Core.tabletModel=='ipad'){video.load()}},exit_timelapse:function(_this){var tlShell=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell');var tlVideo=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video');_this.timelapsePlaying=!1;_this.timelapseActive=!1;if(tlVideo[0]!==undefined){if(tlVideo[0].playing){tlVideo[0].pause()}
tlVideo[0].currentTime=0}
if(tlShell.length>0){var video=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell video')[0];iris(video).off('canplay',_this.listenerEvents.videoCanPlay);if(!Iris.Core.mobile){iris(video).off('playing',_this.listenerEvents.videoPlaying);iris(video).off('pause',_this.listenerEvents.videoPaused)}
iris(video).off('ended',_this.listenerEvents.videoEnded);gsap.to(tlShell[0],2,{opacity:0,ease:Expo.easeOut,onComplete:function(){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').css('display','none')}});if(Iris.Core.mobile||Iris.Core.tablet){if(tlVideo[0].exitFullscreen){tlVideo[0].exitFullscreen()}
else if(tlVideo[0].mozCancelFullScreen){tlVideo[0].mozCancelFullScreen()}
else if(tlVideo[0].webkitExitFullscreen){tlVideo[0].webkitExitFullscreen()}
else if(tlVideo[0].msExitFullscreen){tlVideo[0].msExitFullscreen()}}}},render:function(e,_this){var doRender=!0;if(Iris.Core.mobile||Iris.Core.tablet){if(e!=null){if(e.scale<1.0||e.scale>1.0){doRender=!1;return}else{doRender=!1;return}}}
if(doRender){var orientation=null;if(Iris.Core.mobile||Iris.Core.tablet){orientation=IrisDOM.viewport_orientation()}
setTimeout(function(){if(orientation!==null){iris('.luma-full[data-id="'+_this.previewId+'"]').css({'height':window.innerHeight.toString()+'px'})
if(orientation==='portrait'){var imageDivHeight=window.innerHeight-90;if(Iris.Core.mobile)
imageDivHeight+=90;var imageDivWidth=Math.ceil(imageDivHeight*1.77);iris('.luma-full[data-id="'+_this.previewId+'"] .luma-image').css({'width':imageDivWidth+'px','height':imageDivHeight+'px'});if(iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').length>0){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').css({'height':(imageDivHeight+'px')})}
if(_this.imageDraggable===null){_this.imageDraggable=Draggable.create('.luma-full[data-id="'+_this.previewId+'"] > .luma-image',{type:"x",edgeResistance:0.8,bounds:'.luma-full[data-id="'+_this.previewId+'"]',throwProps:!0})}else{_this.imageDraggable[0].enable()}
if(!_this.dragPanShown){_this.dragPanShown=!0;iris('.luma-full[data-id="'+_this.previewId+'"]').append('<div class="violet-drag-pan-icon"></div>');var dragPanIcon=iris('.luma-full[data-id="'+_this.previewId+'"] .violet-drag-pan-icon')[0];setTimeout(function(){gsap.to(dragPanIcon,0.3,{ease:Power4.easeOut,opacity:1})},1000);setTimeout(function(){gsap.to(dragPanIcon,0.5,{ease:Power4.easeOut,left:'40%',onComplete:function(){gsap.to(dragPanIcon,0.5,{ease:Power4.easeOut,left:'60%',onComplete:function(){gsap.to(dragPanIcon,0.5,{ease:Power4.easeOut,left:'50%',onComplete:function(){gsap.to(dragPanIcon,0.3,{ease:Power4.easeOut,opacity:0,onComplete:function(){iris('.luma-full[data-id="'+_this.previewId+'"] .violet-drag-pan-icon').remove()}})}})}})}})},500)}}else{if(iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').length>0){let tlShellHeight=window.innerHeight-90;if(Iris.Core.mobile)
tlShellHeight+=90;iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').css({'height':(tlShellHeight+'px')})}
if(_this.imageDraggable!==null){_this.imageDraggable[0].disable()}
_this.w=window.innerWidth;_this.h=Math.floor(window.innerWidth/1.77);if(_this.h>window.innerHeight)
_this.h=window.innerHeight;var imageDivHeight=_this.h-90,imageDivWidth=window.innerWidth;if(Iris.Core.mobile)
imageDivHeight+=90;iris('.luma-full[data-id="'+_this.previewId+'"] .luma-image').css({'width':imageDivWidth+'px','height':imageDivHeight+'px','transform':'none'})}
var tlShell=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell');if(tlShell.length>0){var mainShellHeight=iris('.luma-full[data-id="'+_this.previewId+'"]').height();iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').css({height:mainShellHeight+'px'})}}else{_this.w=window.screen.width;_this.h=window.screen.height;if(_this.h>window.innerHeight)_this.h=window.innerHeight;var imageDivs=iris('.luma-full[data-id="'+_this.previewId+'"] .luma-image');if(imageDivs.length>0){imageDivs[0].style.height=_this.h+'px'}
if(iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').length>0){iris('.luma-full[data-id="'+_this.previewId+'"] .luma-timelapse-shell').css({'height':(_this.h-90+'px')})}
if(!Iris.Core.mobile)
_this.reset_idle_timer(_this);_this.newWinWidth=window.innerWidth;if(!Iris.Core.mobile){clearTimeout(_this.resizeTimer)
_this.resizeTimer=0;_this.resizeTimer=setTimeout(function(){_this.resize_complete(_this)},500)}}},500)}},resize_complete:function(_this){var changedWidth=(window.innerWidth-_this.winWidth);if(_this.newWinWidth==window.innerWidth){Iris.Core.update_load_size(_this.winWidth,_this.newWinWidth);_this.winWidth=_this.newWinWidth}},show_UI:function(){Iris.Core.ga_track(this.camID,'Live','Show UI','Cam',this.camID)},hide_UI:function(_this){},orientation_change:function(_this,orientation){_this.render(null,_this);if(_this.isFullScreen){document.getElementsByTagName('body')[0].classList.remove('luma-body-override')}
if(Iris.Core.tablet){iris('.luma-full[data-id="'+this.previewId+'"] .luma-image').css({'height':(window.innerHeight)+'px'});iris('.luma-full[data-id="'+this.previewId+'"] .luma-image img').css({'height':(window.innerHeight)+'px','width':(window.innerHeight*1.777)+'px'});iris('.luma-full[data-id="'+this.previewId+'"] .luma-scrubber-shell').css({'top':(window.innerHeight-47)+'px','bottom':'auto'})}
document.querySelector('.luma-full[data-id="'+_this.previewId+'"]').style.top='0px';if(_this.isFullScreen){document.getElementsByTagName('body')[0].classList.add('luma-body-override')}},update_image_time:function(_this){var tzOffset=parseInt(_this.camData.cam.camTZOffset),imageUnixEpoch=parseInt(_this.images[_this.images.length-1].time,10),tzDate=IrisTime.tz_offset(tzOffset,parseInt(imageUnixEpoch,10)),imageDate=IrisTime.convert_mysql_time(_this.camData.current.mysqlTime),hrTime=IrisTime.tz_hr_time(tzOffset,imageUnixEpoch,!0).split(' '),hrTimeAry=[];hrTimeAry=IrisTime.format_hr_time(hrTime);if(hrTimeAry.length>1){const minsAgo=parseInt(hrTimeAry[0],10);const regex=new RegExp('([0-9]{1,}:[0-9]+[A-Z]+)');const globalRegex=new RegExp(regex,'g');if(regex.test(hrTimeAry[0])){iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > svg').css('display','none');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time').css('display','block');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time-sub').css('display','block');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time').html(hrTimeAry[0]);iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time-sub').html('last image')}else{let minsRounded=Math.floor(parseInt(hrTimeAry[0])/5)*5;iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > svg').css('display','none');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time').css('display','block');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time-sub').css('display','block');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time').html(minsRounded.toString());iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time-sub').html(hrTimeAry[1])}}else{if(hrTimeAry[0].toLowerCase()==="now"){iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > svg').css('display','block');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time').css('display','none');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time-sub').css('display','block');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time-sub').html("NOW")}else{let imageTimeHR=hrTimeAry[0].replace('AM','<span style="font-size: 10px;">AM</span>');imageTimeHR=imageTimeHR.replace('PM','<span style="font-size: 10px;">PM</span>');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > svg').css('display','none');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time').css('display','block');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time-sub').css('display','block');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time').html('<span style="font-size:20px;">'+imageTimeHR+'</span>');iris('.luma-full[data-id="'+_this.previewId+'"] > .luma-scrubber-shell > .luma-scrubber-hour-current > .luma-icon > .luma-live-time-sub').html('<span style="font-size:12px;line-height:8px;">last image</span>')}}},stop_idle_timer:function(_this){},reset_idle_timer:function(_this){},create_tip:function(ev){let tooltip=this.getAttribute("data-luma-tip");let anchor=this.getAttribute("data-luma-tip-anchor");this.setAttribute('data-luma-tip','');this.setAttribute("tooltip",tooltip);var tooltipWrap=document.createElement("div");if(anchor=="bottom"){tooltipWrap.className='luma-tooltip luma-tooltip-bottom'}else if(anchor=="top-left"){tooltipWrap.className='luma-tooltip luma-tooltip-top-left'}else if(anchor=="top-right"){tooltipWrap.className='luma-tooltip luma-tooltip-top-right'}else{tooltipWrap.className='luma-tooltip'}
tooltipWrap.appendChild(document.createTextNode(tooltip));var firstChild=this.parentNode.firstChild;firstChild.parentNode.insertBefore(tooltipWrap,firstChild);var padding=15;var linkDims=this.getBoundingClientRect();var linkProps={top:this.offsetTop,left:this.offsetLeft};var tooltipProps=tooltipWrap.getBoundingClientRect();var topPos=linkProps.top-(tooltipProps.height+padding);var topLeft=(linkProps.left+(linkDims.width/2))-(tooltipProps.width/2);if(anchor!=''&&anchor=='bottom'){topPos=(linkProps.top+this.clientHeight+padding)}
if(anchor!=''&&anchor=='top-left'){topLeft=linkProps.left}
if(anchor!=''&&anchor=='top-right'){topLeft=linkProps.left+linkDims.width-tooltipProps.width}
tooltipWrap.setAttribute('style','top:'+topPos+'px;'+'left:'+topLeft+'px;');setTimeout(function(){tooltipWrap.style.opacity='1'},300)},cancel_tip:function(ev){var tooltip=this.getAttribute("tooltip");this.setAttribute("data-luma-tip",tooltip);this.removeAttribute("tooltip");document.querySelector(".luma-tooltip").remove()},refresh_display:function(){},reset_display:function(){},reset:function(){},destroy:function(){},is_fullScreen:function(){return !!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}}