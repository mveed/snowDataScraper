(window.brJsonP=window.brJsonP||[]).push([[8],{115:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var s=n(3),i=n(103);const l=".js-accordion-trigger",o=".js-accordion-pane",a=".js-plus",h=".js-minus",r=".js-open-all",c=".js-open-text",d="js-accordion-pane_active",p="mix-icon_hide",g="click",x={TIME:.5,TIME_SCROLL:1e3,EASE:i.Power1.easeOut,EASE_OUT:i.Power1.easeIn};class A extends s.a{createChildren(){return this.$body=$("html,body"),this.$triggers=this.$element.find(l),this.$panes=this.$element.find(o),this.$openAll=this.$element.find(r),this.$openText=this.$element.find(c),this}enable(){return this.$triggers.on(g,e=>this.handleTriggerClick(e)),this.$openAll.on(g,e=>this.handleOpenAll(e)),this}afterInit(){this.isOpenAll=!1,this.checkForNestedLinks(),this.isDeepLinked()&&this.openLinkedItem()}handleTriggerClick(e){const t=$(e.currentTarget),n=t.next(o);t.hasClass(d)?this.close(t,n):this.open(t,n)}handleOpenAll(){this.isOpenAll?this.closeAll():this.openAll()}open(e,t){i.TweenMax.to(t,x.TIME,{height:t.get(0).scrollHeight,onStart:function(){e.find(a).addClass(p),e.find(h).removeClass(p),e.addClass(d)},ease:x.EASE,onComplete:()=>{e.attr("aria-expanded",!0),t.find("a").attr("tabIndex",0),this.checkOpenState()}})}close(e,t){i.TweenMax.to(t,x.TIME,{height:0,onStart:function(){e.find(a).removeClass(p),e.find(h).addClass(p)},ease:x.EASE_OUT,onComplete:()=>{e.attr("aria-expanded",!1),e.removeClass(d),t.find("a").attr("tabIndex",-1),this.checkOpenState()}})}openAll(){this.$openText.text("Collapse All"),this.isOpenAll=!0,this.$triggers.each((e,t)=>{const n=$(t),s=n.next(o);this.open(n,s)})}closeAll(){this.$openText.text("Expand All"),this.isOpenAll=!1,this.$triggers.each((e,t)=>{const n=$(t),s=n.next(o);this.close(n,s)})}isDeepLinked(){return-1!==window.location.href.search("[?&]tab=")}openLinkedItem(){const e=this.getQueryString("tab"),t=$(`[data-deep-link="${e}"]`),n=t.next(o);t.length>0&&(this.open(t,n),this.scrollToTrigger(t),t.focus())}getQueryString(e){const t=window.location.href,n=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(t);return n?n[1]:null}scrollToTrigger(e){const t=e.offset().top;this.$body.animate({scrollTop:t},x.TIME_SCROLL)}checkForNestedLinks(){this.$panes.find("a").attr("tabIndex",-1)}checkOpenState(){const e=this.$triggers.length,t=this.$triggers.filter("."+d).length;0===t&&this.isOpenAll?(this.$openText.text("Expand All"),this.isOpenAll=!1):t!==e||this.isOpenAll||(this.$openText.text("Collapse All"),this.isOpenAll=!0)}}}}]);
//# sourceMappingURL=Accordion.9ce43f6ebde2691de5cd.js.map