(window.brJsonP=window.brJsonP||[]).push([[39],{146:function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return M}));var o=s(3),n=s(28),a=s(103),i=s(1);const h="timeout",d="hash",l="opacity",r="add-html-class",c="countdown",m="countdown-expired",u="countdown-prepend",f="timezone-offset",w={CLOSE:".js-toaster-close",MSG:".js-toast-msg",CTA_BUTTON:".js-toast-button",COUNTDOWN:".js-toast-countdown"},T="mix-band_hidden",C="toaster_present",O="click",E={TIME:.5,EASE_OUT:a.Power1.easeOut,EASE_IN:a.Power1.easeIn};class M extends o.a{createChildren(){return this.$closeBtn=this.$element.find(w.CLOSE),this.$modal=this.$element.find(w.MODAL),this.$ctaButton=this.$element.find(w.CTA_BUTTON),this.msg=this.$element.find(w.MSG).text().trim(),this.offset=this.$element.data(h),this.hash=this.$element.data(d),this.opacity=this.$element.data(l),this.needsClass=this.$element.data(r),this.countdown=this.$element.find(w.COUNTDOWN),this}enable(){return this.$closeBtn.on(O,t=>this.closeToaster(t)),this.$ctaButton.on(O,t=>this.closeToaster(t)),this.showToaster(),this}showToaster(){this.needsClass&&$("html").addClass(C),this.countdown&&this.startCountdown(this.countdown)}startCountdown(t){var e=t.data(f),s=new Date(t.data(c)).getTime(),o=i.a.decodeHtml(t.data(m)),n=i.a.decodeHtml(t.data(u));h();var a=setInterval(h,1e3);function h(){var i=new Date,h=i.getTime()+6e4*i.getTimezoneOffset(),d=new Date(h+36e5*e),l=s-d;if(l>0){var r=Math.floor(l/864e5),c=1===r?" day, ":" days, ",m=Math.floor(l%864e5/36e5),u=1===m?" hour, ":" hours, ",f=Math.floor(l%36e5/6e4),w=1===f?" minute, ":" minutes, ",T=Math.floor(l%6e4/1e3),C=1===T?" second":" seconds",O=(n.length>0?n+" ":"")+(r>0?r+c:"")+(r>0||m>0?m+u:"")+f+w+T+C;$(t).text(O)}else clearInterval(a),$(t).text(o)}}addCookie(){n.a.setCookie(this.hash,"",this.offset,!1)}closeToaster(){this.needsClass&&$("html").removeClass(C),a.TweenMax.to(this.$element,E.TIME,{height:0,ease:E.EASE_OUT,onComplete:()=>this.$element.addClass(T)}),this.addCookie()}}}}]);
//# sourceMappingURL=Toaster.9197ec823ccd6c7895aa.js.map