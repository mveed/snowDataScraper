(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Nzw2:function(e,t,n){"use strict";n.r(t),n.d(t,"CompareModule",function(){return ve});var a=n("ofXK"),i=n("bTqV"),o=n("iadO"),r=n("NFeN"),c=n("5RNC"),s=n("tyNb"),l=n("sYmb"),g=n("dBhb"),d=n("PCNd"),h=n("0Faz"),m=n("mrSG"),p=n("VfN6"),b=n("1uah"),u=n("IzEk"),C=n("fXoL"),f=n("2Vo4");let O=(()=>{class e{constructor(){this.isLeftCalendarOpen=!1,this.isRightCalendarOpen=!1,this.areCalendarsOpen=!1,this.isLeftCalendarOpen$=new f.a(this.isLeftCalendarOpen),this.isRightCalendarOpen$=new f.a(this.isRightCalendarOpen),this.areCalendarsOpen$=new f.a(this.areCalendarsOpen)}getAreCalendarsOpen$(){return this.areCalendarsOpen$.asObservable()}getIsLeftCalendarOpen$(){return this.isLeftCalendarOpen$.asObservable()}getIsRightCalendarOpen$(){return this.isRightCalendarOpen$.asObservable()}toggleLeftCalendar(){this.isLeftCalendarOpen=!this.isLeftCalendarOpen,this.isLeftCalendarOpen$.next(this.isLeftCalendarOpen)}toggleRightCalendar(){this.isRightCalendarOpen=!this.isRightCalendarOpen,this.isRightCalendarOpen$.next(this.isRightCalendarOpen)}toggleCalendars(){this.areCalendarsOpen=!this.areCalendarsOpen,this.areCalendarsOpen$.next(this.areCalendarsOpen)}closeCalenadrs(){this.isLeftCalendarOpen=!1,this.isRightCalendarOpen=!1,this.areCalendarsOpen=!1,this.isLeftCalendarOpen$.next(this.isLeftCalendarOpen),this.isRightCalendarOpen$.next(this.isRightCalendarOpen),this.areCalendarsOpen$.next(this.areCalendarsOpen)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=C.Kb({token:e,factory:e.\u0275fac}),e})();var v=n("tk/3"),M=n("pLZG"),_=n("lJxs"),P=n("nYR2"),I=n("HlYp"),S=n("EK73");let k=(()=>{class e{constructor(e){this.httpClient=e,this.dates$=new f.a(null),this.isDatesLoading=!1,this.isDatesLoaded=!1}getCompareCalendarDates$(){return this.loadCompareCalendarDates(),this.dates$.pipe(Object(M.a)(e=>!!e),Object(_.a)(e=>(e=>{const t=[];return e.forEach(e=>{e.months.forEach(n=>{n.days.forEach(a=>{t.push(new Date(e.y,n.m-1,a.d,0,0,0,0))})})}),t})(e)))}getArchiveCalendarDates$(){return this.loadCompareCalendarDates(),this.dates$.pipe(Object(M.a)(e=>!!e),Object(_.a)(e=>Object(S.a)(e)))}getCompareInitialImages$(){return this.httpClient.get(I.a.compare)}loadImage$(e){return this.httpClient.get(e,{responseType:"blob"})}getSliderFeed$(e){const t={params:new v.e({fromObject:{year:e.getFullYear().toString(),month:(e.getMonth()+1).toString(),day:e.getDate().toString(),range:"d"}})};return this.httpClient.get(I.a.archiveSlider,t)}loadCompareCalendarDates(){this.isDatesLoading||this.isDatesLoaded||(this.isDatesLoading=!0,this.httpClient.get(I.a.archiveCalendar).pipe(Object(P.a)(()=>this.isDatesLoading=!0)).subscribe(e=>{this.dates$.next(e),this.isDatesLoaded=!0}))}}return e.\u0275fac=function(t){return new(t||e)(C.Yb(v.b))},e.\u0275prov=C.Kb({token:e,factory:e.\u0275fac}),e})();var w=n("eCXC"),x=n("wbTk"),D=n("xgIS"),y=n("ry1c"),T=n("e6FO"),U=n("i6EO"),L=n("zzDJ");const $=["slider"],R=["*"];let F=(()=>{let e=class{constructor(e,t,n,a){this.window=e,this.elRef=t,this.panGesture=n,this.ngZone=a,this.positionX=0,this.deltaX=0,this.positionXChange=new C.n,this.slideStart=new C.n,this.slideEnd=new C.n}ngOnInit(){this.minPositionX=0,this.maxPositionX=0,this.handleMouseUp(),this.onPan(),this.handleWindowResize()}ngOnDestroy(){this.panManager&&this.panManager.destroy()}onMouseDown(){this.triggerOnMouseUp=!0,this.emitSlideStart()}onMouseUp(){this.triggerOnMouseUp&&this.emitSlideEnd()}emitSlideStart(){this.slideStart.emit()}emitSlideEnd(){this.slideEnd.emit()}handleMouseUp(){Object(D.a)(this.window.document,"pointerup").pipe(Object(p.b)(this)).subscribe(()=>this.onMouseUp())}onPan(){this.ngZone.runOutsideAngular(()=>{this.panManager=this.panGesture.on(this.sliderElRef.nativeElement,e=>{const t=-(this.elRef.nativeElement.parentElement.clientWidth/2-this.minPositionX),n=this.elRef.nativeElement.parentElement.clientWidth/2-this.maxPositionX-2,a=this.positionX-(this.deltaX-e.deltaX);e.isFinal?(this.triggerOnMouseUp=!1,this.deltaX=0,a>n?this.positionX=n:a<t&&(this.positionX=t)):(this.deltaX=e.deltaX,this.positionX=a);let i=this.positionX;a>n?i=n:a<t&&(i=t),this.elRef.nativeElement.style.transform=`translateX(${i}px)`,this.positionXChange.next(i)})})}handleWindowResize(){Object(D.a)(this.window,"resize").pipe(Object(p.b)(this)).subscribe(()=>{this.positionX=0,this.elRef.nativeElement.style.transform=`translateX(${this.positionX}px)`,this.positionXChange.next(this.positionX)})}};return e.\u0275fac=function(t){return new(t||e)(C.Ob(y.a),C.Ob(C.l),C.Ob(U.a),C.Ob(C.A))},e.\u0275cmp=C.Ib({type:e,selectors:[["app-compare-slider"]],viewQuery:function(e,t){if(1&e&&C.Jc($,3),2&e){let e;C.qc(e=C.cc())&&(t.sliderElRef=e.first)}},inputs:{minPositionX:"minPositionX",maxPositionX:"maxPositionX"},outputs:{positionXChange:"positionXChange",slideStart:"slideStart",slideEnd:"slideEnd"},ngContentSelectors:R,decls:10,vars:0,consts:[[1,"compare-slider-handler",3,"pointerdown"],["slider",""],["width","26","height","26","viewBox","0 0 26 26"],["d","M14.586 13L9.293 7.707c-.39-.39-.39-1.024 0-1.414.39-.39 1.024-.39 1.414 0l6 6c.39.39.39 1.024 0 1.414l-6 6c-.39.39-1.024.39-1.414 0-.39-.39-.39-1.024 0-1.414L14.586 13z",1,"icon-color"],[1,"compare-slider-content"]],template:function(e,t){1&e&&(C.kc(),C.Ub(0,"div",0,1),C.bc("pointerdown",function(){return t.onMouseDown()}),C.Ub(2,"div"),C.ec(),C.Ub(3,"svg",2),C.Pb(4,"path",3),C.Tb(),C.Tb(),C.dc(),C.Ub(5,"div"),C.ec(),C.Ub(6,"svg",2),C.Pb(7,"path",3),C.Tb(),C.Tb(),C.Tb(),C.dc(),C.Ub(8,"div",4),C.jc(9),C.Tb())},styles:['[_nghost-%COMP%]{position:absolute;top:0;left:calc(50% - 1px);bottom:0;width:2px;display:flex;align-items:center;will-change:transform;pointer-events:none}.theme-light   [_nghost-%COMP%]{background-color:#fff}.theme-dark   [_nghost-%COMP%]{background-color:#000}.compare-slider-handler[_ngcontent-%COMP%]{width:60px;height:60px;min-width:60px;min-height:60px;display:flex;border-radius:18px;position:relative;cursor:pointer;pointer-events:auto;transform:translateX(-50%);margin-left:1px}.theme-light   [_nghost-%COMP%]   .compare-slider-handler[_ngcontent-%COMP%]{background-color:#fff}.theme-dark   [_nghost-%COMP%]   .compare-slider-handler[_ngcontent-%COMP%]{background-color:#222}.compare-slider-handler[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:calc(50% - 1px);bottom:0;width:2px}.theme-light   [_nghost-%COMP%]   .compare-slider-handler[_ngcontent-%COMP%]:before{background-color:rgba(60,66,91,.2)}.theme-dark   [_nghost-%COMP%]   .compare-slider-handler[_ngcontent-%COMP%]:before{background-color:#000}.compare-slider-handler[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center}.compare-slider-handler[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{transform:rotate(180deg)}.theme-light   [_nghost-%COMP%]   .icon-color[_ngcontent-%COMP%]{fill:#3c425b}.theme-dark   [_nghost-%COMP%]   .icon-color[_ngcontent-%COMP%]{fill:#909090}.compare-slider-content[_ngcontent-%COMP%]{pointer-events:none}'],changeDetection:0}),e=Object(m.a)([Object(p.a)()],e),e})();var X=n("vkgz"),j=n("Dp68");const V=new C.r("image-structure-service-1"),B=new C.r("image-structure-service-2");var z=n("QDQP");const E=function(e,t){return{"compare-menu-calendar--open":e,"compare-menu-calendar--right":t}};let W=(()=>{class e{constructor(e){this.compareCalendarService=e,this.isVisible=!1,this.firstImage=new C.n,this.lastImage=new C.n,this.date=new C.n}toggleVisibility(){this.isVisible=!this.isVisible}toggleCalendar(){this.compareCalendarService.toggleCalendars()}isNextButtonDisabled(e){if(!this.compareCalendarDate)return!0;const t=new Date(this.compareCalendarDate);switch(t.setHours(0,0,0,0),e){case"year":t.setFullYear(this.compareCalendarDate.getFullYear()+1);break;case"month":t.setMonth(this.compareCalendarDate.getMonth()+1);break;case"week":t.setDate(this.compareCalendarDate.getDate()+7);break;case"day":t.setDate(this.compareCalendarDate.getDate()+1);break;default:return!0}return this.compareCalendarMaxDate<t}isPrevButtonDisabled(e){if(!this.compareCalendarDate)return!0;const t=new Date(this.compareCalendarDate);switch(t.setHours(0,0,0,0),e){case"year":t.setFullYear(this.compareCalendarDate.getFullYear()-1);break;case"month":t.setMonth(this.compareCalendarDate.getMonth()-1);break;case"week":t.setDate(this.compareCalendarDate.getDate()-7);break;case"day":t.setDate(this.compareCalendarDate.getDate()-1);break;default:return!1}return this.compareCalendarMinDate>t}changeDate(e,t){const n=new Date(this.compareCalendarDate);"year"===e?"prev"===t?n.setFullYear(this.compareCalendarDate.getFullYear()-1):"next"===t&&n.setFullYear(this.compareCalendarDate.getFullYear()+1):"month"===e?"prev"===t?n.setMonth(this.compareCalendarDate.getMonth()-1):"next"===t&&n.setMonth(this.compareCalendarDate.getMonth()+1):"week"===e?"prev"===t?n.setDate(this.compareCalendarDate.getDate()-7):"next"===t&&n.setDate(this.compareCalendarDate.getDate()+7):"day"===e&&("prev"===t?n.setDate(this.compareCalendarDate.getDate()-1):"next"===t&&n.setDate(this.compareCalendarDate.getDate()+1)),this.date.emit(n)}goToFirstImage(){this.firstImage.next()}goToLastImage(){this.lastImage.next()}}return e.\u0275fac=function(t){return new(t||e)(C.Ob(O))},e.\u0275cmp=C.Ib({type:e,selectors:[["app-compare-menu-calendar"]],inputs:{placement:"placement",compareCalendarDates:"compareCalendarDates",compareCalendarMinDate:"compareCalendarMinDate",compareCalendarMaxDate:"compareCalendarMaxDate",compareCalendarDate:"compareCalendarDate",isFirstImage:"isFirstImage",isLastImage:"isLastImage"},outputs:{firstImage:"firstImage",lastImage:"lastImage",date:"date"},decls:68,vars:32,consts:[[1,"compare-menu-calendar",3,"ngClass"],[1,"compare-menu-calendar-content-wrapper"],[1,"compare-menu-calendar-content"],[1,"compare-menu-calendar-top"],[3,"disabled","click"],[1,"compare-menu-calendar-top-icon","compare-menu-calendar-top-icon--left"],["width","26","height","26","viewBox","0 0 26 26"],["d","M14.586 13L9.293 7.707c-.39-.39-.39-1.024 0-1.414.39-.39 1.024-.39 1.414 0l6 6c.39.39.39 1.024 0 1.414l-6 6c-.39.39-1.024.39-1.414 0-.39-.39-.39-1.024 0-1.414L14.586 13z",1,"icon-color"],[1,"compare-menu-calendar-top-icon","compare-menu-calendar-top-icon--right"],[1,"compare-menu-calendar-list"],[1,"compare-menu-calendar-list__item"],[1,"compare-menu-calendar-bottom"],[1,"calendar-button",3,"click"],["width","18","height","18","viewBox","0 0 18 18"],["d","M11.77 1.385c.382 0 .692.31.692.692l-.001.692h1.385c1.147 0 2.077.93 2.077 2.077v9.692c0 1.148-.93 2.077-2.077 2.077H4.154c-1.147 0-2.077-.93-2.077-2.077V4.846c0-1.147.93-2.077 2.077-2.077h1.384v-.692c0-.35.26-.64.599-.686l.094-.006c.382 0 .692.31.692.692v.692h4.154v-.692c0-.35.26-.64.598-.686zm2.768 6.923H3.46v6.23c0 .383.31.693.693.693h9.692c.383 0 .692-.31.692-.693v-6.23zm-9-4.154H4.154c-.383 0-.692.31-.692.692L3.46 6.923h11.077V4.846c0-.382-.31-.692-.692-.692h-1.385v.692c0 .35-.26.64-.598.686l-.094.006c-.382 0-.692-.31-.692-.692v-.692H6.923v.692c0 .35-.26.64-.598.686l-.094.006c-.383 0-.693-.31-.693-.692v-.692z"],[3,"click"]],template:function(e,t){1&e&&(C.Ub(0,"div",0),C.Ub(1,"div",1),C.Ub(2,"div",2),C.Ub(3,"div",3),C.Ub(4,"button",4),C.bc("click",function(){return t.goToFirstImage()}),C.Ub(5,"span",5),C.ec(),C.Ub(6,"svg",6),C.Pb(7,"path",7),C.Tb(),C.Ub(8,"svg",6),C.Pb(9,"path",7),C.Tb(),C.Tb(),C.Dc(10),C.gc(11,"translate"),C.Tb(),C.dc(),C.Ub(12,"button",4),C.bc("click",function(){return t.goToLastImage()}),C.Dc(13),C.gc(14,"translate"),C.Ub(15,"span",8),C.ec(),C.Ub(16,"svg",6),C.Pb(17,"path",7),C.Tb(),C.Ub(18,"svg",6),C.Pb(19,"path",7),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.dc(),C.Ub(20,"ul",9),C.Ub(21,"li",10),C.Ub(22,"button",4),C.bc("click",function(){return t.changeDate("year","prev")}),C.ec(),C.Ub(23,"svg",6),C.Pb(24,"path",7),C.Tb(),C.Tb(),C.dc(),C.Ub(25,"span"),C.Dc(26),C.gc(27,"translate"),C.Tb(),C.Ub(28,"button",4),C.bc("click",function(){return t.changeDate("year","next")}),C.ec(),C.Ub(29,"svg",6),C.Pb(30,"path",7),C.Tb(),C.Tb(),C.Tb(),C.dc(),C.Ub(31,"li",10),C.Ub(32,"button",4),C.bc("click",function(){return t.changeDate("month","prev")}),C.ec(),C.Ub(33,"svg",6),C.Pb(34,"path",7),C.Tb(),C.Tb(),C.dc(),C.Ub(35,"span"),C.Dc(36),C.gc(37,"translate"),C.Tb(),C.Ub(38,"button",4),C.bc("click",function(){return t.changeDate("month","next")}),C.ec(),C.Ub(39,"svg",6),C.Pb(40,"path",7),C.Tb(),C.Tb(),C.Tb(),C.dc(),C.Ub(41,"li",10),C.Ub(42,"button",4),C.bc("click",function(){return t.changeDate("week","prev")}),C.ec(),C.Ub(43,"svg",6),C.Pb(44,"path",7),C.Tb(),C.Tb(),C.dc(),C.Ub(45,"span"),C.Dc(46),C.gc(47,"translate"),C.Tb(),C.Ub(48,"button",4),C.bc("click",function(){return t.changeDate("week","next")}),C.ec(),C.Ub(49,"svg",6),C.Pb(50,"path",7),C.Tb(),C.Tb(),C.Tb(),C.dc(),C.Ub(51,"li",10),C.Ub(52,"button",4),C.bc("click",function(){return t.changeDate("day","prev")}),C.ec(),C.Ub(53,"svg",6),C.Pb(54,"path",7),C.Tb(),C.Tb(),C.dc(),C.Ub(55,"span"),C.Dc(56),C.gc(57,"translate"),C.Tb(),C.Ub(58,"button",4),C.bc("click",function(){return t.changeDate("day","next")}),C.ec(),C.Ub(59,"svg",6),C.Pb(60,"path",7),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.dc(),C.Ub(61,"div",11),C.Ub(62,"button",12),C.bc("click",function(){return t.toggleCalendar()}),C.ec(),C.Ub(63,"svg",13),C.Pb(64,"path",14),C.Tb(),C.Tb(),C.dc(),C.Ub(65,"button",15),C.bc("click",function(){return t.toggleVisibility()}),C.ec(),C.Ub(66,"svg",6),C.Pb(67,"path",7),C.Tb(),C.Tb(),C.Tb(),C.Tb()),2&e&&(C.lc("ngClass",C.oc(29,E,t.isVisible,"right"===t.placement)),C.Cb(4),C.lc("disabled",t.isFirstImage),C.Cb(6),C.Fc(" ",C.hc(11,17,"_first")," "),C.Cb(2),C.lc("disabled",t.isLastImage),C.Cb(1),C.Fc(" ",C.hc(14,19,"_last")," "),C.Cb(9),C.lc("disabled",t.isPrevButtonDisabled("year")),C.Cb(4),C.Ec(C.hc(27,21,"_1_year")),C.Cb(2),C.lc("disabled",t.isNextButtonDisabled("year")),C.Cb(4),C.lc("disabled",t.isPrevButtonDisabled("month")),C.Cb(4),C.Ec(C.hc(37,23,"_1_month")),C.Cb(2),C.lc("disabled",t.isNextButtonDisabled("month")),C.Cb(4),C.lc("disabled",t.isPrevButtonDisabled("week")),C.Cb(4),C.Ec(C.hc(47,25,"_1_week")),C.Cb(2),C.lc("disabled",t.isNextButtonDisabled("week")),C.Cb(4),C.lc("disabled",t.isPrevButtonDisabled("day")),C.Cb(4),C.Ec(C.hc(57,27,"_1_day")),C.Cb(2),C.lc("disabled",t.isNextButtonDisabled("day")))},directives:[a.k],pipes:[l.d],styles:["[_nghost-%COMP%]{display:block}.compare-menu-calendar-content-wrapper[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:-21px}.compare-menu-calendar-content[_ngcontent-%COMP%]{border-top-left-radius:18px;border-top-right-radius:18px;overflow:hidden;transform:translateY(100%);transition:transform .2s ease-out;padding-bottom:21px;pointer-events:auto}.theme-light   [_nghost-%COMP%]   .compare-menu-calendar-content[_ngcontent-%COMP%]{background-color:#fff}.theme-dark   [_nghost-%COMP%]   .compare-menu-calendar-content[_ngcontent-%COMP%]{background-color:#222}.compare-menu-calendar[_ngcontent-%COMP%]{width:232px;position:relative;overflow:hidden;border-radius:18px}.theme-light   [_nghost-%COMP%]   .compare-menu-calendar[_ngcontent-%COMP%]{color:#3c425b}.theme-dark   [_nghost-%COMP%]   .compare-menu-calendar[_ngcontent-%COMP%]{color:#909090}.compare-menu-calendar-top[_ngcontent-%COMP%]{display:flex;height:50px;box-sizing:border-box;position:relative}.theme-light   [_nghost-%COMP%]   .compare-menu-calendar-top[_ngcontent-%COMP%]{border-bottom:1px solid rgba(60,66,91,.2)}.theme-dark   [_nghost-%COMP%]   .compare-menu-calendar-top[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,100%,.2)}.compare-menu-calendar-top[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:50%;height:100%;border:none;background-color:transparent;outline:none;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center;font-size:18px;line-height:1;color:inherit}.compare-menu-calendar-top[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled{opacity:.5}.theme-light   [_nghost-%COMP%]   .compare-menu-calendar-top[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:first-child){border-left:1px solid rgba(60,66,91,.2)}.theme-dark   [_nghost-%COMP%]   .compare-menu-calendar-top[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:first-child){border-left:1px solid hsla(0,0%,100%,.2)}.compare-menu-calendar-top-icon[_ngcontent-%COMP%]{display:flex}.compare-menu-calendar-top-icon[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]:last-child{margin-left:-18px}.compare-menu-calendar-top-icon--left[_ngcontent-%COMP%]{transform:rotate(180deg)}.compare-menu-calendar-list[_ngcontent-%COMP%]{padding:10px;margin:0}.compare-menu-calendar-list__item[_ngcontent-%COMP%]{margin:0;padding:8px 10px;display:flex;justify-content:space-between;align-items:center;font-size:18px}.compare-menu-calendar-list__item[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border:none;background-color:transparent;outline:none;cursor:pointer;width:26px;height:26px;padding:0}.compare-menu-calendar-list__item[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled{opacity:.5}.compare-menu-calendar-list__item[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child > svg[_ngcontent-%COMP%]{transform:rotate(180deg)}.compare-menu-calendar-bottom[_ngcontent-%COMP%]{height:42px;display:flex;position:relative;z-index:1;border-radius:18px;overflow:hidden;pointer-events:auto}.theme-dark   [_nghost-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%]{box-shadow:0 0 40px 0 rgba(60,66,91,.2)}.compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border:none;outline:none;cursor:pointer;padding:0;display:flex;justify-content:center;align-items:center}.compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{width:44px}.compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{flex-grow:1}.theme-light   [_nghost-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{background-color:#fff;border-left:1px solid rgba(60,66,91,.2)}.theme-dark   [_nghost-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{background-color:#222;border-left:1px solid hsla(0,0%,100%,.2)}.compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child > svg[_ngcontent-%COMP%]{transition:transform .2s ease;transform:rotate(-90deg)}.theme-light   [_nghost-%COMP%]   .icon-color[_ngcontent-%COMP%]{fill:#3c425b}.theme-dark   [_nghost-%COMP%]   .icon-color[_ngcontent-%COMP%]{fill:#909090}.calendar-button[_ngcontent-%COMP%]{transition:background-color .3s ease}.theme-light.theme-color-yellow   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#bf9900}.theme-light.theme-color-red   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#d50015}.theme-light.theme-color-green   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:green}.theme-light.theme-color-blue   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#008fd0}.theme-light.theme-color-orange   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#f76200}.theme-light.theme-color-purple   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#af52de}.theme-light.theme-color-monochrome   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#000}.theme-dark.theme-color-yellow   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#c8a600}.theme-dark.theme-color-red   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#b00011}.theme-dark.theme-color-green   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#070}.theme-dark.theme-color-blue   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#0077ad}.theme-dark.theme-color-orange   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#d35400}.theme-dark.theme-color-purple   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#903db9}.theme-dark.theme-color-monochrome   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#fff}.calendar-button[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease}.theme-light   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.theme-dark   [_nghost-%COMP%]   .calendar-button[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.compare-menu-calendar--open[_ngcontent-%COMP%]   .compare-menu-calendar-content[_ngcontent-%COMP%]{transform:translateY(0)}.compare-menu-calendar--open[_ngcontent-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child > svg[_ngcontent-%COMP%]{transform:rotate(90deg)}.theme-light   [_nghost-%COMP%]   .compare-menu-calendar--open[_ngcontent-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#fff}.theme-dark   [_nghost-%COMP%]   .compare-menu-calendar--open[_ngcontent-%COMP%]   .calendar-button[_ngcontent-%COMP%]{background-color:#222}.theme-light   [_nghost-%COMP%]   .compare-menu-calendar--open[_ngcontent-%COMP%]   .calendar-button[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#3c425b}.theme-dark   [_nghost-%COMP%]   .compare-menu-calendar--open[_ngcontent-%COMP%]   .calendar-button[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#909090}.compare-menu-calendar--right[_ngcontent-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%]{flex-direction:row-reverse}.compare-menu-calendar--right[_ngcontent-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{border-left:none}.theme-light   [_nghost-%COMP%]   .compare-menu-calendar--right[_ngcontent-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{border-right:1px solid rgba(60,66,91,.2)}.theme-dark   [_nghost-%COMP%]   .compare-menu-calendar--right[_ngcontent-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{border-right:1px solid hsla(0,0%,100%,.2)}.compare-slider-content--disabled[_nghost-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%], .compare-slider-content--disabled   [_nghost-%COMP%]   .compare-menu-calendar-bottom[_ngcontent-%COMP%], .compare-slider-content--disabled[_nghost-%COMP%]   .compare-menu-calendar-content[_ngcontent-%COMP%], .compare-slider-content--disabled   [_nghost-%COMP%]   .compare-menu-calendar-content[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),e})();function H(e,t){if(1&e){const e=C.Vb();C.Ub(0,"app-compare-menu-calendar",6),C.bc("firstImage",function(){return C.uc(e),C.fc().goToFirstImage("first")})("lastImage",function(){return C.uc(e),C.fc().goToLastImage("first")})("date",function(t){return C.uc(e),C.fc().goToImageByDate("first",t)}),C.gc(1,"async"),C.gc(2,"async"),C.gc(3,"async"),C.Tb()}if(2&e){const e=C.fc();C.lc("compareCalendarDates",e.compareCalendarDates)("compareCalendarMinDate",e.compareCalendarMinDate)("compareCalendarMaxDate",e.compareCalendarMaxDate)("compareCalendarDate",C.hc(1,6,e.timeAt1$))("isFirstImage",C.hc(2,8,e.isFirstImage1$))("isLastImage",C.hc(3,10,e.isLastImage1$))}}function A(e,t){if(1&e){const e=C.Vb();C.Ub(0,"app-compare-menu-calendar",7),C.bc("firstImage",function(){return C.uc(e),C.fc().goToFirstImage("second")})("lastImage",function(){return C.uc(e),C.fc().goToLastImage("second")})("date",function(t){return C.uc(e),C.fc().goToImageByDate("second",t)}),C.gc(1,"async"),C.gc(2,"async"),C.gc(3,"async"),C.Tb()}if(2&e){const e=C.fc();C.lc("compareCalendarDates",e.compareCalendarDates)("compareCalendarMinDate",e.compareCalendarMinDate)("compareCalendarMaxDate",e.compareCalendarMaxDate)("compareCalendarDate",C.hc(1,6,e.timeAt2$))("isFirstImage",C.hc(2,8,e.isFirstImage2$))("isLastImage",C.hc(3,10,e.isLastImage2$))}}let N=(()=>{let e=class{constructor(e,t,n,a,i,o){this.imageStructureService1=e,this.imageStructureService2=t,this.activatedRoute=n,this.compareImagesService=a,this.location=i,this.isDesktopView$=o.isDesktopView$,this.onSelectImage1=new C.n,this.onSelectImage2=new C.n}ngOnInit(){this.isFirstImage1$=this.imageStructureService1.getIsFirstImage$(),this.isFirstImage2$=this.imageStructureService2.getIsFirstImage$(),this.isLastImage1$=this.imageStructureService1.getIsLastImage$(),this.isLastImage2$=this.imageStructureService2.getIsLastImage$(),this.timeAt1$=this.imageStructureService1.getCurrentImageDate$().pipe(Object(X.a)(e=>{this.timeAt1=e})),this.timeAt2$=this.imageStructureService2.getCurrentImageDate$().pipe(Object(X.a)(e=>{this.timeAt2=e})),this.setCompareCalendarDates(),this.loadInitialImages(),this.handleImagesChange()}ngOnChanges(e){var t,n;(null===(t=null==e?void 0:e.imageId1)||void 0===t?void 0:t.currentValue)&&this.imageStructureService1.load(e.imageId1.currentValue),(null===(n=null==e?void 0:e.imageId2)||void 0===n?void 0:n.currentValue)&&this.imageStructureService2.load(e.imageId2.currentValue)}goToPrevImage(e){"first"===e?this.imageStructureService1.previous():"second"===e&&this.imageStructureService2.previous()}goToNextImage(e){"first"===e?this.imageStructureService1.next():"second"===e&&this.imageStructureService2.next()}goToFirstImage(e){"first"===e?this.imageStructureService1.goToFirstImage():"second"===e&&this.imageStructureService2.goToFirstImage()}goToLastImage(e){"first"===e?this.imageStructureService1.goToLastImage():"second"===e&&this.imageStructureService2.goToLastImage()}goToImageByDate(e,t){let n;const a="first"===e?this.timeAt1:this.timeAt2,i=new Date(t);i.setHours(0,0,0,0),n=this.compareCalendarDates.filter(a>t?e=>e<=i:e=>e>=i);const o=new Date(this.findClosestDate(i,n));o.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),0),"first"===e?this.imageStructureService1.loadByDate(o):"second"===e&&this.imageStructureService2.loadByDate(o)}loadInitialImages(){this.imageId1=parseInt(this.activatedRoute.snapshot.params.imageId1,10),this.imageId2=parseInt(this.activatedRoute.snapshot.params.imageId2,10),this.imageId1&&this.imageId2?(this.imageStructureService1.load(this.imageId1,!1),this.imageStructureService2.load(this.imageId2,!1)):this.compareImagesService.getCompareInitialImages$().pipe(Object(p.b)(this)).subscribe(e=>{this.imageStructureService1.load(e[2].id,!1),this.imageStructureService2.load(e[1].id,!1)})}handleImagesChange(){this.imageStructureService1.getCurrentImage$().pipe(Object(p.b)(this)).subscribe(e=>{this.imageId1=e.id,this.onSelectImage1.next(e),this.imageId2&&this.location.replaceState(`/compare/${this.imageId1}/${this.imageId2}`)}),this.imageStructureService2.getCurrentImage$().pipe(Object(p.b)(this)).subscribe(e=>{this.imageId2=e.id,this.onSelectImage2.next(e),this.imageId1&&this.location.replaceState(`/compare/${this.imageId1}/${this.imageId2}`)})}setCompareCalendarDates(){this.compareImagesService.getCompareCalendarDates$().pipe(Object(p.b)(this)).subscribe(e=>{this.compareCalendarDates=e,this.compareCalendarMinDate=e[0],this.compareCalendarMaxDate=e[e.length-1]})}findClosestDate(e,t){return t.reduce((t,n)=>{const a=Math.abs(t.getTime()-e.getTime()),i=Math.abs(n.getTime()-e.getTime());return a===i?t>n?t:n:i<a?n:t})}};return e.\u0275fac=function(t){return new(t||e)(C.Ob(V),C.Ob(B),C.Ob(s.a),C.Ob(k),C.Ob(a.i),C.Ob(w.a))},e.\u0275cmp=C.Ib({type:e,selectors:[["app-compare-menu"]],inputs:{imageId1:"imageId1",imageId2:"imageId2"},outputs:{onSelectImage1:"onSelectImage1",onSelectImage2:"onSelectImage2"},features:[C.Bb([{provide:V,useClass:j.a},{provide:B,useClass:j.a}]),C.Ab],decls:17,vars:28,consts:[[1,"compare-menu"],[1,"compare-menu__item"],["placement","left",3,"compareCalendarDates","compareCalendarMinDate","compareCalendarMaxDate","compareCalendarDate","isFirstImage","isLastImage","firstImage","lastImage","date",4,"ngIf"],[1,"compare-menu-camera-time-indicator"],[3,"isMobile","hasButtons","timeAt","isFirst","isLast","previous","next"],["placement","right",3,"compareCalendarDates","compareCalendarMinDate","compareCalendarMaxDate","compareCalendarDate","isFirstImage","isLastImage","firstImage","lastImage","date",4,"ngIf"],["placement","left",3,"compareCalendarDates","compareCalendarMinDate","compareCalendarMaxDate","compareCalendarDate","isFirstImage","isLastImage","firstImage","lastImage","date"],["placement","right",3,"compareCalendarDates","compareCalendarMinDate","compareCalendarMaxDate","compareCalendarDate","isFirstImage","isLastImage","firstImage","lastImage","date"]],template:function(e,t){1&e&&(C.Ub(0,"div",0),C.Ub(1,"div",1),C.Bc(2,H,4,12,"app-compare-menu-calendar",2),C.gc(3,"async"),C.Ub(4,"div",3),C.Ub(5,"app-ui-camera-time-indicator",4),C.bc("previous",function(){return t.goToPrevImage("first")})("next",function(){return t.goToNextImage("first")}),C.gc(6,"async"),C.gc(7,"async"),C.gc(8,"async"),C.Tb(),C.Tb(),C.Tb(),C.Ub(9,"div",1),C.Bc(10,A,4,12,"app-compare-menu-calendar",5),C.gc(11,"async"),C.Ub(12,"div",3),C.Ub(13,"app-ui-camera-time-indicator",4),C.bc("previous",function(){return t.goToPrevImage("second")})("next",function(){return t.goToNextImage("second")}),C.gc(14,"async"),C.gc(15,"async"),C.gc(16,"async"),C.Tb(),C.Tb(),C.Tb(),C.Tb()),2&e&&(C.Cb(2),C.lc("ngIf",C.hc(3,12,t.isDesktopView$)),C.Cb(3),C.lc("isMobile",!0)("hasButtons",!0)("timeAt",C.hc(6,14,t.timeAt1$))("isFirst",C.hc(7,16,t.isFirstImage1$))("isLast",C.hc(8,18,t.isLastImage1$)),C.Cb(5),C.lc("ngIf",C.hc(11,20,t.isDesktopView$)),C.Cb(3),C.lc("isMobile",!0)("hasButtons",!0)("timeAt",C.hc(14,22,t.timeAt2$))("isFirst",C.hc(15,24,t.isFirstImage2$))("isLast",C.hc(16,26,t.isLastImage2$)))},directives:[a.m,z.a,W],pipes:[a.b],styles:["[_nghost-%COMP%]{position:absolute;bottom:6%;left:50%;transform:translateX(-50%);pointer-events:none}.compare-menu[_ngcontent-%COMP%]{display:flex}.compare-menu__item[_ngcontent-%COMP%]{width:50%;padding:0 25px}.compare-menu-camera-time-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:9px 0;pointer-events:auto}.compare-slider-content--disabled[_nghost-%COMP%]   .compare-menu-camera-time-indicator[_ngcontent-%COMP%], .compare-slider-content--disabled   [_nghost-%COMP%]   .compare-menu-camera-time-indicator[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),e=Object(m.a)([Object(p.a)(),Object(p.a)()],e),e})();var Y=n("MY16");function G(e,t){1&e&&(C.Ub(0,"mat-icon"),C.Dc(1,"menu"),C.Tb())}function q(e,t){1&e&&(C.Ub(0,"mat-icon"),C.Dc(1,"menu_open"),C.Tb())}let J=(()=>{let e=class{constructor(e,t){this.fullScreenService=e,this.cdr=t,this.rotationSpeedChange=new C.n,this.rotationDirectionChange=new C.n,this.isCameraMenuVisible=!1,this.rotationSpeedMax=3}ngOnInit(){this.fullScreenService.isFullScreenMode$().pipe(Object(p.b)(this)).subscribe(e=>{this.isFullScreenMode=e,this.cdr.markForCheck()})}toggleCameraMenuVisibility(){this.isCameraMenuVisible=!this.isCameraMenuVisible}enterFullScreenMode(){this.isFullScreenMode||this.fullScreenService.switchOnFullScreenMode()}exitFullScreenMode(){this.isFullScreenMode&&this.fullScreenService.switchOffFullScreenMode()}toggleFullScreenMode(){this.isFullScreenMode?this.fullScreenService.switchOffFullScreenMode():this.fullScreenService.switchOnFullScreenMode()}changeRotationDirection(){this.rotationDirection===T.a.left?this.rotationDirectionChange.emit(T.a.right):this.rotationDirection===T.a.right&&this.rotationDirectionChange.emit(T.a.left)}increaseRotationSpeed(){this.rotationSpeed<this.rotationSpeedMax&&(this.rotationSpeed+=.5,this.rotationSpeedChange.emit(this.rotationSpeed))}decreaseRotationSpeed(){this.rotationSpeed>0&&(this.rotationSpeed-=.5,this.rotationSpeedChange.emit(this.rotationSpeed))}};return e.\u0275fac=function(t){return new(t||e)(C.Ob(Y.a),C.Ob(C.h))},e.\u0275cmp=C.Ib({type:e,selectors:[["app-compare-camera-menu"]],inputs:{rotationSpeed:"rotationSpeed",rotationDirection:"rotationDirection"},outputs:{rotationSpeedChange:"rotationSpeedChange",rotationDirectionChange:"rotationDirectionChange"},decls:37,vars:17,consts:[[1,"camera-menu"],[1,"camera-menu__button",3,"ngSwitch","click"],[4,"ngSwitchCase"],[1,"camera-menu__button",3,"click"],["width","20","height","20","viewBox","0 0 20 20"],["id","prefix__full-screen","d","M7.293 11.293c.39-.39 1.024-.39 1.414 0 .39.39.39 1.024 0 1.414L3.414 18H7c\n        .513 0 .936.386.993.883L8 19c0 .552-.448 1-1 1H.967l-.053-.004-.063-.007-.052-.01c-.022-.004-.043-.009-.065-.015l\n        -.046-.014-.06-.021-.051-.023-.061-.03-.037\n        -.022c-.025-.016-.05-.032-.074-.05-.04-.03-.077-.061-.112-.097l.09.08c-.063-.05-.12-.107-.17-.17l-.017-.022c\n        -.018-.024-.034-.049-.05-.074l-.021-.037c-.011-.02-.022-.04-.031-.06L.07 19.37l-.021-.06-.014-.045-.016-.065\n        -.009-.053C.004 19.1 0 19.051 0 19l.004.09L0 19.02V13c0-.552.448-1 1-1s1 .448 1 1v3.584zM19 0h.02c.023 0 \n        .046.002.07.004l.059.007.052.01c.022.004.043.009.065.015l.046.014.06.021.051.023.061.03.037.022c.025.016.05\n        .032.074.05.04.03.077.061.112.097l-.09-.08c.063.05.12.107.17.17l.017.022c.018.024.034.049.05.074l.021.037c\n        .011.02.022.04.031.06l.023.053.021.06.014.045.016.065.009.053C19.996.9 20 .949 20 1l-.004-.086.003.054L20 1v6c0 \n        .552-.448 1-1 1s-1-.448-1-1V3.414l-5.293 5.293c-.36.36-.928.388-1.32.083l-.094-.083c-.39-.39-.39-1.024 \n        0-1.414L16.584 2H13c-.513 0-.936-.386-.993-.883L12 1c0-.552.448-1 1-1z"],["fill","none","fill-rule","evenodd"],["fill","#3C425B","fill-rule","nonzero",0,"xlink","href","#prefix__full-screen",1,"camera-menu__icon"],["width","22","height","20","viewBox","0 0 22 20"],["id","prefix__change-rotation-direction","d","M14.997 9c-.553 0-1-.448-1-1 0-.553.447-1 1-1l3.479-.001-2.817-2.653c\n        -2.45-2.452-6.192-3.04-9.266-1.485l-.255.135c-3.12 1.72-4.727 5.297-3.94 8.773.788 3.475 3.778 6.01 7.336 6.219 3.557.208 \n        6.823-1.962 8.01-5.322.184-.52.755-.793 1.276-.61.52.185.794.756.61 1.277-1.484 4.2-5.567 6.912-10.013 6.651-4.447\n        -.26-8.185-3.43-9.17-7.773-.983-4.345 1.025-8.816 4.925-10.967 3.9-2.15 8.754-1.462 11.88 1.668l2.944 2.771V2c0\n        -.513.387-.936.884-.994L20.997 1c.552 0 1 .447 1 1v6.012l-.003.06-.006.06-.008.052-.015.066-.011.04c-.007.024\n        -.015.047-.024.07l-.016.038c-.01.025-.022.049-.035.072l\n        -.018.033c-.012.021-.025.042-.039.062-.029.041-.061.082-.097.12l.066-.077-.04.049-.026.028-.014.014-.03.03c\n        -.09.085-.193.15-.303.195l-.052.02-.044.014c-.023.007-.046.013-.07.018l-.051.01c-.054.009-.108.014-.164.014l.104\n        -.006-.066.005h-.038z"],["fill","#3C425B","fill-rule","nonzero",0,"xlink","href","#prefix__change-rotation-direction",1,"camera-menu__icon"],[1,"camera-menu__button","camera-menu__button--small","camera-menu__button--unbright",3,"click"],["width","9","height","6","viewBox","0 0 6 4"],["d","M0 0L26 0 26 26 0 26z","transform","matrix(1 0 0 -1 -10 15)"],["stroke","#3C425B","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12L13 14 11 12z","transform","matrix(1 0 0 -1 -10 15)",1,"camera-menu__icon","camera-menu__icon--stroke"],[1,"camera-menu__text-box"],[1,"text-small"],[1,"text-large"],["d","M0 0L26 0 26 26 0 26z","transform","translate(-10 -11)"],["stroke","#3C425B","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12L13 14 11 12z","transform","translate(-10 -11)",1,"camera-menu__icon","camera-menu__icon--stroke"]],template:function(e,t){1&e&&(C.Ub(0,"div",0),C.Ub(1,"button",1),C.bc("click",function(){return t.toggleCameraMenuVisibility()}),C.Bc(2,G,2,0,"mat-icon",2),C.Bc(3,q,2,0,"mat-icon",2),C.Tb(),C.Tb(),C.Ub(4,"nav",0),C.Ub(5,"button",3),C.bc("click",function(){return t.toggleFullScreenMode()}),C.ec(),C.Ub(6,"svg",4),C.Ub(7,"defs"),C.Pb(8,"path",5),C.Tb(),C.Ub(9,"g",6),C.Pb(10,"use",7),C.Tb(),C.Tb(),C.Tb(),C.dc(),C.Ub(11,"button",3),C.bc("click",function(){return t.changeRotationDirection()}),C.ec(),C.Ub(12,"svg",8),C.Ub(13,"defs"),C.Pb(14,"path",9),C.Tb(),C.Ub(15,"g",6),C.Pb(16,"use",10),C.Tb(),C.Tb(),C.Tb(),C.dc(),C.Ub(17,"button",11),C.bc("click",function(){return t.increaseRotationSpeed()}),C.ec(),C.Ub(18,"svg",12),C.Ub(19,"g",6),C.Pb(20,"path",13),C.Pb(21,"path",14),C.Tb(),C.Tb(),C.Tb(),C.dc(),C.Ub(22,"div",15),C.Ub(23,"span",16),C.Dc(24),C.gc(25,"translate"),C.Tb(),C.Ub(26,"span",17),C.Dc(27),C.gc(28,"number"),C.Tb(),C.Ub(29,"span",16),C.Dc(30),C.gc(31,"translate"),C.Tb(),C.Tb(),C.Ub(32,"button",11),C.bc("click",function(){return t.decreaseRotationSpeed()}),C.ec(),C.Ub(33,"svg",12),C.Ub(34,"g",6),C.Pb(35,"path",18),C.Pb(36,"path",19),C.Tb(),C.Tb(),C.Tb(),C.Tb()),2&e&&(C.Cb(1),C.lc("ngSwitch",t.isCameraMenuVisible),C.Cb(1),C.lc("ngSwitchCase",!1),C.Cb(1),C.lc("ngSwitchCase",!0),C.Cb(1),C.Gb("camera-menu--hidden",!t.isCameraMenuVisible),C.Cb(7),C.Gb("camera-menu__button--reverse",1===t.rotationDirection),C.Cb(13),C.Ec(C.hc(25,10,"_camera_menu_rotation")),C.Cb(3),C.Fc("",C.ic(28,12,t.rotationSpeed,"1.1-1"),"x"),C.Cb(3),C.Ec(C.hc(31,15,"_camera_menu_speed")))},directives:[a.o,a.p,r.a],pipes:[l.d,a.f],styles:["[_nghost-%COMP%]{position:absolute;top:3vh;left:3vh}.camera-menu[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;justify-content:space-between;width:60px;border-radius:18px;box-shadow:0 0 40px 0 rgba(60,66,91,.3);overflow:hidden;pointer-events:all;transition:transform .3s ease}.theme-light   [_nghost-%COMP%]   .camera-menu[_ngcontent-%COMP%]{background-color:#fff}.theme-dark   [_nghost-%COMP%]   .camera-menu[_ngcontent-%COMP%]{background-color:#222}.camera-menu[_ngcontent-%COMP%]:not(:last-child){margin-bottom:20px}.camera-menu--hidden[_ngcontent-%COMP%]{transform:translateX(-200%)}.camera-menu__button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:inherit;height:60px;padding:0;border:none;cursor:pointer;outline:none}.camera-menu__button--small[_ngcontent-%COMP%]{height:30px}.camera-menu__button--unbright[_ngcontent-%COMP%]{filter:brightness(94%)}.camera-menu__button--reverse[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{transform:scaleX(-1)}.camera-menu__text-box[_ngcontent-%COMP%]{box-sizing:border-box;min-height:60px;padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:inherit;word-break:break-all}.camera-menu__text-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.theme-light   [_nghost-%COMP%]   .camera-menu__text-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#3c425b}.theme-dark   [_nghost-%COMP%]   .camera-menu__text-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.55555555)}.camera-menu__text-box[_ngcontent-%COMP%] > .text-small[_ngcontent-%COMP%]{font-size:9px}.camera-menu__text-box[_ngcontent-%COMP%] > .text-large[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.theme-light   [_nghost-%COMP%]   .camera-menu__icon[_ngcontent-%COMP%]{fill:#3c425b}.theme-dark   [_nghost-%COMP%]   .camera-menu__icon[_ngcontent-%COMP%]{fill:hsla(0,0%,100%,.55555555)}.theme-light   [_nghost-%COMP%]   .camera-menu__icon--stroke[_ngcontent-%COMP%]{stroke:#3c425b}.theme-dark   [_nghost-%COMP%]   .camera-menu__icon--stroke[_ngcontent-%COMP%]{stroke:hsla(0,0%,100%,.55555555)}.theme-light   [_nghost-%COMP%]   .camera-menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3c425b}.theme-dark   [_nghost-%COMP%]   .camera-menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.55555555)}.camera-menu[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid rgba(172,175,189,.3)}"],changeDetection:0}),e=Object(m.a)([Object(p.a)()],e),e})();const K=["canvasContainer"],Z=["canvas1"],Q=["canvas2"];function ee(e,t){if(1&e){const e=C.Vb();C.Ub(0,"app-compare-camera-menu",10),C.bc("rotationSpeedChange",function(t){return C.uc(e),C.fc().tickerSpeed=t})("rotationDirectionChange",function(t){return C.uc(e),C.fc().tickerDirection=t}),C.Tb()}if(2&e){const e=C.fc();C.lc("rotationSpeed",e.tickerSpeed)("rotationDirection",e.tickerDirection)}}const te=function(e){return{transform:e}},ne=function(e){return{"compare-canvas--visible":e}},ae=function(e){return{right:e}},ie=function(e){return{left:e}};let oe=(()=>{let e=class{constructor(e,t,n,a,i,o,r){this.window=e,this.elRef=t,this.cdRef=n,this.compareImagesService=a,this.panGesture=i,this.mobileService=o,this.ngZone=r,this.isDesktopView$=o.isDesktopView$,this.imagePosX=0,this.sliderPosition=0,this.deltaX=0,this.tickerDirection=T.a.left,this.tickerSpeed=1,this.isLoadingImage={1:!1,2:!1},this.imageEl={1:null,2:null},this.loadImageSubscription={1:null,2:null},this.onSelectImage1=new C.n,this.onSelectImage2=new C.n}ngOnInit(){this.mobileService.isMobileView$.pipe(Object(p.b)(this)).subscribe(e=>{this.tickerSpeed=e?0:1})}ngAfterViewInit(){this.setCtx(),this.setCanvasSize(),this.setCanvasOffset(),this.setImagPositionX(),this.handleWindowResize(),this.onPan(),this.handleMouseUp()}ngOnDestroy(){this.panManager&&this.panManager.destroy(),this.stopTicker(),this.clearImageCache(1),this.clearImageCache(2)}loadImage(e,t){this.loadImageSubscription[e]&&this.loadImageSubscription[e].unsubscribe(),this.isLoadingImage[e]=!0,this.originalImageWidth&&this.originalImageHeight||(this.originalImageWidth=t.structure.half.w,this.originalImageHeight=t.structure.half.h,this.setImageSize(),this.setDrawImageNumber(),this.setImagPositionX(),this.setSliderRangePositions(),this.startTicker()),1===e?this.onSelectImage1.next(t):2===e&&this.onSelectImage2.next(t),this.loadImageSubscription[e]=this.compareImagesService.loadImage$(t.structure.half.url_full).pipe(Object(p.b)(this)).subscribe(t=>{const n=URL.createObjectURL(t),a=new Image;a.onload=()=>{this.clearImageCache(e),this.imageEl[e]=a,this.isLoadingImage[e]=!1,this.drawImage(e),this.cdRef.markForCheck()},a.src=n})}clearImageCache(e){1===e&&this.imageEl[1]&&URL.revokeObjectURL(this.imageEl[1].src),2===e&&this.imageEl[2]&&URL.revokeObjectURL(this.imageEl[2].src)}onSliderPositionChange(e){this.sliderPosition=e,this.setCanvasOffset(),this.drawImages(),this.cdRef.detectChanges()}mouseUpStartTicker(){this.isStopedByMouseDown&&this.startTicker(),this.isStopedByMouseDown=!1}mouseDownStopTicker(){this.stopTicker(),this.isStopedByMouseDown=!0}startTicker(){if(0!==this.tickerSpeed){if(!this.isImage360){const e=0;this.imagePosX<=-(this.imageWidth-this.canvasWidth)?this.tickerDirection=T.a.right:this.imagePosX>=e&&(this.tickerDirection=T.a.left),this.cdRef.markForCheck()}this.setImagPositionX(this.tickerSpeed*(this.tickerDirection===T.a.left?1:-1)),this.drawImages(),this.tickerAnimationFrame=this.window.requestAnimationFrame(()=>this.startTicker())}}stopTicker(){this.window.cancelAnimationFrame(this.tickerAnimationFrame)}handleMouseUp(){Object(D.a)(this.window.document,"pointerup").pipe(Object(p.b)(this)).subscribe(()=>{this.mouseUpStartTicker()})}setCtx(){this.ctx={1:this.canvas1Ref.nativeElement.getContext("2d",{alpha:!1}),2:this.canvas2Ref.nativeElement.getContext("2d",{alpha:!1})}}setCanvasSize(){this.canvasHeight=this.elRef.nativeElement.clientHeight,this.canvasWidth=this.elRef.nativeElement.clientWidth}setCanvasOffset(){this.canvasOffset=-this.elRef.nativeElement.clientWidth/2+this.sliderPosition}setImageSize(){const e=this.canvasHeight/this.originalImageHeight;this.imageWidth=Math.ceil(e*this.originalImageWidth),this.imageHeight=Math.ceil(e*this.originalImageHeight)}setDrawImageNumber(){this.drawImageNumber=this.isImage360?Math.ceil(this.canvasWidth/this.imageWidth)+1:1}setSliderRangePositions(){let e=60;if(this.isImage360)return this.sliderMinPositionX=e,void(this.sliderMaxPositionX=e);if(this.imageWidth<this.canvasWidth){const t=(this.canvasWidth-this.imageWidth)/2;e=t>e?t:e}this.sliderMinPositionX=e,this.sliderMaxPositionX=e}drawImage(e){let t;1===e?t=-this.canvasOffset:2===e&&(t=this.canvasOffset-2*this.sliderPosition),this.ctx[e].fillRect(0,0,this.canvasWidth,this.canvasHeight);for(let n=1;n<=this.drawImageNumber;n++)this.ctx[e].drawImage(this.imageEl[e],this.imagePosX+this.imageWidth*n-this.imageWidth+t,0,this.imageWidth,this.imageHeight)}drawImages(){this.imageEl[1]&&this.drawImage(1),this.imageEl[2]&&this.drawImage(2)}onPan(){this.ngZone.runOutsideAngular(()=>{this.panManager=this.panGesture.on(this.canvasContainerElRef.nativeElement,e=>{this.setImagPositionX(this.deltaX-e.deltaX),this.drawImages(),this.deltaX=e.isFinal?0:e.deltaX})})}setImagPositionX(e=0){let t=this.imagePosX-e;if(this.isImage360){const e=-(this.imageWidth*this.drawImageNumber-this.canvasWidth);t>0?t=-this.imageWidth:t<e&&(t=-(this.imageWidth*(this.drawImageNumber-1)-this.canvasWidth))}else if(this.imageWidth<this.canvasWidth)t=(this.canvasWidth-this.imageWidth)/2;else{const e=-(this.imageWidth-this.canvasWidth);t>0?t=0:t<e&&(t=-this.imageWidth+this.canvasWidth)}this.imagePosX=t}handleWindowResize(){Object(D.a)(this.window,"resize").pipe(Object(p.b)(this)).subscribe(()=>{this.setCanvasSize(),this.setImageSize(),this.imagePosX=0,this.setImagPositionX(),this.setSliderRangePositions(),this.cdRef.detectChanges(),this.drawImages()})}};return e.\u0275fac=function(t){return new(t||e)(C.Ob(y.a),C.Ob(C.l),C.Ob(C.h),C.Ob(k),C.Ob(U.a),C.Ob(w.a),C.Ob(C.A))},e.\u0275cmp=C.Ib({type:e,selectors:[["app-compare-canvas"]],viewQuery:function(e,t){if(1&e&&(C.Jc(K,3),C.Jc(Z,3),C.Jc(Q,3)),2&e){let e;C.qc(e=C.cc())&&(t.canvasContainerElRef=e.first),C.qc(e=C.cc())&&(t.canvas1Ref=e.first),C.qc(e=C.cc())&&(t.canvas2Ref=e.first)}},inputs:{isImage360:"isImage360",imageId1:"imageId1",imageId2:"imageId2"},outputs:{onSelectImage1:"onSelectImage1",onSelectImage2:"onSelectImage2"},decls:14,vars:28,consts:[[3,"rotationSpeed","rotationDirection","rotationSpeedChange","rotationDirectionChange",4,"ngIf"],[1,"compare-canvas-container",3,"ngStyle","pointerdown"],["canvasContainer",""],[1,"compare-canvas",3,"ngClass","width","height"],["canvas1",""],["canvas2",""],[1,"compare-canvas-loader","compare-canvas-loader--left",3,"hidden","ngStyle"],[1,"compare-canvas-loader","compare-canvas-loader--right",3,"hidden","ngStyle"],[3,"minPositionX","maxPositionX","positionXChange","slideStart","slideEnd"],[3,"imageId1","imageId2","onSelectImage1","onSelectImage2"],[3,"rotationSpeed","rotationDirection","rotationSpeedChange","rotationDirectionChange"]],template:function(e,t){1&e&&(C.Bc(0,ee,1,2,"app-compare-camera-menu",0),C.gc(1,"async"),C.Ub(2,"div",1,2),C.bc("pointerdown",function(){return t.mouseDownStopTicker()}),C.Pb(4,"canvas",3,4),C.Pb(6,"canvas",3,5),C.Tb(),C.Ub(8,"div",6),C.Pb(9,"app-ui-spinner"),C.Tb(),C.Ub(10,"div",7),C.Pb(11,"app-ui-spinner"),C.Tb(),C.Ub(12,"app-compare-slider",8),C.bc("positionXChange",function(e){return t.onSliderPositionChange(e)})("slideStart",function(){return t.stopTicker()})("slideEnd",function(){return t.startTicker()}),C.Ub(13,"app-compare-menu",9),C.bc("onSelectImage1",function(e){return t.loadImage(1,e)})("onSelectImage2",function(e){return t.loadImage(2,e)}),C.Tb(),C.Tb()),2&e&&(C.lc("ngIf",C.hc(1,16,t.isDesktopView$)),C.Cb(2),C.lc("ngStyle",C.nc(18,te,"translateX("+t.canvasOffset+"px")),C.Cb(2),C.lc("ngClass",C.nc(20,ne,t.imageEl[1]))("width",t.canvasWidth)("height",t.canvasHeight),C.Cb(2),C.lc("ngClass",C.nc(22,ne,t.imageEl[2]))("width",t.canvasWidth)("height",t.canvasHeight),C.Cb(2),C.lc("hidden",!t.isLoadingImage[1])("ngStyle",C.nc(24,ae,"calc(50% - "+t.sliderPosition+"px)")),C.Cb(2),C.lc("hidden",!t.isLoadingImage[2])("ngStyle",C.nc(26,ie,"calc(50% + "+t.sliderPosition+"px)")),C.Cb(2),C.lc("minPositionX",t.sliderMinPositionX)("maxPositionX",t.sliderMaxPositionX),C.Cb(1),C.lc("imageId1",t.imageId1)("imageId2",t.imageId2))},directives:[a.m,a.n,a.k,L.a,F,N,J],pipes:[a.b],styles:["[_nghost-%COMP%]{display:block;background-color:#000;cursor:pointer}.compare-canvas-container[_ngcontent-%COMP%]{height:100%;display:flex;will-change:transform}.compare-canvas[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.compare-canvas--visible[_ngcontent-%COMP%]{opacity:1}@-webkit-keyframes showLoader{0%{opacity:0}50%{opacity:0}to{opacity:1}}@keyframes showLoader{0%{opacity:0}50%{opacity:0}to{opacity:1}}.compare-canvas-loader[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;justify-content:center;align-items:center;-webkit-animation:showLoader 1s ease;animation:showLoader 1s ease;z-index:0}.theme-light   [_nghost-%COMP%]   .compare-canvas-loader[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.5)}.theme-dark   [_nghost-%COMP%]   .compare-canvas-loader[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5)}.compare-canvas-loader--left[_ngcontent-%COMP%]{left:0;right:50%;will-change:right}.compare-canvas-loader--right[_ngcontent-%COMP%]{right:0;left:50%}"],changeDetection:0}),e=Object(m.a)([Object(p.a)()],e),e})();var re=n("quSY"),ce=n("PqYM"),se=n("VRyK"),le=n("kTrY");let ge=(()=>{let e=class{constructor(e,t,n){this.compareImagesService=e,this.mobileService=t,this.cdRef=n,this.selectImageIdChange=new C.n,this.sliderFeedSubscription=new re.a,this.imagesLoadSubsctiption=new re.a,this.imagesLoadTimerSubsctiption=new re.a}ngOnDestroy(){this.clearCashedImages()}ngOnChanges(e){var t;if(null===(t=e.mainImage)||void 0===t?void 0:t.currentValue){const t=new Date(1e3*e.mainImage.currentValue.datetime);this.onCalendarDateChange(t)}e.isOpen&&this.mobileService.isDesktopView()&&(e.isOpen.currentValue?this.load():(this.imagesLoadTimerSubsctiption.unsubscribe(),this.imagesLoadSubsctiption.unsubscribe()))}onCalendarDateChange(e){this.disableCalendarInputs=!0,this.selectedImage=null,this.imageLoadedPreviews=[],this.areImagesLoading=!0,this.archiveCalendarDate=e,this.cdRef.markForCheck(),this.sliderFeedSubscription.unsubscribe(),this.imagesLoadSubsctiption.unsubscribe(),this.imagesLoadTimerSubsctiption.unsubscribe(),this.sliderFeedSubscription=this.compareImagesService.getSliderFeed$(e).pipe(Object(p.b)(this)).subscribe(e=>{this.clearCashedImages(),this.archiveCalendarSliderImages=Object.assign({},e.slider_feed),this.disableCalendarInputs=!1,this.cdRef.markForCheck(),this.sliderFeed=e.slider_feed,this.isOpen&&this.mobileService.isDesktopView()&&this.load()})}onCalendarSelectImage(e){this.selectImageIdChange.emit(e)}onCalendarSliderImageChange(e){var t;this.selectedImage=e,this.areImagesLoading=!0,this.cdRef.markForCheck();const n=null===(t=this.imageLoadedPreviews)||void 0===t?void 0:t.find(t=>t.id===e.id);n&&(this.archiveCalendarPreviewUrl=n.previewUrl,this.areImagesLoading=!1,this.cdRef.markForCheck())}load(){this.imagesLoadTimerSubsctiption=Object(ce.a)(300).pipe(Object(p.b)(this)).subscribe(()=>{this.imagesLoadSubsctiption=this.preloadImagesPreview$(this.sliderFeed).pipe(Object(p.b)(this)).subscribe(e=>{var t;this.imageLoadedPreviews=[...this.imageLoadedPreviews,e],(null===(t=this.selectedImage)||void 0===t?void 0:t.id)===e.id&&(this.archiveCalendarPreviewUrl=e.previewUrl,this.areImagesLoading=!1,this.cdRef.markForCheck())})})}clearCashedImages(){this.imageLoadedPreviews&&Object.values(this.imageLoadedPreviews).forEach(e=>URL.revokeObjectURL(e.previewUrl))}preloadImagesPreview$(e){const t=Object.values(e).reverse().map(e=>this.compareImagesService.loadImage$(e.structure.thumbnail.url_full).pipe(Object(_.a)(t=>({previewUrl:URL.createObjectURL(t),id:e.id}))));return Object(se.a)(...t)}};return e.\u0275fac=function(t){return new(t||e)(C.Ob(k),C.Ob(w.a),C.Ob(C.h))},e.\u0275cmp=C.Ib({type:e,selectors:[["app-compare-archive"]],inputs:{archiveCalendarDates:"archiveCalendarDates",isImage360:"isImage360",mainImage:"mainImage",isOpen:"isOpen"},outputs:{selectImageIdChange:"selectImageIdChange"},features:[C.Ab],decls:1,vars:7,consts:[[3,"calendarDates","dateSelected","sliderItems","imagePreviewUrl","isLoading","isPanorama","disabled","itemChange","dateChange","loadMain"]],template:function(e,t){1&e&&(C.Ub(0,"app-ui-camera-calendar",0),C.bc("itemChange",function(e){return t.onCalendarSliderImageChange(e)})("dateChange",function(e){return t.onCalendarDateChange(e)})("loadMain",function(e){return t.onCalendarSelectImage(e)}),C.Tb()),2&e&&C.lc("calendarDates",t.archiveCalendarDates)("dateSelected",t.archiveCalendarDate)("sliderItems",t.archiveCalendarSliderImages)("imagePreviewUrl",t.archiveCalendarPreviewUrl)("isLoading",t.areImagesLoading)("isPanorama",t.isImage360)("disabled",t.disableCalendarInputs)},directives:[le.a],styles:[""],changeDetection:0}),e=Object(m.a)([Object(p.a)()],e),e})();function de(e,t){if(1&e){const e=C.Vb();C.ec(),C.dc(),C.Ub(0,"button",5),C.bc("click",function(){return C.uc(e),C.fc().onCloseClick()}),C.ec(),C.Ub(1,"svg",6),C.Ub(2,"g",7),C.Ub(3,"g",8),C.Ub(4,"g"),C.Ub(5,"g"),C.Pb(6,"path",9),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb()}}const he=function(e,t){return{"button--left":e,"button--right":t}};let me=(()=>{class e{constructor(){this.toggleClick=new C.n,this.closeClick=new C.n}onToggleClick(){this.toggleClick.next()}onCloseClick(){this.closeClick.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Ib({type:e,selectors:[["app-compare-calendar-toggler"]],inputs:{position:"position",isCalendarButtonVisible:"isCalendarButtonVisible"},outputs:{toggleClick:"toggleClick",closeClick:"closeClick"},decls:5,vars:7,consts:[[1,"compare-calendar-toggler"],[3,"ngClass","click"],["width","26","height","26","viewBox","0 0 18 18"],["d","M11.77 1.385c.382 0 .692.31.692.692l-.001.692h1.385c1.147 0 2.077.93 2.077 2.077v9.692c0 1.148-.93 2.077-2.077 2.077H4.154c-1.147 0-2.077-.93-2.077-2.077V4.846c0-1.147.93-2.077 2.077-2.077h1.384v-.692c0-.35.26-.64.599-.686l.094-.006c.382 0 .692.31.692.692v.692h4.154v-.692c0-.35.26-.64.598-.686zm2.768 6.923H3.46v6.23c0 .383.31.693.693.693h9.692c.383 0 .692-.31.692-.693v-6.23zm-9-4.154H4.154c-.383 0-.692.31-.692.692L3.46 6.923h11.077V4.846c0-.382-.31-.692-.692-.692h-1.385v.692c0 .35-.26.64-.598.686l-.094.006c-.382 0-.692-.31-.692-.692v-.692H6.923v.692c0 .35-.26.64-.598.686l-.094.006c-.383 0-.693-.31-.693-.692v-.692z",1,"icon"],["class","button--right",3,"click",4,"ngIf"],[1,"button--right",3,"click"],["width","32","height","32","viewBox","0 0 32 32"],["fill","none","fill-rule","evenodd"],["fill","#3C425B","fill-rule","nonzero",1,"icon"],["d","M7.745 7.745c.48-.48 1.26-.48 1.74 0L16 14.26l6.514-6.514c.449-.449 1.158-.478 1.641-.09l.1.09c.48.48.48 1.26 0 1.74L17.74 16l6.514 6.514c.449.449.478 1.158.09 1.641l-.09.1c-.48.48-1.26.48-1.74 0L16 17.74l-6.514 6.514c-.449.449-1.158.478-1.641.09l-.1-.09c-.48-.48-.48-1.26 0-1.74L14.26 16 7.745 9.486c-.449-.449-.478-1.158-.09-1.641z","transform","translate(-329 -635) translate(315 621) translate(14 14)"]],template:function(e,t){1&e&&(C.Ub(0,"div",0),C.Ub(1,"button",1),C.bc("click",function(){return t.onToggleClick()}),C.ec(),C.Ub(2,"svg",2),C.Pb(3,"path",3),C.Tb(),C.Tb(),C.Bc(4,de,7,0,"button",4),C.Tb()),2&e&&(C.Gb("compare-calendar-toggler--hidden",!t.isCalendarButtonVisible),C.Cb(1),C.lc("ngClass",C.oc(4,he,"left"===t.position,"right"===t.position)),C.Cb(3),C.lc("ngIf","right"===t.position))},directives:[a.k,a.m],styles:["[_nghost-%COMP%]{display:block;position:relative;z-index:1;pointer-events:all}.compare-calendar-toggler[_ngcontent-%COMP%]{width:15vw;max-width:60px;border-radius:18px}.theme-light   [_nghost-%COMP%]   .compare-calendar-toggler[_ngcontent-%COMP%]{box-shadow:0 0 40px 0 rgba(60,66,91,.2)}.theme-dark   [_nghost-%COMP%]   .compare-calendar-toggler[_ngcontent-%COMP%]{box-shadow:0 0 6px 0 hsla(0,0%,100%,.5)}button[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:center;align-items:center;width:100%;padding:0;border:none;outline:none;cursor:pointer}.theme-light   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff}.theme-dark   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{background-color:#222}button.button--left[_ngcontent-%COMP%]{border-top-right-radius:18px;border-bottom-right-radius:18px}button.button--right[_ngcontent-%COMP%]:first-child{border-top-left-radius:18px}button.button--right[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:18px}.theme-light   [_nghost-%COMP%]   button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{fill:#3c425b}.theme-dark   [_nghost-%COMP%]   button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{fill:hsla(0,0%,100%,.55555555)}.compare-calendar-toggler--hidden[_ngcontent-%COMP%]{box-shadow:none!important}.compare-calendar-toggler--hidden[_ngcontent-%COMP%]   button.button--left[_ngcontent-%COMP%], .compare-calendar-toggler--hidden[_ngcontent-%COMP%]   button.button--right[_ngcontent-%COMP%]:not(:last-child){opacity:0;pointer-events:none}.compare-calendar-toggler--hidden[_ngcontent-%COMP%]   button.button--right[_ngcontent-%COMP%]:last-child{border-top-left-radius:18px}.theme-light   [_nghost-%COMP%]   .compare-calendar-toggler--hidden[_ngcontent-%COMP%]   button.button--right[_ngcontent-%COMP%]:last-child{box-shadow:0 0 40px 0 rgba(60,66,91,.2)}.theme-dark   [_nghost-%COMP%]   .compare-calendar-toggler--hidden[_ngcontent-%COMP%]   button.button--right[_ngcontent-%COMP%]:last-child{box-shadow:0 0 6px 0 hsla(0,0%,100%,.5)}"],changeDetection:0}),e})();function pe(e,t){1&e&&(C.Ub(0,"div",8),C.Dc(1),C.gc(2,"titlecase"),C.gc(3,"translate"),C.Tb()),2&e&&(C.Cb(1),C.Fc(" ",C.hc(2,1,C.hc(3,3,"_compare"))," "))}function be(e,t){1&e&&(C.Ub(0,"div",8),C.Dc(1),C.gc(2,"titlecase"),C.gc(3,"translate"),C.Tb()),2&e&&(C.Cb(1),C.Fc(" ",C.hc(2,1,C.hc(3,3,"_compare"))," "))}function ue(e,t){if(1&e){const e=C.Vb();C.Ub(0,"div",9),C.Ub(1,"app-compare-calendar-toggler",10),C.bc("toggleClick",function(){return C.uc(e),C.fc().toggleLeftCalendar()}),C.gc(2,"async"),C.gc(3,"async"),C.Tb(),C.Ub(4,"app-compare-calendar-toggler",11),C.bc("toggleClick",function(){return C.uc(e),C.fc().toggleRightCalendar()})("closeClick",function(){return C.uc(e),C.fc().onCloseClick()}),C.gc(5,"async"),C.gc(6,"async"),C.Tb(),C.Tb()}if(2&e){const e=C.fc();C.Cb(1),C.lc("isCalendarButtonVisible",!C.hc(2,2,e.isLeftCalendarOpen$)&&!C.hc(3,4,e.isRightCalendarOpen$)),C.Cb(3),C.lc("isCalendarButtonVisible",!C.hc(5,6,e.isLeftCalendarOpen$)&&!C.hc(6,8,e.isRightCalendarOpen$))}}const Ce=function(e){return{"compare-calendar-container-overlay--open":e}},fe=function(e){return{"compare-calendar-container--open":e}};let Oe=(()=>{let e=class{constructor(e,t,n,a,i,o){this.router=e,this.compareCalendarService=t,this.compareImagesService=n,this.activatedRoute=a,this.cdRef=i,this.isMobileView$=o.isMobileView$,this.areCalendarsOpen$=this.compareCalendarService.getAreCalendarsOpen$(),this.isLeftCalendarOpen$=this.compareCalendarService.getIsLeftCalendarOpen$(),this.isRightCalendarOpen$=this.compareCalendarService.getIsRightCalendarOpen$()}ngOnInit(){this.handleCompareInformationSettingsResolver(),this.archiveCalendarDates$=this.compareImagesService.getArchiveCalendarDates$()}ngOnDestroy(){this.compareCalendarService.closeCalenadrs()}toggleLeftCalendar(){this.compareCalendarService.toggleLeftCalendar()}toggleRightCalendar(){this.compareCalendarService.toggleRightCalendar()}closeCalendars(){this.compareCalendarService.closeCalenadrs()}onCloseClick(){Object(b.a)(this.isLeftCalendarOpen$,this.isRightCalendarOpen$).pipe(Object(u.a)(1)).subscribe(([e,t])=>{e||t?this.compareCalendarService.closeCalenadrs():this.router.navigate(["/"])})}onSelectImage(e,t){1!==e||this.mainImage1||(this.mainImage1=t),2!==e||this.mainImage2||(this.mainImage2=t)}onCalendarSelectImage(e,t){1===e?this.imageId1=t:2===e&&(this.imageId2=t),this.compareCalendarService.closeCalenadrs(),this.cdRef.markForCheck()}handleCompareInformationSettingsResolver(){this.activatedRoute.data.pipe(Object(p.b)(this)).subscribe(e=>{this.isImage360=e.settings.isImage360})}};return e.\u0275fac=function(t){return new(t||e)(C.Ob(s.d),C.Ob(O),C.Ob(k),C.Ob(s.a),C.Ob(C.h),C.Ob(w.a))},e.\u0275cmp=C.Ib({type:e,selectors:[["app-compare"]],decls:25,vars:52,consts:[[3,"routerPopupIsFullScreen"],[1,"compare-canvas",3,"isImage360","imageId1","imageId2","onSelectImage1","onSelectImage2"],[1,"compare-calendar-container-overlay",3,"ngClass","click"],[1,"compare-calendar-container","compare-calendar-container--left",3,"ngClass"],["class","compare-calendar-container__title",4,"ngIf"],[3,"archiveCalendarDates","mainImage","isImage360","isOpen","selectImageIdChange"],[1,"compare-calendar-container","compare-calendar-container--right",3,"ngClass"],["class","compare-calendar-togglers",4,"ngIf"],[1,"compare-calendar-container__title"],[1,"compare-calendar-togglers"],["position","left",3,"isCalendarButtonVisible","toggleClick"],["position","right",3,"isCalendarButtonVisible","toggleClick","closeClick"]],template:function(e,t){1&e&&(C.Ub(0,"app-router-popup",0),C.Ub(1,"app-compare-canvas",1),C.bc("onSelectImage1",function(e){return t.onSelectImage(1,e)})("onSelectImage2",function(e){return t.onSelectImage(2,e)}),C.Tb(),C.Ub(2,"div",2),C.bc("click",function(){return t.closeCalendars()}),C.gc(3,"async"),C.Tb(),C.Ub(4,"div",3),C.gc(5,"async"),C.gc(6,"async"),C.Bc(7,pe,4,5,"div",4),C.gc(8,"async"),C.Ub(9,"app-compare-archive",5),C.bc("selectImageIdChange",function(e){return t.onCalendarSelectImage(1,e)}),C.gc(10,"async"),C.gc(11,"async"),C.gc(12,"async"),C.Tb(),C.Tb(),C.Ub(13,"div",6),C.gc(14,"async"),C.gc(15,"async"),C.Bc(16,be,4,5,"div",4),C.gc(17,"async"),C.Ub(18,"app-compare-archive",5),C.bc("selectImageIdChange",function(e){return t.onCalendarSelectImage(2,e)}),C.gc(19,"async"),C.gc(20,"async"),C.gc(21,"async"),C.Tb(),C.Tb(),C.Bc(22,ue,7,10,"div",7),C.gc(23,"async"),C.Dc(24," --\x3e\n"),C.Tb()),2&e&&(C.lc("routerPopupIsFullScreen",!0),C.Cb(1),C.lc("isImage360",t.isImage360)("imageId1",t.imageId1)("imageId2",t.imageId2),C.Cb(1),C.lc("ngClass",C.nc(46,Ce,C.hc(3,18,t.areCalendarsOpen$))),C.Cb(2),C.lc("ngClass",C.nc(48,fe,C.hc(5,20,t.isLeftCalendarOpen$)||C.hc(6,22,t.areCalendarsOpen$))),C.Cb(3),C.lc("ngIf",C.hc(8,24,t.isMobileView$)),C.Cb(2),C.lc("archiveCalendarDates",C.hc(10,26,t.archiveCalendarDates$))("mainImage",t.mainImage1)("isImage360",t.isImage360)("isOpen",C.hc(11,28,t.isLeftCalendarOpen$)||C.hc(12,30,t.areCalendarsOpen$)),C.Cb(4),C.lc("ngClass",C.nc(50,fe,C.hc(14,32,t.isRightCalendarOpen$)||C.hc(15,34,t.areCalendarsOpen$))),C.Cb(3),C.lc("ngIf",C.hc(17,36,t.isMobileView$)),C.Cb(2),C.lc("archiveCalendarDates",C.hc(19,38,t.archiveCalendarDates$))("mainImage",t.mainImage2)("isImage360",t.isImage360)("isOpen",C.hc(20,40,t.isRightCalendarOpen$)||C.hc(21,42,t.areCalendarsOpen$)),C.Cb(4),C.lc("ngIf",C.hc(23,44,t.isMobileView$)))},directives:[x.a,oe,a.k,a.m,ge,me],pipes:[a.b,a.u,l.d],styles:["[_nghost-%COMP%]{display:block;position:relative}.compare-canvas[_ngcontent-%COMP%]{width:100%;height:100%}.compare-calendar-container-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;display:none;cursor:pointer}.compare-calendar-container-overlay--open[_ngcontent-%COMP%]{display:block}.compare-calendar-container[_ngcontent-%COMP%]{width:390px;padding:0 20px;min-height:100%;box-sizing:border-box;position:absolute;top:0;height:100%;overflow:auto;transition:transform .3s ease;z-index:1}.theme-light   [_nghost-%COMP%]   .compare-calendar-container[_ngcontent-%COMP%]{background-color:#fff}.theme-dark   [_nghost-%COMP%]   .compare-calendar-container[_ngcontent-%COMP%]{background-color:#1b1b1b}.compare-calendar-container--left[_ngcontent-%COMP%]{right:100%}.compare-calendar-container--right[_ngcontent-%COMP%]{width:470px;padding-right:100px;left:100%}.compare-calendar-container--open.compare-calendar-container--left[_ngcontent-%COMP%]{transform:translateX(100%)}.compare-calendar-container--open.compare-calendar-container--right[_ngcontent-%COMP%]{transform:translateX(-100%)}@media screen and (max-width:1024px){.compare-calendar-togglers[_ngcontent-%COMP%]{position:absolute;bottom:40px;left:0;right:0;pointer-events:none;display:flex;justify-content:space-between}.compare-calendar-container[_ngcontent-%COMP%]{display:none}.compare-calendar-container__title[_ngcontent-%COMP%]{height:50px;line-height:50px;text-align:center;font-size:20px}.compare-calendar-container--open[_ngcontent-%COMP%]{left:0;right:0;transform:none!important;width:100%;padding:0 20px;display:block}}"],changeDetection:0}),e=Object(m.a)([Object(p.a)()],e),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.Mb({type:e}),e.\u0275inj=C.Lb({providers:[O,k],imports:[[a.c,s.f.forChild([{path:"",component:Oe},{path:":imageId1/:imageId2",component:Oe}]),o.d,i.b,c.b,h.a,l.c,d.a,r.b,g.a]]}),e})()}}]);