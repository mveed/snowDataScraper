(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{cGp7:function(t,e,i){"use strict";i.r(e),i.d(e,"MapOverviewModule",function(){return vt});var s=i("ofXK"),n=i("fXoL"),o=i("2Vo4"),a=i("HDdC"),r=i("XNiG"),h=i("itXk"),l=i("eIep"),c=i("lJxs"),g=i("IzEk"),p=i("UXun"),d=i("1G5W");const m=["*"];class u{constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new o.a(void 0)}_clearListeners(){for(const t of this._listeners)t.remove();this._listeners=[]}getLazyEmitter(t){return this._targetStream.pipe(Object(l.a)(e=>{const i=new a.a(s=>{if(!e)return void this._pending.push({observable:i,observer:s});const n=e.addListener(t,t=>{this._ngZone.run(()=>s.next(t))});return this._listeners.push(n),()=>n.remove()});return i}))}setTarget(t){const e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(t=>t.observable.subscribe(t.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const _={center:{lat:37.421995,lng:-122.084092},zoom:17};let v=(()=>{class t{constructor(t,e,i){this._elementRef=t,this._ngZone=e,this._eventManager=new u(this._ngZone),this._options=new o.a(_),this._center=new o.a(void 0),this._zoom=new o.a(void 0),this._destroy=new r.a,this.height="500px",this.width="500px",this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=i?Object(s.x)(i):"object"==typeof window&&!!window,this._isBrowser&&window}set center(t){this._center.next(t)}set zoom(t){this._zoom.next(t)}set options(t){this._options.next(t||_)}ngOnChanges(){this._setSize(),this.googleMap&&this.mapTypeId&&this.googleMap.setMapTypeId(this.mapTypeId)}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._googleMapChanges=this._initializeMap(this._combineOptions()),this._googleMapChanges.subscribe(t=>{this.googleMap=t,this._eventManager.setTarget(this.googleMap)}),this._watchForOptionsChanges(),this._watchForCenterChanges(),this._watchForZoomChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete()}fitBounds(t,e){this._assertInitialized(),this.googleMap.fitBounds(t,e)}panBy(t,e){this._assertInitialized(),this.googleMap.panBy(t,e)}panTo(t){this._assertInitialized(),this.googleMap.panTo(t)}panToBounds(t,e){this._assertInitialized(),this.googleMap.panToBounds(t,e)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const t=this._mapEl.style;t.height=null===this.height?"":f(this.height)||"500px",t.width=null===this.width?"":f(this.width)||"500px"}}_combineOptions(){return Object(h.b)([this._options,this._center,this._zoom]).pipe(Object(c.a)(([t,e,i])=>{var s;return Object.assign(Object.assign({},t),{center:e||t.center||_.center,zoom:null!==(s=null!=i?i:t.zoom)&&void 0!==s?s:_.zoom,mapTypeId:this.mapTypeId})}))}_initializeMap(t){return t.pipe(Object(g.a)(1),Object(c.a)(t=>this._ngZone.runOutsideAngular(()=>new google.maps.Map(this._mapEl,t))),Object(p.a)(1))}_watchForOptionsChanges(){Object(h.b)([this._googleMapChanges,this._options]).pipe(Object(d.a)(this._destroy)).subscribe(([t,e])=>{t.setOptions(e)})}_watchForCenterChanges(){Object(h.b)([this._googleMapChanges,this._center]).pipe(Object(d.a)(this._destroy)).subscribe(([t,e])=>{e&&t.setCenter(e)})}_watchForZoomChanges(){Object(h.b)([this._googleMapChanges,this._zoom]).pipe(Object(d.a)(this._destroy)).subscribe(([t,e])=>{void 0!==e&&t.setZoom(e)})}_assertInitialized(){}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(n.l),n.Ob(n.A),n.Ob(n.C,8))},t.\u0275cmp=n.Ib({type:t,selectors:[["google-map"]],inputs:{height:"height",width:"width",center:"center",zoom:"zoom",options:"options",mapTypeId:"mapTypeId"},outputs:{boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[n.Ab],ngContentSelectors:m,decls:2,vars:0,consts:[[1,"map-container"]],template:function(t,e){1&t&&(n.kc(),n.Pb(0,"div",0),n.jc(1))},encapsulation:2,changeDetection:0}),t})();const b=/([A-Za-z%]+)$/;function f(t){return null==t?"":b.test(t)?t:`${t}px`}const M={position:{lat:37.421995,lng:-122.084092}};let y=(()=>{class t{constructor(t,e){this._googleMap=t,this._ngZone=e,this._eventManager=new u(this._ngZone),this._options=new o.a(M),this._title=new o.a(void 0),this._position=new o.a(void 0),this._label=new o.a(void 0),this._clickable=new o.a(void 0),this._destroy=new r.a,this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}set options(t){this._options.next(t||M)}set title(t){this._title.next(t)}set position(t){this._position.next(t)}set label(t){this._label.next(t)}set clickable(t){this._clickable.next(t)}ngOnInit(){this._googleMap._isBrowser&&(this._combineOptions().pipe(Object(g.a)(1)).subscribe(t=>{this._ngZone.runOutsideAngular(()=>this.marker=new google.maps.Marker(t)),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker)}),this._watchForOptionsChanges(),this._watchForTitleChanges(),this._watchForPositionChanges(),this._watchForLabelChanges(),this._watchForClickableChanges())}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){return Object(h.b)([this._options,this._title,this._position,this._label,this._clickable]).pipe(Object(c.a)(([t,e,i,s,n])=>Object.assign(Object.assign({},t),{title:e||t.title,position:i||t.position,label:s||t.label,clickable:void 0!==n?n:t.clickable,map:this._googleMap.googleMap})))}_watchForOptionsChanges(){this._options.pipe(Object(d.a)(this._destroy)).subscribe(t=>{this.marker&&(this._assertInitialized(),this.marker.setOptions(t))})}_watchForTitleChanges(){this._title.pipe(Object(d.a)(this._destroy)).subscribe(t=>{this.marker&&void 0!==t&&(this._assertInitialized(),this.marker.setTitle(t))})}_watchForPositionChanges(){this._position.pipe(Object(d.a)(this._destroy)).subscribe(t=>{this.marker&&t&&(this._assertInitialized(),this.marker.setPosition(t))})}_watchForLabelChanges(){this._label.pipe(Object(d.a)(this._destroy)).subscribe(t=>{this.marker&&void 0!==t&&(this._assertInitialized(),this.marker.setLabel(t))})}_watchForClickableChanges(){this._clickable.pipe(Object(d.a)(this._destroy)).subscribe(t=>{this.marker&&void 0!==t&&(this._assertInitialized(),this.marker.setClickable(t))})}_assertInitialized(){}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(v),n.Ob(n.A))},t.\u0275dir=n.Jb({type:t,selectors:[["map-marker"]],inputs:{options:"options",title:"title",position:"position",label:"label",clickable:"clickable"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({}),t})();var k=i("tyNb"),w=i("sYmb"),I=i("dBhb"),O=i("PCNd"),z=i("0Faz"),S=i("mrSG"),x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var P=function(){return(P=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},T=function t(){!function(t,e){for(var i in e.prototype)t.prototype[i]=e.prototype[i]}(t,google.maps.OverlayView)};function E(t){return Object.keys(t).reduce(function(e,i){return t[i]&&e.push(i+":"+t[i]),e},[]).join(";")}function A(t){return t?t+"px":void 0}var B=function(t){function e(e,i){var s=t.call(this)||this;return s.cluster_=e,s.styles_=i,s.center_=null,s.div_=null,s.sums_=null,s.visible_=!1,s.style=null,s.setMap(e.getMap()),s}return L(e,t),e.prototype.onAdd=function(){var t,e,i=this,s=this.cluster_.getMarkerClusterer(),n=google.maps.version.split("."),o=n[1],a=100*parseInt(n[0],10)+parseInt(o,10);this.div_=document.createElement("div"),this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){e=t}),google.maps.event.addDomListener(this.div_,"mousedown",function(){t=!0,e=!1}),a>=332&&google.maps.event.addDomListener(this.div_,"touchstart",function(t){t.stopPropagation()}),google.maps.event.addDomListener(this.div_,"click",function(n){if(t=!1,!e){if(google.maps.event.trigger(s,"click",i.cluster_),google.maps.event.trigger(s,"clusterclick",i.cluster_),s.getZoomOnClick()){var o=s.getMaxZoom(),a=i.cluster_.getBounds();s.getMap().fitBounds(a),setTimeout(function(){s.getMap().fitBounds(a),null!==o&&s.getMap().getZoom()>o&&s.getMap().setZoom(o+1)},100)}n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){google.maps.event.trigger(s,"mouseover",i.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){google.maps.event.trigger(s,"mouseout",i.cluster_)})},e.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},e.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}},e.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},e.prototype.show=function(){this.div_&&(this.div_.className=this.className_,this.div_.style.cssText=this.createCss_(this.getPosFromLatLng_(this.center_)),this.div_.innerHTML=(this.style.url?this.getImageElementHtml():"")+this.getLabelDivHtml(),this.div_.title=void 0===this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""),this.visible_=!0},e.prototype.getLabelDivHtml=function(){return'\n<div aria-label="'+this.cluster_.getMarkerClusterer().ariaLabelFn(this.sums_.text)+'" style="'+E({position:"absolute",top:A(this.anchorText_[0]),left:A(this.anchorText_[1]),color:this.style.textColor,"font-size":A(this.style.textSize),"font-family":this.style.fontFamily,"font-weight":this.style.fontWeight,"font-style":this.style.fontStyle,"text-decoration":this.style.textDecoration,"text-align":"center",width:A(this.style.width),"line-height":A(this.style.textLineHeight)})+'" tabindex="0">\n  <span aria-hidden="true">'+this.sums_.text+"</span>\n</div>\n"},e.prototype.getImageElementHtml=function(){var t=(this.style.backgroundPosition||"0 0").split(" "),e=parseInt(t[0].replace(/^\s+|\s+$/g,""),10),i=parseInt(t[1].replace(/^\s+|\s+$/g,""),10),s={};if(this.cluster_.getMarkerClusterer().getEnableRetinaIcons())s={width:A(this.style.width),height:A(this.style.height)};else{var n=[-1*i,-1*e+this.style.width,-1*i+this.style.height,-1*e];s={clip:"rect("+n[0]+"px, "+n[1]+"px, "+n[2]+"px, "+n[3]+"px)"}}var o=this.sums_.url?{width:"100%",height:"100%"}:{},a=E(P(P({position:"absolute",top:A(i),left:A(e)},s),o));return'<img alt="'+this.sums_.text+'" aria-hidden="true" src="'+this.style.url+'" style="'+a+'"/>'},e.prototype.useStyle=function(t){this.sums_=t;var e=Math.max(0,t.index-1);e=Math.min(this.styles_.length-1,e),this.style=this.sums_.url?P(P({},this.styles_[e]),{url:this.sums_.url}):this.styles_[e],this.anchorText_=this.style.anchorText||[0,0],this.anchorIcon_=this.style.anchorIcon||[Math.floor(this.style.height/2),Math.floor(this.style.width/2)],this.className_=this.cluster_.getMarkerClusterer().getClusterClass()+" "+(this.style.className||"cluster-"+e)},e.prototype.setCenter=function(t){this.center_=t},e.prototype.createCss_=function(t){return E({"z-index":""+this.cluster_.getMarkerClusterer().getZIndex(),top:A(t.y),left:A(t.x),width:A(this.style.width),height:A(this.style.height),cursor:"pointer",position:"absolute","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-o-user-select":"none","user-select":"none"})},e.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x=Math.floor(e.x-this.anchorIcon_[1]),e.y=Math.floor(e.y-this.anchorIcon_[0]),e},e}(T),D=function(){function t(t){this.markerClusterer_=t,this.map_=this.markerClusterer_.getMap(),this.minClusterSize_=this.markerClusterer_.getMinimumClusterSize(),this.averageCenter_=this.markerClusterer_.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new B(this,this.markerClusterer_.getStyles())}return t.prototype.getSize=function(){return this.markers_.length},t.prototype.getMarkers=function(){return this.markers_},t.prototype.getCenter=function(){return this.center_},t.prototype.getMap=function(){return this.map_},t.prototype.getMarkerClusterer=function(){return this.markerClusterer_},t.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center_,this.center_),e=this.getMarkers(),i=0;i<e.length;i++)t.extend(e[i].getPosition());return t},t.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},t.prototype.addMarker=function(t){if(this.isMarkerAlreadyAdded_(t))return!1;if(this.center_){if(this.averageCenter_){var e=this.markers_.length+1,i=(this.center_.lat()*(e-1)+t.getPosition().lat())/e,s=(this.center_.lng()*(e-1)+t.getPosition().lng())/e;this.center_=new google.maps.LatLng(i,s),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();t.isAdded=!0,this.markers_.push(t);var n=this.markers_.length,o=this.markerClusterer_.getMaxZoom();if(null!==o&&this.map_.getZoom()>o)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n<this.minClusterSize_)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n===this.minClusterSize_)for(var a=0;a<n;a++)this.markers_[a].setMap(null);else t.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},t.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},t.prototype.updateIcon=function(){var t=this.markers_.length,e=this.markerClusterer_.getMaxZoom();if(null!==e&&this.map_.getZoom()>e)this.clusterIcon_.hide();else if(t<this.minClusterSize_)this.clusterIcon_.hide();else{var i=this.markerClusterer_.getStyles().length,s=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(s),this.clusterIcon_.show()}},t.prototype.isMarkerAlreadyAdded_=function(t){if(this.markers_.indexOf)return-1!==this.markers_.indexOf(t);for(var e=0;e<this.markers_.length;e++)if(t===this.markers_[e])return!0;return!1},t}(),j=function(t,e,i){return void 0!==t[e]?t[e]:i},Z=function(t){function e(i,s,n){void 0===s&&(s=[]),void 0===n&&(n={});var o=t.call(this)||this;return o.options=n,o.markers_=[],o.clusters_=[],o.listeners_=[],o.activeMap_=null,o.ready_=!1,o.ariaLabelFn=o.options.ariaLabelFn||function(){return""},o.zIndex_=o.options.zIndex||google.maps.Marker.MAX_ZINDEX+1,o.gridSize_=o.options.gridSize||60,o.minClusterSize_=o.options.minimumClusterSize||2,o.maxZoom_=o.options.maxZoom||null,o.styles_=o.options.styles||[],o.title_=o.options.title||"",o.zoomOnClick_=j(o.options,"zoomOnClick",!0),o.averageCenter_=j(o.options,"averageCenter",!1),o.ignoreHidden_=j(o.options,"ignoreHidden",!1),o.enableRetinaIcons_=j(o.options,"enableRetinaIcons",!1),o.imagePath_=o.options.imagePath||e.IMAGE_PATH,o.imageExtension_=o.options.imageExtension||e.IMAGE_EXTENSION,o.imageSizes_=o.options.imageSizes||e.IMAGE_SIZES,o.calculator_=o.options.calculator||e.CALCULATOR,o.batchSize_=o.options.batchSize||e.BATCH_SIZE,o.batchSizeIE_=o.options.batchSizeIE||e.BATCH_SIZE_IE,o.clusterClass_=o.options.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(o.batchSize_=o.batchSizeIE_),o.setupStyles_(),o.addMarkers(s,!0),o.setMap(i),o}return L(e,t),e.prototype.onAdd=function(){var t=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.prevZoom_=this.getMap().getZoom(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){var e=t.getMap(),i=e.minZoom||0,s=Math.min(e.maxZoom||100,e.mapTypes[e.getMapTypeId()].maxZoom),n=Math.min(Math.max(t.getMap().getZoom(),i),s);t.prevZoom_!=n&&(t.prevZoom_=n,t.resetViewport_(!1))}),google.maps.event.addListener(this.getMap(),"idle",function(){t.redraw_()})]},e.prototype.onRemove=function(){for(var t=0;t<this.markers_.length;t++)this.markers_[t].getMap()!==this.activeMap_&&this.markers_[t].setMap(this.activeMap_);for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},e.prototype.draw=function(){},e.prototype.setupStyles_=function(){if(!(this.styles_.length>0))for(var t=0;t<this.imageSizes_.length;t++){var i=this.imageSizes_[t];this.styles_.push(e.withDefaultStyle({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:i,width:i}))}},e.prototype.fitMapToMarkers=function(t){for(var e=this.getMarkers(),i=new google.maps.LatLngBounds,s=0;s<e.length;s++)!e[s].getVisible()&&this.getIgnoreHidden()||i.extend(e[s].getPosition());this.getMap().fitBounds(i,t)},e.prototype.getGridSize=function(){return this.gridSize_},e.prototype.setGridSize=function(t){this.gridSize_=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize_=t},e.prototype.getMaxZoom=function(){return this.maxZoom_},e.prototype.setMaxZoom=function(t){this.maxZoom_=t},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setZIndex=function(t){this.zIndex_=t},e.prototype.getStyles=function(){return this.styles_},e.prototype.setStyles=function(t){this.styles_=t},e.prototype.getTitle=function(){return this.title_},e.prototype.setTitle=function(t){this.title_=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick_},e.prototype.setZoomOnClick=function(t){this.zoomOnClick_=t},e.prototype.getAverageCenter=function(){return this.averageCenter_},e.prototype.setAverageCenter=function(t){this.averageCenter_=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden_=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons_=t},e.prototype.getImageExtension=function(){return this.imageExtension_},e.prototype.setImageExtension=function(t){this.imageExtension_=t},e.prototype.getImagePath=function(){return this.imagePath_},e.prototype.setImagePath=function(t){this.imagePath_=t},e.prototype.getImageSizes=function(){return this.imageSizes_},e.prototype.setImageSizes=function(t){this.imageSizes_=t},e.prototype.getCalculator=function(){return this.calculator_},e.prototype.setCalculator=function(t){this.calculator_=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE_=t},e.prototype.getClusterClass=function(){return this.clusterClass_},e.prototype.setClusterClass=function(t){this.clusterClass_=t},e.prototype.getMarkers=function(){return this.markers_},e.prototype.getTotalMarkers=function(){return this.markers_.length},e.prototype.getClusters=function(){return this.clusters_},e.prototype.getTotalClusters=function(){return this.clusters_.length},e.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw_()},e.prototype.addMarkers=function(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.pushMarkerTo_(t[i]);e||this.redraw_()},e.prototype.pushMarkerTo_=function(t){var e=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){e.ready_&&(t.isAdded=!1,e.repaint())}),t.isAdded=!1,this.markers_.push(t)},e.prototype.removeMarker=function(t,e){var i=this.removeMarker_(t);return!e&&i&&this.repaint(),i},e.prototype.removeMarkers=function(t,e){for(var i=!1,s=0;s<t.length;s++){var n=this.removeMarker_(t[s]);i=i||n}return!e&&i&&this.repaint(),i},e.prototype.removeMarker_=function(t){var e=-1;if(this.markers_.indexOf)e=this.markers_.indexOf(t);else for(var i=0;i<this.markers_.length;i++)if(t===this.markers_[i]){e=i;break}return-1!==e&&(t.setMap(null),this.markers_.splice(e,1),!0)},e.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},e.prototype.repaint=function(){var t=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){for(var e=0;e<t.length;e++)t[e].remove()},0)},e.prototype.getExtendedBounds=function(t){var e=this.getProjection(),i=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),s=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),n=e.fromLatLngToDivPixel(i);n.x+=this.gridSize_,n.y-=this.gridSize_;var o=e.fromLatLngToDivPixel(s);o.x-=this.gridSize_,o.y+=this.gridSize_;var a=e.fromDivPixelToLatLng(n),r=e.fromDivPixelToLatLng(o);return t.extend(a),t.extend(r),t},e.prototype.redraw_=function(){this.createClusters_(0)},e.prototype.resetViewport_=function(t){for(var e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.markers_.length;e++){var i=this.markers_[e];i.isAdded=!1,t&&i.setMap(null)}},e.prototype.distanceBetweenPoints_=function(t,e){var i=(e.lat()-t.lat())*Math.PI/180,s=(e.lng()-t.lng())*Math.PI/180,n=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371},e.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},e.prototype.addToClosestCluster_=function(t){for(var e=4e4,i=null,s=0;s<this.clusters_.length;s++){var n,o=(n=this.clusters_[s]).getCenter();if(o){var a=this.distanceBetweenPoints_(o,t.getPosition());a<e&&(e=a,i=n)}}i&&i.isMarkerInClusterBounds(t)?i.addMarker(t):((n=new D(this)).addMarker(t),this.clusters_.push(n))},e.prototype.createClusters_=function(t){var e=this;if(this.ready_){var i;0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));for(var s=this.getExtendedBounds(i),n=Math.min(t+this.batchSize_,this.markers_.length),o=t;o<n;o++){var a=this.markers_[o];!a.isAdded&&this.isMarkerInBounds_(a,s)&&(!this.ignoreHidden_||this.ignoreHidden_&&a.getVisible())&&this.addToClosestCluster_(a)}if(n<this.markers_.length)this.timerRefStatic=window.setTimeout(function(){e.createClusters_(n)},0);else for(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this),o=0;o<this.clusters_.length;o++)this.clusters_[o].updateIcon()}},e.CALCULATOR=function(t,e){for(var i=0,s=t.length,n=s;0!==n;)n=Math.floor(n/10),i++;return i=Math.min(i,e),{text:s.toString(),index:i,title:""}},e.withDefaultStyle=function(t){return P({textColor:"black",textSize:11,textDecoration:"none",textLineHeight:t.height,fontWeight:"bold",fontStyle:"normal",fontFamily:"Arial,sans-serif",backgroundPosition:"0 0"},t)},e.BATCH_SIZE=2e3,e.BATCH_SIZE_IE=500,e.IMAGE_PATH="../images/m",e.IMAGE_EXTENSION="png",e.IMAGE_SIZES=[53,56,66,78,90],e}(T),R=i("VfN6"),$=i("pLZG"),F=i("ry1c"),H=i("X0DC"),U=i("R0Ic");const V=[Object(U.n)("mapOverviewHideLoader",[Object(U.m)(":leave",[Object(U.e)("500ms cubic-bezier(0.76, 0, 0.24, 1)",Object(U.l)({opacity:0}))])])];var N=i("quSY"),G=i("uICA");const X=(t,e,i,s,n)=>{class o extends google.maps.OverlayView{constructor(t,e,i,s,n){super(),this.bounds=e,this.rotationAngle$=i,this.viewAngle$=s,this.color=n,this.radius=50,this.width=200,this.height=200,this.offset=19,this.setMap(t)}onAdd(){this.subscription=new N.a,this.createCompasSvg(),this.getPanes().overlayLayer.appendChild(this.compasSvg),this.setRotationAngle(),this.setViewAngle()}onRemove(){this.destroy()}destroy(){this.subscription&&this.subscription.unsubscribe()}show(){this.compasSvg&&(this.compasSvg.style.opacity="1")}hide(){this.compasSvg&&(this.compasSvg.style.opacity="0")}draw(){const t=this.getProjection(),e=t.fromLatLngToDivPixel(this.bounds.getSouthWest()),i=t.fromLatLngToDivPixel(this.bounds.getNorthEast());this.compasSvg.style.left=e.x-this.width/2+"px",this.compasSvg.style.top=i.y-this.height/2+"px"}setRotationAngle(){const t=this.rotationAngle$.subscribe(t=>{this.compasSvg.style.transform=`rotate(${t}deg)`});this.subscription.add(t)}setViewAngle(){const t=this.viewAngle$.subscribe(t=>{const e=t>180?1:0,i=t/2,s=this.radius+this.radius*Math.cos(Object(G.a)(-i)),n=this.radius+this.radius*Math.sin(Object(G.a)(-i)),o=this.radius+this.radius*Math.cos(Object(G.a)(i)),a=this.radius+this.radius*Math.sin(Object(G.a)(i));this.compasSvgPath.setAttribute("d",`M 50 50 L ${s} ${n} A 50 50 0 ${e} 1 ${o} ${a} Z`)});this.subscription.add(t)}createCompasSvg(){this.compasSvg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.compasSvg.setAttribute("viewBox","0 0 100 100"),this.compasSvg.style.position="absolute",this.compasSvg.style.width=`${this.width}px`,this.compasSvg.style.height=`${this.height}px`,this.compasSvgPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.compasSvgPath.setAttribute("fill",this.color),this.compasSvgPath.setAttribute("stroke-width","0"),this.compasSvgPath.setAttribute("stroke","none"),this.compasSvg.appendChild(this.compasSvgPath)}}return new o(t,e,i,s,n)};var Y=function(t){return t.hybrid="hybrid",t.roadmap="roadmap",t.satellite="satellite",t.terrain="terrain",t}({});const W=[{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]}],J=[{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]}];let q=(()=>{class t{constructor(t){this.window=t,this.loadState={completed:!1,inProgress:!1,error:!1},this.googleMapsLoader$=new o.a(this.loadState)}loadGoogleMapsScript$(t){if(this.loadState.inProgress||this.loadState.completed||this.loadState.error)return this.googleMapsLoader$.asObservable();this.loadState.inProgress=!0;const e=document.createElement("script");return e.src=`https://maps.googleapis.com/maps/api/js?key=${t}&callback=initMap`,e.defer=!0,e.async=!0,this.window.initMap=(function(){this.loadState.inProgress=!1,this.loadState.completed=!0,this.googleMapsLoader$.next(this.loadState)}).bind(this),window.gm_authFailure=(function(){this.loadState.error=!0,this.googleMapsLoader$.next(this.loadState)}).bind(this),document.head.appendChild(e),this.googleMapsLoader$.asObservable()}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(F.a))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac}),t})();var K=i("6uzP"),Q=i("NKmz"),tt=i("wbTk"),et=i("MY16"),it=i("eCXC");function st(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",4),n.bc("click",function(){return n.uc(t),n.fc(2).switchOnFullScreenMode()}),n.ec(),n.Ub(1,"svg",11),n.Pb(2,"path",12),n.Tb(),n.Tb()}if(2&t){const t=n.fc(2);n.lc("disabled",!t.isScriptLoaded)}}function nt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",4),n.bc("click",function(){return n.uc(t),n.fc(2).switchOffFullScreenMode()}),n.ec(),n.Ub(1,"svg",11),n.Pb(2,"path",12),n.Tb(),n.Tb()}if(2&t){const t=n.fc(2);n.lc("disabled",!t.isScriptLoaded)}}function ot(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",2),n.Ub(1,"div",3),n.Ub(2,"button",4),n.bc("click",function(){n.uc(t);const e=n.fc();return e.changeMapType(e.mapTypeIds.roadmap)}),n.Dc(3," Map "),n.Tb(),n.Ub(4,"button",4),n.bc("click",function(){n.uc(t);const e=n.fc();return e.changeMapType(e.mapTypeIds.hybrid)}),n.Dc(5," Satelite "),n.Tb(),n.Tb(),n.Ub(6,"div",5),n.Bc(7,st,3,1,"button",6),n.gc(8,"async"),n.Bc(9,nt,3,1,"button",6),n.gc(10,"async"),n.Tb(),n.Ub(11,"div",5),n.Ub(12,"button",4),n.bc("click",function(){return n.uc(t),n.fc().zoomIn()}),n.ec(),n.Ub(13,"svg",7),n.Pb(14,"path",8),n.Tb(),n.Tb(),n.dc(),n.Ub(15,"button",4),n.bc("click",function(){return n.uc(t),n.fc().zoomOut()}),n.ec(),n.Ub(16,"svg",9),n.Pb(17,"path",10),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.fc();n.Cb(2),n.lc("disabled",!t.isScriptLoaded||"roadmap"===t.mapTypeId),n.Cb(2),n.lc("disabled",!t.isScriptLoaded||"hybrid"===t.mapTypeId),n.Cb(3),n.lc("ngIf",!n.hc(8,6,t.isFullScreenMode$)),n.Cb(2),n.lc("ngIf",n.hc(10,8,t.isFullScreenMode$)),n.Cb(3),n.lc("disabled",!t.isScriptLoaded),n.Cb(3),n.lc("disabled",!t.isScriptLoaded)}}function at(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",13),n.Ub(1,"button",14),n.bc("click",function(){return n.uc(t),n.fc().toggleMapType()}),n.ec(),n.Ub(2,"svg",15),n.Ub(3,"g",16),n.Ub(4,"g",17),n.Ub(5,"g"),n.Pb(6,"path",18),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.fc();n.Cb(1),n.lc("disabled",!t.isScriptLoaded)}}let rt=(()=>{class t{constructor(t,e,i){this.cdRef=t,this.fullScreenService=e,this.mapTypeIds=Y,this.desktopView$=i.isDesktopView$,this.isFullScreenMode$=this.fullScreenService.isFullScreenMode$()}ngOnChanges(t){var e;(null===(e=null==t?void 0:t.isScriptLoaded)||void 0===e?void 0:e.currentValue)&&this.setMapTypeId()}changeMapType(t){switch(t){case"roadmap":this.googleMap.setMapTypeId(google.maps.MapTypeId.ROADMAP),this.mapTypeId=google.maps.MapTypeId.ROADMAP;break;case"hybrid":this.googleMap.setMapTypeId(google.maps.MapTypeId.HYBRID),this.mapTypeId=google.maps.MapTypeId.HYBRID}this.cdRef.detectChanges()}toggleMapType(){this.mapTypeId===google.maps.MapTypeId.ROADMAP?this.mapTypeId=google.maps.MapTypeId.HYBRID:this.mapTypeId===google.maps.MapTypeId.HYBRID&&(this.mapTypeId=google.maps.MapTypeId.ROADMAP),this.googleMap.setMapTypeId(this.mapTypeId)}switchOnFullScreenMode(){this.fullScreenService.switchOnFullScreenMode()}switchOffFullScreenMode(){this.fullScreenService.switchOffFullScreenMode()}zoomIn(){this.googleMap.setZoom(this.googleMap.getZoom()+1)}zoomOut(){this.googleMap.setZoom(this.googleMap.getZoom()-1)}setMapTypeId(){this.mapTypeId=google.maps.MapTypeId.HYBRID}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(n.h),n.Ob(et.a),n.Ob(it.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-map-overview-navigation"]],inputs:{googleMap:"googleMap",isScriptLoaded:"isScriptLoaded"},features:[n.Ab],decls:4,vars:6,consts:[["class","map-overview-navigation",4,"ngIf"],["class","map-overview-navigation-mobile",4,"ngIf"],[1,"map-overview-navigation"],[1,"map-overview-navigation-horizontal"],[1,"map-overview-navigation-button",3,"disabled","click"],[1,"map-overview-navigation-vertical"],["class","map-overview-navigation-button",3,"disabled","click",4,"ngIf"],["width","18","height","18","viewBox","0 0 18 18"],["d","M9 .333c.598 0 1.083.485 1.083 1.084v6.5h6.5c.559 0 1.018.422 1.077.965l.007.118c0 .598-.485 1.083-1.084 1.083h-6.5v6.5c0 .559-.422 1.018-.965 1.077L9 17.667c-.598 0-1.083-.485-1.083-1.084v-6.5h-6.5c-.559 0-1.018-.422-1.077-.965L.333 9c0-.598.485-1.083 1.084-1.083h6.5v-6.5c0-.559.422-1.018.965-1.077z",1,"map-overview-navigation-button-icon"],["width","18","height","4","viewBox","0 0 18 4"],["d","M1.417 3.083h15.166c.599 0 1.084-.485 1.084-1.083S17.182.917 16.583.917H1.417C.818.917.333 1.402.333 2s.485 1.083 1.084 1.083z",1,"map-overview-navigation-button-icon"],["width","20","height","20","viewBox","0 0 20 20"],["d","M7.293 11.293c.39-.39 1.024-.39 1.414 0 .39.39.39 1.024 0 1.414L3.414 18H7c.513 0 .936.386.993.883L8 19c0 .552-.448 1-1 1H.967l-.053-.004-.063-.007-.052-.01c-.022-.004-.043-.009-.065-.015l-.046-.014-.06-.021-.051-.023-.061-.03-.037-.022c-.025-.016-.05-.032-.074-.05-.04-.03-.077-.061-.112-.097l.09.08c-.063-.05-.12-.107-.17-.17l-.017-.022c-.018-.024-.034-.049-.05-.074l-.021-.037c-.011-.02-.022-.04-.031-.06L.07 19.37l-.021-.06-.014-.045-.016-.065-.009-.053C.004 19.1 0 19.051 0 19l.004.09L0 19.02V13c0-.552.448-1 1-1s1 .448 1 1v3.584zM19 0h.02c.023 0 .046.002.07.004l.059.007.052.01c.022.004.043.009.065.015l.046.014.06.021.051.023.061.03.037.022c.025.016.05.032.074.05.04.03.077.061.112.097l-.09-.08c.063.05.12.107.17.17l.017.022c.018.024.034.049.05.074l.021.037c.011.02.022.04.031.06l.023.053.021.06.014.045.016.065.009.053C19.996.9 20 .949 20 1l-.004-.086.003.054L20 1v6c0 .552-.448 1-1 1s-1-.448-1-1V3.414l-5.293 5.293c-.36.36-.928.388-1.32.083l-.094-.083c-.39-.39-.39-1.024 0-1.414L16.584 2H13c-.513 0-.936-.386-.993-.883L12 1c0-.552.448-1 1-1z",1,"map-overview-navigation-button-icon"],[1,"map-overview-navigation-mobile"],[3,"disabled","click"],["width","26","height","26","viewBox","0 0 26 26"],["fill","none","fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round"],["stroke","#3C425B","stroke-width","2",1,"icon"],["d","M17.685 4.742l-3.152 3.152m7.39 7.39c-3.944 3.944-10.339 3.944-14.283 0C3.695 11.339 3.695 4.944 7.64 1l14.284 14.284zM4 24.634h18.746m-11.479-6.392l2.106 6.392","transform","translate(-17 -638) translate(17 638)"]],template:function(t,e){1&t&&(n.Bc(0,ot,18,10,"div",0),n.gc(1,"async"),n.Bc(2,at,7,1,"div",1),n.gc(3,"async")),2&t&&(n.lc("ngIf",n.hc(1,2,e.desktopView$)),n.Cb(2),n.lc("ngIf",!n.hc(3,4,e.desktopView$)))},directives:[s.m],pipes:[s.b],styles:["[_nghost-%COMP%]{pointer-events:none}.map-overview-navigation[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;display:flex;flex-direction:column;align-items:flex-start}.map-overview-navigation-horizontal[_ngcontent-%COMP%], .map-overview-navigation-vertical[_ngcontent-%COMP%]{border-radius:18px;overflow:hidden}.theme-light   [_nghost-%COMP%]   .map-overview-navigation-horizontal[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .map-overview-navigation-vertical[_ngcontent-%COMP%]{box-shadow:0 0 40px 0 rgba(60,66,91,.2)}.theme-dark   [_nghost-%COMP%]   .map-overview-navigation-horizontal[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .map-overview-navigation-vertical[_ngcontent-%COMP%]{box-shadow:0 0 40px 0 rgba(0,0,0,.2)}.map-overview-navigation--horizontal[_ngcontent-%COMP%], .map-overview-navigation--vertical[_ngcontent-%COMP%]{pointer-events:all}.map-overview-navigation-horizontal[_ngcontent-%COMP%]{display:flex;margin-bottom:40px;pointer-events:all}.map-overview-navigation-horizontal[_ngcontent-%COMP%]   .map-overview-navigation-button[_ngcontent-%COMP%]{padding:0 40px}.theme-light   [_nghost-%COMP%]   .map-overview-navigation-horizontal[_ngcontent-%COMP%]   .map-overview-navigation-button[_ngcontent-%COMP%]:not(:first-child){border-left:1px solid rgba(60,66,91,.1)}.theme-dark   [_nghost-%COMP%]   .map-overview-navigation-horizontal[_ngcontent-%COMP%]   .map-overview-navigation-button[_ngcontent-%COMP%]:not(:first-child){border-left:1px solid #1b1b1b}.map-overview-navigation-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:20px;pointer-events:all}.theme-light   [_nghost-%COMP%]   .map-overview-navigation-vertical[_ngcontent-%COMP%]   .map-overview-navigation-button[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid rgba(60,66,91,.1)}.theme-dark   [_nghost-%COMP%]   .map-overview-navigation-vertical[_ngcontent-%COMP%]   .map-overview-navigation-button[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid #1b1b1b}.map-overview-navigation-button[_ngcontent-%COMP%]{min-width:60px;min-height:60px;border:none;position:relative;font-size:20px;font-weight:700;outline:none;cursor:pointer;display:flex;justify-content:center;align-items:center}.theme-light   [_nghost-%COMP%]   .map-overview-navigation-button[_ngcontent-%COMP%]{background-color:#fff;color:#3c425b}.theme-dark   [_nghost-%COMP%]   .map-overview-navigation-button[_ngcontent-%COMP%]{background-color:#1b1b1b;color:#909090}.theme-light   [_nghost-%COMP%]   .map-overview-navigation-button[disabled][_ngcontent-%COMP%]{color:#d1d2d8}.theme-dark   [_nghost-%COMP%]   .map-overview-navigation-button[disabled][_ngcontent-%COMP%]{color:#fff}.theme-light   [_nghost-%COMP%]   .map-overview-navigation-button-icon[_ngcontent-%COMP%]{fill:#3c425b}.theme-dark   [_nghost-%COMP%]   .map-overview-navigation-button-icon[_ngcontent-%COMP%]{fill:#909090}.map-overview-navigation-mobile[_ngcontent-%COMP%]{position:fixed;left:0;bottom:calc(40px + 3vh);height:60px;color:#000;border-top-right-radius:18px;border-bottom-right-radius:18px;pointer-events:all;width:15vw;max-width:60px}@media screen and (min-width:1025px){.map-overview-navigation-mobile[_ngcontent-%COMP%]{display:none}}.theme-light   [_nghost-%COMP%]   .map-overview-navigation-mobile[_ngcontent-%COMP%]{box-shadow:0 0 40px 0 rgba(60,66,91,.2);background-color:#fff}.theme-dark   [_nghost-%COMP%]   .map-overview-navigation-mobile[_ngcontent-%COMP%]{box-shadow:0 0 6px 0 hsla(0,0%,100%,.5);background-color:#222}.map-overview-navigation-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;padding:0;border:none;outline:none;background-color:transparent;cursor:pointer}.theme-light   [_nghost-%COMP%]   .map-overview-navigation-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{stroke:#3c425b}.theme-dark   [_nghost-%COMP%]   .map-overview-navigation-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{stroke:hsla(0,0%,100%,.55555555)}"],changeDetection:0}),t})();var ht=i("zzDJ");const lt=function(t,e){return{text:t,fontSize:"15px",fontWeight:"bold",color:e,className:"map-overview-label"}},ct=function(t){return{icon:t}};function gt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"map-marker",8),n.bc("mapClick",function(){n.uc(t);const i=e.$implicit;return n.fc(3).navigateToCamera(i.cameraUrl,i.isMain)}),n.Tb()}if(2&t){const t=e.$implicit,i=n.fc(3);n.lc("position",t.marker.position)("label",n.oc(3,lt,t.marker.title,i.labelColor))("options",n.nc(6,ct,i.markerIcon))}}function pt(t,e){if(1&t&&(n.Sb(0),n.Bc(1,gt,1,8,"map-marker",7),n.Rb()),2&t){const t=n.fc(2);n.Cb(1),n.lc("ngForOf",t.availableCameras)}}function dt(t,e){if(1&t&&(n.Ub(0,"google-map",5),n.Bc(1,pt,2,1,"ng-container",6),n.gc(2,"async"),n.Tb()),2&t){const t=n.fc();let e=null;n.lc("options",t.mapOptions),n.Cb(1),n.lc("ngIf",!(null!=(e=n.hc(2,2,t.scriptLoadState$))&&e.error))}}function mt(t,e){if(1&t&&(n.Pb(0,"app-map-overview-navigation",9),n.gc(1,"async")),2&t){const t=n.fc();let e=null;n.lc("googleMap",t.map)("isScriptLoaded",null==(e=n.hc(1,2,t.scriptLoadState$))?null:e.completed)}}function ut(t,e){1&t&&(n.Ub(0,"div",10),n.Pb(1,"app-ui-spinner",11),n.Tb()),2&t&&(n.lc("@mapOverviewHideLoader",void 0),n.Cb(1),n.lc("invertColor",!0))}let _t=(()=>{let t=class{constructor(t,e,i,s,n,o){this.window=t,this.cdRef=e,this.mapOverviewService=i,this.activatedRoute=s,this.compassService=n,this.themesService=o,this.markerIconSize={width:38,height:38},this.markerClusterIconSize={width:58,height:58},this.setMapOptions(),this.setColors()}ngOnInit(){this.settings=this.activatedRoute.snapshot.data.mapOverviewSettings,this.scriptLoadState$=this.mapOverviewService.loadGoogleMapsScript$(this.settings.googleApiKey),this.setAvailableCamers()}ngOnDestroy(){this.markerCompasOverlay&&(this.markerCompasOverlay.hide(),this.markerCompasOverlay.destroy()),this.listener&&this.listener.remove()}ngAfterViewInit(){this.prepareMap()}navigateToCamera(t,e){e||(this.window.location.href=t)}setAvailableCamers(){this.availableCameras=this.settings.cameras.filter(t=>t.marker.position.lat&&t.marker.position.lng);const t=this.availableCameras.splice(this.availableCameras.findIndex(t=>t.isMain),1)[0];this.availableCameras=this.availableCameras.filter((e,i,s)=>i===s.findIndex(i=>i.marker.position.lng===e.marker.position.lng&&i.marker.position.lat===e.marker.position.lat&&i.marker.position.lng!==t.marker.position.lng&&i.marker.position.lat!==t.marker.position.lat)),this.availableCameras.push(t)}setMapOptions(){let t;switch(this.themesService.getTheme()){case H.a.light:t=J;break;case H.a.dark:t=W;break;default:t=J}this.mapOptions={styles:t,disableDefaultUI:!0,scrollwheel:!0,mapTypeId:Y.hybrid}}setColors(){switch(this.themesService.getTheme()){case H.a.light:case H.a.dark:this.labelColor="#fff";break;default:this.labelColor="#3c425b"}}prepareMap(){this.scriptLoadState$.pipe(Object(R.b)(this),Object($.a)(t=>t.completed&&!t.error),Object(g.a)(1)).subscribe(()=>{this.createMarkerIcon(),this.setMap(),this.setMainMarker(),this.centerMapByMarkers(),this.createMarkerCluster(),this.createMarkerCompassOverlay()})}setMap(){this.map=this.mapComponent.googleMap,this.cdRef.detectChanges()}createMarkerIcon(){this.markerIcon={anchor:new google.maps.Point(this.markerIconSize.width/2,this.markerIconSize.height/2),url:"assets/img/map-overview/marker-icon.svg",size:new google.maps.Size(this.markerIconSize.width,this.markerIconSize.height),labelOrigin:new google.maps.Point(this.markerIconSize.width/2,this.markerIconSize.height/2)},this.cdRef.detectChanges()}centerMapByMarkers(){if(this.availableCameras.length>1){const t=new google.maps.LatLngBounds;this.availableCameras.forEach(e=>t.extend(e.marker.position)),this.mapComponent.fitBounds(t)}else this.mapComponent.center=this.availableCameras[0].marker.position,this.mapComponent.zoom=15}createMarkerCluster(){const t=`assets/img/map-overview/marker-cluster-icon-${this.themesService.getTheme()}`,e=this.markersComponents.map(t=>t.marker);this.markerCluster=new Z(this.mapComponent.googleMap,e,{imagePath:t,imageExtension:"svg",imageSizes:[this.markerClusterIconSize.height],clusterClass:"map-overview-cluster",averageCenter:!0})}createMarkerCompassOverlay(){const t=this.settings.cameras.find(t=>t.isMain),e=new google.maps.LatLngBounds(new google.maps.LatLng(t.marker.position.lat,t.marker.position.lng));this.markerCompasOverlay=X(this.mapComponent.googleMap,e,this.compassService.getComapsRotationAngle$(),this.compassService.getCompasViewAngle$(),this.overlayColor),this.listener=this.markerCluster.addListener("clusteringend",()=>{this.isMainMarkerClustered()?this.markerCompasOverlay.hide():this.markerCompasOverlay.show()})}isMainMarkerClustered(){const t=this.markerCluster.getClusters();return 0!==t.length&&-1===t.findIndex(t=>{const e=t.getMarkers();return 1===e.length&&e[0]===this.mainMarker})}setMainMarker(){const t=this.availableCameras.find(t=>t.isMain),e=this.markersComponents.find(e=>{const i=e.getPosition();return t.marker.position.lat===(null==i?void 0:i.lat())&&t.marker.position.lng===(null==i?void 0:i.lng())});this.mainMarker=null==e?void 0:e.marker}};return t.\u0275fac=function(e){return new(e||t)(n.Ob(F.a),n.Ob(n.h),n.Ob(q),n.Ob(k.a),n.Ob(K.a),n.Ob(Q.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-map-overview"]],viewQuery:function(t,e){if(1&t&&(n.Jc(v,1),n.Jc(y,1)),2&t){let t;n.qc(t=n.cc())&&(e.mapComponent=t.first),n.qc(t=n.cc())&&(e.markersComponents=t)}},decls:10,vars:16,consts:[[3,"routerPopupTitle","routerPopupSize","routerPopupIsMobileFullScreen"],[1,"map-overview"],["height","100%","width","100%",3,"options",4,"ngIf"],[3,"googleMap","isScriptLoaded",4,"ngIf"],["class","map-overview-loader",4,"ngIf"],["height","100%","width","100%",3,"options"],[4,"ngIf"],[3,"position","label","options","mapClick",4,"ngFor","ngForOf"],[3,"position","label","options","mapClick"],[3,"googleMap","isScriptLoaded"],[1,"map-overview-loader"],[3,"invertColor"]],template:function(t,e){if(1&t&&(n.Ub(0,"app-router-popup",0),n.gc(1,"titlecase"),n.gc(2,"translate"),n.Ub(3,"div",1),n.Bc(4,dt,3,4,"google-map",2),n.gc(5,"async"),n.Bc(6,mt,2,4,"app-map-overview-navigation",3),n.gc(7,"async"),n.Bc(8,ut,2,2,"div",4),n.gc(9,"async"),n.Tb(),n.Tb()),2&t){let t=null,i=null,s=null;n.lc("routerPopupTitle",n.hc(1,6,n.hc(2,8,"_overview_map")))("routerPopupSize","big")("routerPopupIsMobileFullScreen",!0),n.Cb(4),n.lc("ngIf",null==(t=n.hc(5,10,e.scriptLoadState$))?null:t.completed),n.Cb(2),n.lc("ngIf",!(null!=(i=n.hc(7,12,e.scriptLoadState$))&&i.error)),n.Cb(2),n.lc("ngIf",!(null!=(s=n.hc(9,14,e.scriptLoadState$))&&s.completed))}},directives:[tt.a,s.m,v,s.l,y,rt,ht.a],pipes:[s.u,w.d,s.b],styles:["[_nghost-%COMP%]{display:block}.map-overview[_ngcontent-%COMP%]{position:relative;height:100%}@media screen and (min-width:1024px){.map-overview[_ngcontent-%COMP%]{height:calc(90vh - 68px)}}.map-overview-loader[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center}.theme-light   [_nghost-%COMP%]   .map-overview-loader[_ngcontent-%COMP%]{background-color:#fff}.theme-dark   [_nghost-%COMP%]   .map-overview-loader[_ngcontent-%COMP%]{background-color:#000}"],data:{animation:[V]},changeDetection:0}),t=Object(S.a)([Object(R.a)()],t),t})(),vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({providers:[q],imports:[[s.c,C,k.f.forChild([{path:"",component:_t}]),O.a,z.a,I.a,w.c]]}),t})()}}]);