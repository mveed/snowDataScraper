(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"0whj":function(e,t,i){"use strict";i.r(t),i.d(t,"VideoModule",function(){return O});var n=i("ofXK"),o=i("5RNC"),c=i("dBhb"),s=i("0Faz"),d=i("tyNb"),a=i("mrSG"),r=i("VfN6"),l=i("fXoL"),u=i("xgIS");const p=["video"];let v=(()=>{let e=class{constructor(e){this.cdr=e,this.videoCurrentTime=new l.n,this.videoDurationTime=new l.n,this.isVideoBeingPlayed=!1}ngAfterViewInit(){this.emitVideoDurationTime(),this.pauseOnVideoEnd(),this.autoplay&&this.playVideo()}playVideo(){this.isVideoBeingPlayed||(this.video.nativeElement.muted=!0,this.video.nativeElement.play(),this.emitVideoCurrentTime(),this.isVideoBeingPlayed=!0)}pauseVideo(){this.isVideoBeingPlayed&&(this.video.nativeElement.pause(),this.videoCurrentTimeSubscription.unsubscribe(),this.isVideoBeingPlayed=!1)}setVideoCurrentTime(e){this.video.nativeElement.currentTime=e}emitVideoDurationTime(){Object(u.a)(this.video.nativeElement,"durationchange").pipe(Object(r.b)(this)).subscribe(()=>{this.videoDurationTime.emit(this.video.nativeElement.duration)})}emitVideoCurrentTime(){this.videoCurrentTimeSubscription=Object(u.a)(this.video.nativeElement,"timeupdate").pipe(Object(r.b)(this)).subscribe(()=>{const e=parseFloat(this.video.nativeElement.currentTime.toFixed(2));this.videoCurrentTime.emit(e)})}pauseOnVideoEnd(){Object(u.a)(this.video.nativeElement,"ended").pipe(Object(r.b)(this)).subscribe(()=>{this.isVideoBeingPlayed=!1,this.cdr.markForCheck()})}};return e.\u0275fac=function(t){return new(t||e)(l.Ob(l.h))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-video"]],viewQuery:function(e,t){if(1&e&&l.Jc(p,1,l.l),2&e){let e;l.qc(e=l.cc())&&(t.video=e.first)}},inputs:{videoUrl:"videoUrl",autoplay:"autoplay"},outputs:{videoCurrentTime:"videoCurrentTime",videoDurationTime:"videoDurationTime"},decls:2,vars:1,consts:[[3,"src"],["video",""]],template:function(e,t){1&e&&l.Pb(0,"video",0,1),2&e&&l.lc("src",t.videoUrl,l.wc)},styles:["@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}video[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-animation:fadeIn .3s ease;animation:fadeIn .3s ease;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}"],changeDetection:0}),e=Object(a.a)([Object(r.a)()],e),e})();var b=i("wbTk"),h=i("MY16");function m(e,t){if(1&e){const e=l.Vb();l.Ub(0,"button",1),l.bc("click",function(){return l.uc(e),l.fc().emitPlayVideo()}),l.ec(),l.Ub(1,"svg",6),l.Pb(2,"path",7),l.Tb(),l.Tb()}}function g(e,t){if(1&e){const e=l.Vb();l.Ub(0,"button",1),l.bc("click",function(){return l.uc(e),l.fc().emitPauseVideo()}),l.ec(),l.Ub(1,"svg",8),l.Pb(2,"path",9),l.Tb(),l.Tb()}}let f=(()=>{class e{constructor(e){this.fullScreenService=e,this.videoControlsClassName=!0,this.playVideo=new l.n,this.pauseVideo=new l.n,this.isVideoBeingPlayed=!1}emitPlayVideo(){this.playVideo.emit()}emitPauseVideo(){this.pauseVideo.emit()}enterFullScreen(){this.fullScreenService.switchOnFullScreenMode()}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(h.a))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-video-controls"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("video-controls",t.videoControlsClassName)},inputs:{isVideoBeingPlayed:"isVideoBeingPlayed"},outputs:{playVideo:"playVideo",pauseVideo:"pauseVideo"},decls:8,vars:2,consts:[[1,"video-controls__button"],[3,"click"],["width","20","height","20","viewBox","0 0 20 20"],["fill","#3C425B","d","M7.293 11.293c.39-.39 1.024-.39 1.414 0 .39.39.39 1.024 0 1.414L3.414 18H7c.513 0 .936.386.993.883L8 19c0 .552-.448 1-1 1H.967l-.053-.004-.063-.007-.052-.01c-.022-.004-.043-.009-.065-.015l-.046-.014-.06-.021-.051-.023-.061-.03-.037-.022c-.025-.016-.05-.032-.074-.05-.04-.03-.077-.061-.112-.097l.09.08c-.063-.05-.12-.107-.17-.17l-.017-.022c-.018-.024-.034-.049-.05-.074l-.021-.037c-.011-.02-.022-.04-.031-.06L.07 19.37l-.021-.06-.014-.045-.016-.065-.009-.053C.004 19.1 0 19.051 0 19l.004.09L0 19.02V13c0-.552.448-1 1-1s1 .448 1 1v3.584zM19 0h.02c.023 0 .046.002.07.004l.059.007.052.01c.022.004.043.009.065.015l.046.014.06.021.051.023.061.03.037.022c.025.016.05.032.074.05.04.03.077.061.112.097l-.09-.08c.063.05.12.107.17.17l.017.022c.018.024.034.049.05.074l.021.037c.011.02.022.04.031.06l.023.053.021.06.014.045.016.065.009.053C19.996.9 20 .949 20 1l-.004-.086.003.054L20 1v6c0 .552-.448 1-1 1s-1-.448-1-1V3.414l-5.293 5.293c-.36.36-.928.388-1.32.083l-.094-.083c-.39-.39-.39-1.024 0-1.414L16.584 2H13c-.513 0-.936-.386-.993-.883L12 1c0-.552.448-1 1-1z"],[3,"click",4,"ngIf","ngIfElse"],["pauseVideoButton",""],["width","16","height","20","viewBox","0 0 16 20"],["fill","#3C425B","d","M2 2.833V17.17l11.15-7.168L2 2.833zM1.54.16l14 9c.613.394.613 1.29 0 1.683l-14 9c-.665.428-1.54-.05-1.54-.841v-18C0 .21.875-.268 1.54.16z"],["width","14","height","18","viewBox","0 0 14 18"],["fill","#3C425B","d","M2 2v14h2V2H2zm3-2c.552 0 1 .448 1 1v16c0 .552-.448 1-1 1H1c-.552 0-1-.448-1-1V1c0-.552.448-1 1-1h4zm8 0c.552 0 1 .448 1 1v16c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V1c0-.552.448-1 1-1h4zm-1 2h-2v14h2V2z"]],template:function(e,t){if(1&e&&(l.Ub(0,"div",0),l.Ub(1,"button",1),l.bc("click",function(){return t.enterFullScreen()}),l.ec(),l.Ub(2,"svg",2),l.Pb(3,"path",3),l.Tb(),l.Tb(),l.Tb(),l.dc(),l.Ub(4,"div",0),l.Bc(5,m,3,0,"button",4),l.Bc(6,g,3,0,"ng-template",null,5,l.Cc),l.Tb()),2&e){const e=l.rc(7);l.Cb(5),l.lc("ngIf",!t.isVideoBeingPlayed)("ngIfElse",e)}},directives:[n.m],styles:[".video-controls[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center;width:60px;height:120px;border-radius:18px;box-shadow:0 0 40px 0 rgba(60,66,91,.3);overflow:hidden}.video-controls[_nghost-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid rgba(172,175,189,.3)}.theme-light   .video-controls[_nghost-%COMP%]{background-color:#fff}.theme-dark   .video-controls[_nghost-%COMP%]{background-color:#222}.video-controls__button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.video-controls__button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:100%;border:none;outline:none;background-color:inherit;cursor:pointer}.theme-light   [_nghost-%COMP%]   .video-controls__button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#3c425b}.theme-dark   [_nghost-%COMP%]   .video-controls__button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:hsla(0,0%,100%,.55555555)}"],changeDetection:0}),e})();var C=i("QDQP");const V=["videoTimeSlider"],y=[{path:"",component:(()=>{let e=class{constructor(e){this.activatedRoute=e}ngOnInit(){this.handleVideoSettingsResolver()}onPlayVideo(){this.videoComponent.playVideo()}onPauseVideo(){this.videoComponent.pauseVideo()}onVideoDurationTimeUpdate(e){this.videoTimeSlider.max=e}onVideoCurrentTimeUpdate(e){this.videoTimeSlider.value=e}onVideoCurrentTimeManualChange(e){this.videoComponent.setVideoCurrentTime(e)}handleVideoSettingsResolver(){this.activatedRoute.data.pipe(Object(r.b)(this)).subscribe(e=>{this.videoSettings=e.videoSettings})}};return e.\u0275fac=function(t){return new(t||e)(l.Ob(d.a))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-video-container"]],viewQuery:function(e,t){if(1&e&&(l.Jc(v,1),l.Jc(V,1)),2&e){let e;l.qc(e=l.cc())&&(t.videoComponent=e.first),l.qc(e=l.cc())&&(t.videoTimeSlider=e.first)}},decls:8,vars:5,consts:[[3,"routerPopupIsFullScreen"],[1,"video-container"],[3,"videoUrl","autoplay","videoCurrentTime","videoDurationTime"],[3,"isVideoBeingPlayed","playVideo","pauseVideo"],[1,"video-container-navigation"],[3,"timeAt"],["min","0","max","100","step","0.5","value","0",3,"input"],["videoTimeSlider",""]],template:function(e,t){1&e&&(l.Ub(0,"app-router-popup",0),l.Ub(1,"div",1),l.Ub(2,"app-video",2),l.bc("videoCurrentTime",function(e){return t.onVideoCurrentTimeUpdate(e)})("videoDurationTime",function(e){return t.onVideoDurationTimeUpdate(e)}),l.Tb(),l.Ub(3,"app-video-controls",3),l.bc("playVideo",function(){return t.onPlayVideo()})("pauseVideo",function(){return t.onPauseVideo()}),l.Tb(),l.Ub(4,"div",4),l.Pb(5,"app-ui-camera-time-indicator",5),l.Ub(6,"mat-slider",6,7),l.bc("input",function(e){return t.onVideoCurrentTimeManualChange(e.value)}),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&e&&(l.lc("routerPopupIsFullScreen",!0),l.Cb(2),l.lc("videoUrl",t.videoSettings.url)("autoplay",t.videoSettings.autoplay),l.Cb(1),l.lc("isVideoBeingPlayed",null==t.videoComponent?null:t.videoComponent.isVideoBeingPlayed),l.Cb(2),l.lc("timeAt",t.videoSettings.datetime))},directives:[b.a,v,f,C.a,o.a],styles:[".video-container[_ngcontent-%COMP%]{background-color:#000}.video-container[_ngcontent-%COMP%], app-video[_ngcontent-%COMP%]{width:100%;height:100%}app-video-controls[_ngcontent-%COMP%]{position:absolute;top:30px;left:30px}.video-container-navigation[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;left:0;padding:0 7.5vw 20px;display:flex;flex-direction:column;align-items:center}.video-container-navigation[_ngcontent-%COMP%]   app-ui-camera-time-indicator[_ngcontent-%COMP%]{margin-bottom:20px}"],changeDetection:0}),e=Object(a.a)([Object(r.a)()],e),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({imports:[[d.f.forChild(y)],d.f]}),e})();var T=i("ZIxz");let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({imports:[[n.c,s.a,o.b,P,T.a,c.a]]}),e})()}}]);