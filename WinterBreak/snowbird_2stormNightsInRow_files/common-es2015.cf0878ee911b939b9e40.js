(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{EK73:function(e,t,a){"use strict";a.d(t,"a",function(){return n});const n=e=>{const t={};return e.forEach(e=>{const a=e.y;t[a]={},e.months.forEach(e=>{const n=e.m-1;t[a][n]={},e.days.forEach(e=>{const i=e.d,o=new Date(a,n,i,0,0,0,0);t[a][n][i]=o})})}),t}},H8Wg:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a("mrSG"),i=a("FKr1"),o=a("VfN6"),c=a("VRyK"),r=a("LRne"),l=a("lJxs"),s=a("fXoL"),m=a("iadO"),d=a("bTqV"),g=a("NFeN"),h=a("ofXK");let u=(()=>{let e=class{constructor(e,t,a){this.calendar=e,this.dateAdapter=t,this.dateFormats=a}ngOnInit(){this.setPeriodLabel()}get periodLabel(){return this.dateAdapter.format(this.calendar.activeDate,this.dateFormats.display.monthYearLabel).toLocaleUpperCase()}previousClicked(e){this.calendar.activeDate="month"===e?this.dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this.dateAdapter.addCalendarYears(this.calendar.activeDate,-1)}nextClicked(e){this.calendar.activeDate="month"===e?this.dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this.dateAdapter.addCalendarYears(this.calendar.activeDate,1)}setPeriodLabel(){this.periodLabel$=Object(c.a)(Object(r.a)(null),this.calendar.stateChanges,this.dateAdapter.localeChanges).pipe(Object(l.a)(()=>this.dateAdapter.format(this.calendar.activeDate,this.dateFormats.display.monthYearLabel).toLocaleUpperCase()))}};return e.\u0275fac=function(t){return new(t||e)(s.Ob(m.a),s.Ob(i.a),s.Ob(i.c))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-ui-calendar-header"]],decls:20,vars:3,consts:[[1,"calendar-header"],["mat-icon-button","",1,"example-double-arrow",3,"click"],["mat-icon-button","",3,"click"],[1,"calendar-header__label"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"button",1),s.bc("click",function(){return t.previousClicked("year")}),s.Ub(2,"mat-icon"),s.Dc(3,"keyboard_arrow_left"),s.Tb(),s.Ub(4,"mat-icon"),s.Dc(5,"keyboard_arrow_left"),s.Tb(),s.Tb(),s.Ub(6,"button",2),s.bc("click",function(){return t.previousClicked("month")}),s.Ub(7,"mat-icon"),s.Dc(8,"keyboard_arrow_left"),s.Tb(),s.Tb(),s.Ub(9,"span",3),s.Dc(10),s.gc(11,"async"),s.Tb(),s.Ub(12,"button",2),s.bc("click",function(){return t.nextClicked("month")}),s.Ub(13,"mat-icon"),s.Dc(14,"keyboard_arrow_right"),s.Tb(),s.Tb(),s.Ub(15,"button",1),s.bc("click",function(){return t.nextClicked("year")}),s.Ub(16,"mat-icon"),s.Dc(17,"keyboard_arrow_right"),s.Tb(),s.Ub(18,"mat-icon"),s.Dc(19,"keyboard_arrow_right"),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(10),s.Ec(s.hc(11,1,t.periodLabel$)))},directives:[d.a,g.a],pipes:[h.b],styles:["[_nghost-%COMP%]{display:block}.calendar-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.calendar-header__label[_ngcontent-%COMP%]{flex:1;height:1em;font-size:18px;font-weight:500;text-align:center}.theme-light.theme-color-yellow   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#bf9900}.theme-light.theme-color-red   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#d50015}.theme-light.theme-color-green   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:green}.theme-light.theme-color-blue   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#008fd0}.theme-light.theme-color-orange   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#f76200}.theme-light.theme-color-purple   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#af52de}.theme-light.theme-color-monochrome   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#000}.theme-dark.theme-color-yellow   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#c8a600}.theme-dark.theme-color-red   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#b00011}.theme-dark.theme-color-green   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#070}.theme-dark.theme-color-blue   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#0077ad}.theme-dark.theme-color-orange   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#d35400}.theme-dark.theme-color-purple   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#903db9}.theme-dark.theme-color-monochrome   [_nghost-%COMP%]   .calendar-header__label[_ngcontent-%COMP%]{color:#fff}.example-double-arrow[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:-8px}.mat-icon-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mat-icon[_ngcontent-%COMP%]{font-size:26px}.theme-light   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#3c425b}.theme-dark   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.theme-light.theme-color-yellow   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#bf9900}.theme-light.theme-color-red   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#d50015}.theme-light.theme-color-green   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:green}.theme-light.theme-color-blue   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#008fd0}.theme-light.theme-color-orange   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#f76200}.theme-light.theme-color-purple   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#af52de}.theme-light.theme-color-monochrome   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#000}.theme-dark.theme-color-yellow   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#c8a600}.theme-dark.theme-color-red   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#b00011}.theme-dark.theme-color-green   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#070}.theme-dark.theme-color-blue   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0077ad}.theme-dark.theme-color-orange   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#d35400}.theme-dark.theme-color-purple   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#903db9}.theme-dark.theme-color-monochrome   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),e=Object(n.a)([Object(o.a)()],e),e})()},ROI2:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a("fXoL"),i=a("ofXK"),o=a("zzDJ"),c=a("rjLu"),r=a("Fgjt");function l(e,t){1&e&&n.Pb(0,"app-ui-spinner")}function s(e,t){if(1&e&&(n.Ub(0,"p",7),n.Dc(1),n.Tb()),2&e){const e=n.fc();n.Cb(1),n.Fc(" ",e.title," ")}}function m(e,t){if(1&e&&(n.Ub(0,"p",9),n.Ub(1,"span"),n.Dc(2),n.gc(3,"async"),n.gc(4,"dateFormat"),n.Tb(),n.Ub(5,"span"),n.Dc(6),n.gc(7,"async"),n.gc(8,"dateFormat"),n.Tb(),n.Tb()),2&e){const e=n.fc(2);n.Cb(2),n.Ec(n.hc(3,2,n.ic(4,4,e.takenAt,"hour"))),n.Cb(4),n.Ec(n.hc(7,7,n.ic(8,9,e.takenAt,"date")))}}function d(e,t){if(1&e&&n.Bc(0,m,9,12,"p",8),2&e){const e=n.fc();n.lc("ngIf",e.takenAt)}}const g=function(e,t){return{"camera-image--active":e,"camera-image--not-panorama":t}};let h=(()=>{class e{constructor(){this.defaultPreviewImageUrl="/assets/img/placeholder.png",this.cameraClick=new n.n,this.isImageLoaded=!1}onImageLoad(){this.isImageLoaded=!0}onImageLoadError(){this.isImageLoaded=!0,this.imgUrl=this.defaultPreviewImageUrl}onClick(){this.isActive||this.cameraClick.emit({id:this.imgId,imgUrl:this.imgUrl,title:this.title,takenAt:this.takenAt,active:this.isActive,url:this.camUrl})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Ib({type:e,selectors:[["app-ui-camera-image"]],inputs:{imgId:"imgId",imgUrl:"imgUrl",title:"title",takenAt:"takenAt",isActive:"isActive",camUrl:"camUrl",isPanorama:"isPanorama"},outputs:{cameraClick:"cameraClick"},decls:9,vars:17,consts:[[1,"camera-image",3,"ngClass","click"],[4,"ngIf"],[1,"camera-image__img","camera-image__img-original"],["hidden","",3,"src","load","error"],[1,"camera-image__header"],["class","camera-image__title",4,"ngIf","ngIfElse"],["date",""],[1,"camera-image__title"],["class","camera-image__title camera-image__title--date",4,"ngIf"],[1,"camera-image__title","camera-image__title--date"]],template:function(e,t){if(1&e&&(n.Ub(0,"div",0),n.bc("click",function(){return t.onClick()}),n.Bc(1,l,1,0,"app-ui-spinner",1),n.Ub(2,"div",2),n.gc(3,"safe"),n.Tb(),n.Ub(4,"img",3),n.bc("load",function(){return t.onImageLoad()})("error",function(){return t.onImageLoadError()}),n.Tb(),n.Ub(5,"div",4),n.Bc(6,s,2,1,"p",5),n.Bc(7,d,1,1,"ng-template",null,6,n.Cc),n.Tb(),n.Tb()),2&e){const e=n.rc(8);n.lc("ngClass",n.oc(14,g,t.isImageLoaded&&t.isActive,!t.isPanorama)),n.Cb(1),n.lc("ngIf",!t.isImageLoaded),n.Cb(1),n.yc("background-image",n.ic(3,11,"url("+t.imgUrl+")","style")),n.Gb("camera-image__img-original--visible",t.isImageLoaded)("camera-image__placeholder",t.isImageLoaded&&t.imgUrl.includes("placeholder")),n.Cb(2),n.lc("src",t.imgUrl,n.wc),n.Cb(2),n.lc("ngIf",t.title)("ngIfElse",e)}},directives:[i.k,i.m,o.a],pipes:[c.a,i.b,r.a],styles:["[_nghost-%COMP%]{display:block}.camera-image[_ngcontent-%COMP%]{display:block;height:inherit;box-sizing:border-box;text-decoration:none;position:relative;border-radius:18px;overflow:hidden;cursor:pointer;padding-top:16.5%;min-height:100px;max-height:120px}.theme-light   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]{background-color:#bbb}.theme-dark   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]{background-color:#4c4c4c}.camera-image--not-panorama[_ngcontent-%COMP%]{padding-top:65%}.theme-light   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]{box-shadow:0 10px 20px 0 #8a8e9d}.theme-dark   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]{box-shadow:0 10px 20px 0 rgba(0,0,0,.4)}.camera-image[_ngcontent-%COMP%]:after{content:url(/assets/img/check-icon.svg);display:flex;justify-content:center;align-items:center;position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .5s}.theme-light.theme-color-yellow   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#bf9900;filter:opacity(.6)}.theme-light.theme-color-red   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#d50015;filter:opacity(.6)}.theme-light.theme-color-green   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:green;filter:opacity(.6)}.theme-light.theme-color-blue   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#008fd0;filter:opacity(.6)}.theme-light.theme-color-orange   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#f76200;filter:opacity(.6)}.theme-light.theme-color-purple   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#af52de;filter:opacity(.6)}.theme-light.theme-color-monochrome   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#000;filter:opacity(.6)}.theme-dark.theme-color-yellow   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#c8a600;filter:opacity(.6)}.theme-dark.theme-color-red   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#b00011;filter:opacity(.6)}.theme-dark.theme-color-green   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#070;filter:opacity(.6)}.theme-dark.theme-color-blue   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#0077ad;filter:opacity(.6)}.theme-dark.theme-color-orange   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#d35400;filter:opacity(.6)}.theme-dark.theme-color-purple   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#903db9;filter:opacity(.6)}.theme-dark.theme-color-monochrome   [_nghost-%COMP%]   .camera-image[_ngcontent-%COMP%]:after{background-color:#fff;filter:opacity(.6)}.camera-image--active[_ngcontent-%COMP%]:after{opacity:1}.camera-image__img[_ngcontent-%COMP%]{position:absolute;top:-1px;right:-1px;bottom:-1px;left:-1px;filter:brightness(65%);background-size:cover;background-position:50%}.camera-image__placeholder[_ngcontent-%COMP%]{filter:brightness(0);background-size:contain;background-position:bottom;background-repeat:no-repeat}.camera-image__img-original[_ngcontent-%COMP%]{opacity:0}.camera-image__img-original--visible[_ngcontent-%COMP%]{-webkit-animation:showOriginalImage .3s forwards;animation:showOriginalImage .3s forwards}.camera-image__header[_ngcontent-%COMP%]{position:absolute;top:16px;left:20px;right:20px}.camera-image__title[_ngcontent-%COMP%]{font-size:15px;margin:0;text-transform:uppercase;position:relative;z-index:1;font-weight:700;color:#fff;text-shadow:0 0 4px rgba(60,66,91,.5)}.camera-image__title--date[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@-webkit-keyframes showOriginalImage{0%{opacity:0}to{opacity:1}}@keyframes showOriginalImage{0%{opacity:0}to{opacity:1}}"],changeDetection:0}),e})()},TO3C:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a("fXoL"),i=a("ofXK"),o=a("ROI2");function c(e,t){if(1&e){const e=n.Vb();n.Ub(0,"li",3),n.Ub(1,"app-ui-camera-image",4),n.bc("cameraClick",function(t){return n.uc(e),n.fc(2).onSelectClick(t)}),n.Tb(),n.Tb()}if(2&e){const e=t.$implicit;n.Cb(1),n.lc("imgId",e.id)("imgUrl",e.imgUrl)("isActive",e.active)("title",e.title)("takenAt",e.takenAt)("camUrl",e.url)("isPanorama",!0)}}function r(e,t){if(1&e&&(n.Ub(0,"ul",1),n.Bc(1,c,2,7,"li",2),n.Tb()),2&e){const e=n.fc();n.Gb("cameras-list--grid",!1),n.Cb(1),n.lc("ngForOf",e.panormamaList)("ngForTrackBy",e.trackByFn)}}function l(e,t){if(1&e){const e=n.Vb();n.Ub(0,"li",3),n.Ub(1,"app-ui-camera-image",4),n.bc("cameraClick",function(t){return n.uc(e),n.fc(2).onSelectClick(t)}),n.Tb(),n.Tb()}if(2&e){const e=t.$implicit;n.Cb(1),n.lc("imgId",e.id)("imgUrl",e.imgUrl)("isActive",e.active)("title",e.title)("takenAt",e.takenAt)("camUrl",e.url)("isPanorama",!1)}}function s(e,t){if(1&e&&(n.Ub(0,"ul",1),n.Bc(1,l,2,7,"li",2),n.Tb()),2&e){const e=n.fc();n.Gb("cameras-list--grid",!0),n.Cb(1),n.lc("ngForOf",e.notPanormamaList)("ngForTrackBy",e.trackByFn)}}let m=(()=>{class e{constructor(){this.onSelect=new n.n}ngOnChanges(e){var t;(null===(t=e.list)||void 0===t?void 0:t.currentValue)&&this.splitList(e.list.currentValue)}trackByFn(e,t){return t.id}onSelectClick(e){this.onSelect.emit(e)}splitList(e){const t=[],a=[];e.forEach(e=>{e.position.angle>180?t.push(e):a.push(e)}),this.panormamaList=t,this.notPanormamaList=a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Ib({type:e,selectors:[["app-ui-camera-list"]],inputs:{list:"list"},outputs:{onSelect:"onSelect"},features:[n.Ab],decls:2,vars:2,consts:[["class","cameras-list",3,"cameras-list--grid",4,"ngIf"],[1,"cameras-list"],["class","cameras-list__item","tra","",4,"ngFor","ngForOf","ngForTrackBy"],["tra","",1,"cameras-list__item"],[3,"imgId","imgUrl","isActive","title","takenAt","camUrl","isPanorama","cameraClick"]],template:function(e,t){1&e&&(n.Bc(0,r,2,4,"ul",0),n.Bc(1,s,2,4,"ul",0)),2&e&&(n.lc("ngIf",0!==(null==t.panormamaList?null:t.panormamaList.length)),n.Cb(1),n.lc("ngIf",0!==(null==t.notPanormamaList?null:t.notPanormamaList.length)))},directives:[i.m,i.l,o.a],styles:["[_nghost-%COMP%]{display:block;padding:0 0 20px}.cameras-list[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.cameras-list__item[_ngcontent-%COMP%]{display:block;margin:0;width:100%;box-sizing:border-box;padding:10px 20px}.cameras-list--grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media screen and (min-width:500px){.cameras-list--grid[_ngcontent-%COMP%]   .cameras-list__item[_ngcontent-%COMP%]{width:50%}.cameras-list--grid[_ngcontent-%COMP%]   .cameras-list__item[_ngcontent-%COMP%]:nth-child(2n){padding-left:10px}.cameras-list--grid[_ngcontent-%COMP%]   .cameras-list__item[_ngcontent-%COMP%]:nth-child(odd){padding-right:10px}}"],changeDetection:0}),e})()},kTrY:function(e,t,a){"use strict";a.d(t,"a",function(){return P});var n=a("fXoL"),i=a("H8Wg"),o=a("eCXC"),c=a("iadO"),r=a("ofXK"),l=a("5RNC"),s=a("mrSG"),m=a("VfN6"),d=a("PqYM");let g=(()=>{let e=class{constructor(e,t){this.document=e,this.elementRef=t}mouseEnter(e){const t=new MouseEvent("mousedown",{clientX:e.clientX,clientY:e.clientY});this.elementRef.nativeElement.dispatchEvent(t),this.elementRef.nativeElement.classList.add("cdk-focused"),this.elementRef.nativeElement.classList.add("cdk-mouse-focused"),this.elementRef.nativeElement.classList.add("cdk-keyboard-focused"),this.elementRef.nativeElement.classList.add("mat-slider-sliding")}mouseOut(e){const t=new MouseEvent("mouseup",{clientX:e.clientX,clientY:e.clientY});this.document.dispatchEvent(t),this.elementRef.nativeElement.classList.remove("cdk-focused"),this.elementRef.nativeElement.classList.remove("cdk-mouse-focused"),this.elementRef.nativeElement.classList.remove("cdk-keyboard-focused"),this.elementRef.nativeElement.classList.remove("mat-slider-sliding")}mouseUp(e){Object(d.a)(0).pipe(Object(m.b)(this)).subscribe(()=>{const t=new MouseEvent("mousedown",{clientX:e.clientX,clientY:e.clientY});this.elementRef.nativeElement.dispatchEvent(t)})}};return e.\u0275fac=function(t){return new(t||e)(n.Ob(r.d),n.Ob(n.l))},e.\u0275dir=n.Jb({type:e,selectors:[["","appSliderHover",""]],hostBindings:function(e,t){1&e&&n.bc("mouseenter",function(e){return t.mouseEnter(e)})("mouseleave",function(e){return t.mouseOut(e)})("mouseup",function(e){return t.mouseUp(e)})}}),e=Object(s.a)([Object(m.a)()],e),e})(),h=(()=>{class e{constructor(){this.valueChange=new n.n}onValueChange(e){this.valueChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Ib({type:e,selectors:[["app-ui-calendar-slider"]],inputs:{sliderValue:"sliderValue",sliderMaxValue:"sliderMaxValue",isDisabled:"isDisabled"},outputs:{valueChange:"valueChange"},decls:1,vars:4,consts:[["appSliderHover","","min","1","step","1",3,"max","value","hidden","disabled","input"]],template:function(e,t){1&e&&(n.Ub(0,"mat-slider",0),n.bc("input",function(e){return t.onValueChange(e.value)}),n.Tb()),2&e&&n.lc("max",t.sliderMaxValue)("value",t.sliderValue)("hidden",1>=t.sliderMaxValue)("disabled",t.isDisabled)},directives:[l.a,g],styles:["mat-slider[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e})();var u=a("bTqV"),b=a("zzDJ"),p=a("Fgjt"),_=a("rjLu");function f(e,t){if(1&e&&(n.Pb(0,"img",14),n.gc(1,"safe")),2&e){const e=n.fc(2);n.lc("src",n.ic(1,1,e.imagePreviewUrl,"resourceUrl"),n.wc)}}function C(e,t){1&e&&(n.Ub(0,"div",15),n.Pb(1,"app-ui-spinner"),n.Tb())}function O(e,t){if(1&e&&(n.Ub(0,"div",11),n.Bc(1,f,2,4,"img",12),n.Bc(2,C,2,0,"div",13),n.Tb()),2&e){const e=n.fc();n.Gb("camera-calendar-image--not-panorama",!e.isPanorama),n.Cb(1),n.lc("ngIf",e.imagePreviewUrl),n.Cb(1),n.lc("ngIf",e.isLoading)}}let P=(()=>{class e{constructor(e,t,a){this.cdr=t,this.eRef=a,this.isDesktopView$=e.isDesktopView$,this.calendarHeader=i.a,this.dateChange=new n.n,this.itemChange=new n.n,this.loadMain=new n.n,this.dateFilter=()=>!1}onHover(e){e.target.className.includes("mat-slider")&&clearInterval(this.interval)}ngOnChanges(e){if(e.calendarDates&&e.calendarDates.currentValue&&this.setDateFilter(),!e.sliderItems||!e.sliderItems.currentValue)return;const t=Object.keys(e.sliderItems.currentValue).length;this.resetSlider(t)}onDateChange(e){this.dateSelected=e,this.dateChange.emit(e),this.interval&&clearInterval(this.interval),this.autorotateSlider()}onItemChange(e){this.sliderValue=e,this.itemSelected=this.sliderItems[this.sliderValue-1],this.itemChange.emit(this.itemSelected)}autorotateSlider(){if(!this.isAutorotateActive)return;let e=1;this.interval=setInterval(()=>{e<=this.sliderItemsCount?(this.onItemChange(e),e++):e=1},1e3)}onLoadImage(){this.loadMain.emit(this.itemSelected.id)}setDateFilter(){this.dateFilter=e=>{var t,a;return!!(null===(a=null===(t=this.calendarDates[e.getFullYear()])||void 0===t?void 0:t[e.getMonth()])||void 0===a?void 0:a[e.getDate()])}}resetSlider(e){this.sliderValue=e,this.sliderItemsCount=e,this.onItemChange(this.sliderValue),this.cdr.detectChanges(),this.interval&&clearInterval(this.interval),this.autorotateSlider()}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(o.a),n.Ob(n.h),n.Ob(n.l))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-ui-camera-calendar"]],hostBindings:function(e,t){1&e&&n.bc("mouseover",function(e){return t.onHover(e)})},inputs:{dateSelected:"dateSelected",calendarDates:"calendarDates",sliderItems:"sliderItems",imagePreviewUrl:"imagePreviewUrl",isLoading:"isLoading",isHorizontalLayout:"isHorizontalLayout",isPanorama:"isPanorama",disabled:"disabled",isAutorotateActive:"isAutorotateActive"},outputs:{dateChange:"dateChange",itemChange:"itemChange",loadMain:"loadMain"},features:[n.Ab],decls:17,vars:21,consts:[[1,"camera-calendar"],[1,"camera-calendar-calendar"],[1,"mat-calendar",3,"headerComponent","dateFilter","startAt","selected","selectedChange"],["class","camera-calendar-image",3,"camera-calendar-image--not-panorama",4,"ngIf"],[1,"camera-calendar-content"],[1,"camera-calendar-navigation"],[1,"camera-calendar-time"],[1,"time-indicator-text"],[3,"sliderValue","sliderMaxValue","isDisabled","sliderValueChange","valueChange","click"],["calendarSlider",""],["mat-stroked-button","",1,"camera-calendar-load-btn",3,"disabled","click"],[1,"camera-calendar-image"],["class","camera-calendar-image__image","alt","Preview image",3,"src",4,"ngIf"],["class","camera-calendar-image__loader",4,"ngIf"],["alt","Preview image",1,"camera-calendar-image__image",3,"src"],[1,"camera-calendar-image__loader"]],template:function(e,t){1&e&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"mat-calendar",2),n.bc("selectedChange",function(e){return t.onDateChange(e)}),n.Tb(),n.Tb(),n.Bc(3,O,3,4,"div",3),n.gc(4,"async"),n.Ub(5,"div",4),n.Ub(6,"div",5),n.Ub(7,"div",6),n.Ub(8,"span",7),n.Dc(9),n.gc(10,"async"),n.gc(11,"dateFormat"),n.Tb(),n.Tb(),n.Ub(12,"app-ui-calendar-slider",8,9),n.bc("sliderValueChange",function(e){return t.sliderValue=e})("valueChange",function(e){return t.onItemChange(e)})("click",function(){return t.onLoadImage()}),n.Tb(),n.Ub(14,"button",10),n.bc("click",function(){return t.onLoadImage()}),n.Ub(15,"span"),n.Dc(16,"Load"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&e&&(n.Gb("camera-calendar--horizontal-layout",t.isHorizontalLayout),n.Cb(2),n.lc("headerComponent",t.calendarHeader)("dateFilter",t.dateFilter)("startAt",t.dateSelected)("selected",t.dateSelected),n.Cb(1),n.lc("ngIf",n.hc(4,14,t.isDesktopView$)),n.Cb(6),n.Fc(" ",n.hc(10,16,n.ic(11,18,1e3*(null==t.itemSelected?null:t.itemSelected.datetime),"hour"))," "),n.Cb(3),n.lc("sliderValue",t.sliderValue)("sliderMaxValue",t.sliderItemsCount)("isDisabled",!t.sliderItems||t.disabled),n.Cb(2),n.Gb("one-item",1===t.sliderItemsCount),n.lc("disabled",!t.sliderItems||t.disabled))},directives:[c.a,r.m,h,u.a,b.a],pipes:[r.b,p.a,_.a],styles:["@-webkit-keyframes fadeImageIn{0%{opacity:0}to{opacity:1}}@keyframes fadeImageIn{0%{opacity:0}to{opacity:1}}.camera-calendar[_ngcontent-%COMP%]{padding:20px 20px 0;max-width:320px;margin:0 auto;box-sizing:border-box}.camera-calendar-calendar[_ngcontent-%COMP%]{box-sizing:border-box;min-height:290px}.camera-calendar-image[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;overflow:hidden;height:200px;margin-bottom:20px;border-radius:18px}.theme-light   [_nghost-%COMP%]   .camera-calendar-image[_ngcontent-%COMP%]{background-color:#bbb}.theme-dark   [_nghost-%COMP%]   .camera-calendar-image[_ngcontent-%COMP%]{background-color:#4c4c4c}.camera-calendar-image--not-panorama[_ngcontent-%COMP%]{height:230px}.camera-calendar-image__image[_ngcontent-%COMP%]{top:0;right:0;bottom:0;left:0;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;max-width:100%;height:100%;margin:0 auto;display:block;border-radius:18px;-webkit-animation:fadeImageIn 1.5s ease;animation:fadeImageIn 1.5s ease}.camera-calendar-image__loader[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;background-color:hsla(0,0%,100%,.5);display:flex;border-radius:18px;justify-content:center;align-items:center}.camera-calendar-content[_ngcontent-%COMP%]   .camera-calendar-navigation[_ngcontent-%COMP%]{padding:0 12px 12px}.camera-calendar-content[_ngcontent-%COMP%]   .camera-calendar-time[_ngcontent-%COMP%]{text-align:center;line-height:normal}.camera-calendar-content[_ngcontent-%COMP%]   .camera-calendar-time[_ngcontent-%COMP%] > .time-indicator-text[_ngcontent-%COMP%]{font-size:67px;font-weight:300}.camera-calendar-content[_ngcontent-%COMP%]   .camera-calendar-load-btn[_ngcontent-%COMP%]{display:block;width:100%;margin:30px auto;font-size:20px;font-weight:700;text-transform:uppercase;max-width:360px}@media screen and (min-width:1025px){.camera-calendar-content[_ngcontent-%COMP%]   .camera-calendar-navigation[_ngcontent-%COMP%]{padding:0}.camera-calendar-content[_ngcontent-%COMP%]   .camera-calendar-navigation[_ngcontent-%COMP%]   .camera-calendar-load-btn[_ngcontent-%COMP%]:not(.one-item){display:none}}@media screen and (min-width:650px){.camera-calendar.camera-calendar--horizontal-layout[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap}.camera-calendar.camera-calendar--horizontal-layout[_ngcontent-%COMP%]   .camera-calendar-image[_ngcontent-%COMP%]{order:-1;width:100%;height:170px;margin-bottom:20px}.camera-calendar.camera-calendar--horizontal-layout[_ngcontent-%COMP%]   .camera-calendar-calendar[_ngcontent-%COMP%]{width:50%;max-width:380px;padding:20px}.camera-calendar.camera-calendar--horizontal-layout[_ngcontent-%COMP%]   .camera-calendar-content[_ngcontent-%COMP%]{flex-grow:1;padding:20px;box-sizing:border-box}}"],changeDetection:0}),e})()}}]);