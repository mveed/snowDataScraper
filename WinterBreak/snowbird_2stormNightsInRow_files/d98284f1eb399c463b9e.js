webpackJsonp([0],{103:function(e,t,n){var i,o,r,a;r=n(118),o=n(119),a=n(120),i=function(e){var t,n,i,s;return n=new r(e),t=new o(e),i=new a(e),e.settings.image.navigation.enabled&&(e.video.element.style.cursor="-webkit-grab"),s=function(){var t;if(e.settings.image.navigation.enabled){if(t=n.getMode(),n.isCrop())return e.video.element.style.cursor="crosshair";switch(t){case r.MODE_ZOOM:return e.video.element.style.cursor="crosshair";case r.MODE_PAN:return e.video.element.style.cursor="-webkit-grabbing";default:return e.video.element.style.cursor="-webkit-grab"}}},t.bind("alt",function(){return i.setCrop(!i.isCrop())}),i.bind("change",function(e){var t;return t=n.getMode(),t===r.MODE_NONE?n.setCrop(e):i.setCrop(t===r.MODE_ZOOM,!1),s()}),n.bind("change",function(e){return e===r.MODE_NONE&&i.setCrop(!1,!1),s()}),{destroy:function(){return n.destroy(),t.destroy(),i.destroy()}}},e.exports=i},118:function(e,t,n){var i,o;i=n(0),o=function(e){var t,n,r,a,s,d,u,l,c,v,m,g,y,f,h,p,w;return u={},i.mixin(u),s=o.MODE_NONE,p=null,w=null,g=null,a=!1,m=!1,y=!1,t=null,n=function(){return t||(t=e.video.element.querySelector(".hdrelay-video-select"),t||(t=document.createElement("div"),t.className="hdrelay-video-select",e.video.element.appendChild(t)),t)},r=function(){var e;return null!=(e=n())?e.style.display="none":void 0},f=function(t,n){var i,o,r,a,s,d,u;return r={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y)},i={x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)},s=w.x+(r.x+i.x)/2/w.zoom,d=w.y+(r.y+i.y)/2/w.zoom*w.sourceRatio/w.windowRatio,a=i.x-r.x,o=i.y-r.y,u=1/Math.max(a,o)*w.zoom,e.setWindow(s,d,u)},h=function(e,t){var i,o,r;return r={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y)},i={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},o=n(),o.style.left=100*r.x+50+"%",o.style.top=100*-i.y+50+"%",o.style.width=100*(i.x-r.x)+"%",o.style.height=100*(i.y-r.y)+"%",o.style.display="block"},v=function(t,n){var i,o;return i=w.x+t/w.zoom,o=w.y+n/w.zoom*w.sourceRatio/w.windowRatio,e.setWindow(i,o,w.zoom)},c=function(t){var n;if(e.interface.element.focus(),e.isPaused()||e.isEnd()||(y=!0,e.message.show("Playback Paused"),e.pause()),w=e.getWindow(),null!=this.getBoundingClientRect)return n=this.getBoundingClientRect(),p={x:(t.clientX-n.left-n.width/2)/n.width,y:-(t.clientY-n.top-n.height/2)/n.height},s=a?o.MODE_ZOOM:o.MODE_PAN,u.trigger("change",s),t.preventDefault()},l=function(t){var n,i,r;if(e.settings.image.navigation.enabled){if(null!=p){if(null==this.getBoundingClientRect)return;n=this.getBoundingClientRect(),i=(t.clientX-n.left-n.width/2)/n.width,r=-(t.clientY-n.top-n.height/2)/n.height,s===o.MODE_ZOOM?h(p,{x:i,y:r}):(i=p.x-i,r=p.y-r,v(i,r)),m=!0}return t.preventDefault()}},d=function(t){var n,i,d;if(p){if(m){if(s===o.MODE_ZOOM){if(null==this.getBoundingClientRect)return;n=this.getBoundingClientRect(),i=(t.clientX-n.left-n.width/2)/n.width,d=-(t.clientY-n.top-n.height/2)/n.height,f(p,{x:i,y:d})}}else!e.video.isPaused()&&!e.video.isEnd()||y||e.play(1);return r(),p=null,s=o.MODE_NONE,a=!1,u.trigger("change",s),w=null,m=!1,y=!1,t.preventDefault()}},e.video.element.addEventListener("mouseup",d),e.video.element.addEventListener("mousemove",l),e.video.element.addEventListener("mousedown",c),e.video.element.addEventListener("mouseenter",function(e){return g=!0}),e.video.element.addEventListener("mouseleave",function(e){return g=!1,d(e)}),u.destroy=function(){return e.video.element.removeEventListener("mouseup",d),e.video.element.removeEventListener("mousemove",l),e.video.element.removeEventListener("mousedown",c)},u.getMode=function(){return s},u.isCrop=function(){return a},u.setCrop=function(t){return t&&e.message.show("Select an area to crop",1500),a=t},u},o.MODE_NONE=0,o.MODE_PAN=1,o.MODE_ZOOM=2,e.exports=o},119:function(e,t,n){var i,o;o=n(0),i=function(e){var t,n;return n={},o.mixin(n),t=function(t){var i,o;switch(o=e.getWindow(),i=!0,t.key){case"+":case"=":e.settings.image.navigation.enabled&&e.setWindow(o.x,o.y,1.1*o.zoom);break;case"-":e.settings.image.navigation.enabled&&e.setWindow(o.x,o.y,o.zoom/1.1);break;case"ArrowLeft":t.altKey?e.settings.image.navigation.enabled&&e.setWindow(o.x-.05/o.zoom,o.y,o.zoom):e.previousFrame();break;case"ArrowRight":t.altKey?e.settings.image.navigation.enabled&&e.setWindow(o.x+.05/o.zoom,o.y,o.zoom):e.nextFrame();break;case"ArrowUp":t.altKey&&e.settings.image.navigation.enabled&&e.setWindow(o.x,o.y+.05/o.zoom*o.sourceRatio,o.zoom);break;case"ArrowDown":t.altKey&&e.settings.image.navigation.enabled&&e.setWindow(o.x,o.y-.05/o.zoom*o.sourceRatio,o.zoom);break;case" ":e.isPaused()?e.play():e.pause();break;case"Alt":n.trigger("alt"),i=!1;break;default:i=!1}if(i)return n.trigger("action")},e.interface.element.addEventListener("keydown",t),n.destroy=function(){return e.interface.element.removeEventListener("keydown",t)},n},e.exports=i},120:function(e,t,n){var i,o,r,a,s;i=n(0),s=n(1),r=s.create,a=n(121),o=function(e){var t,n,o,s,d,u,l,c,v,m,g,y,f,h,p,w,x,E,b,M,O,k,C,N;return b={},i.mixin(b),c=!1,s=r("ui",e.videoHolder),E=function(e){return s.style.display="block"},u=function(e){return s.style.display="none"},e.videoHolder.addEventListener("mouseenter",E),e.videoHolder.addEventListener("mouseleave",u),t="hdrelay-video-ui-bt",p="hdrelay-video-ui-bt-selected",f=200,x=e.settings.image.overlays.inImageTimeNav,g=a(s,"hdrelay-video-ui-next "+t,"playbt",f,function(){if(!e.video.isEnd())return e.video.isPaused()?e.nextFrame():void 0}),g.hide(),d=a(s,"hdrelay-video-ui-fast "+t,"fastic",f,function(){var t;if(!e.video.isEnd())return e.video.isPlaying()?(t=e.getSpeed(),t>0?(e.message.show("Speeding playback"),e.play(1.5*t)):(e.message.show("Reversing playback"),e.play(1))):void 0}),d.hide(),y=a(s,"hdrelay-video-ui-previous hdrelay-previous-ic "+t,"previousic",f,function(){if(e.video.isPaused()||e.video.isEnd())return e.previousFrame()}),y.hide(),h=a(s,"hdrelay-video-ui-rewind "+t,"rewindic",f,function(){var t;if(e.video.isPlaying())return t=e.getSpeed(),t<0?(e.message.show("Speeding playback"),e.play(1.5*t)):(e.message.show("Reversing playback"),e.play(-1))}),h.hide(),M=function(t){if(x)return e.video.isPaused()||e.video.isEnd()?(e.video.isEnd()?g.hide():g.show(),y.show(),d.hide(),h.hide()):(g.hide(),y.hide(),d.show(),h.show())},e.video.bind("frame-update",M),e.video.bind("end",M),e.video.bind("paused",M),l=r("ui-holder",s),O=r("ui-zoom-in",l,"zoominic",t),k=function(t){var n;return n=e.getWindow(),e.setWindow(n.x,n.y,1.1*n.zoom)},O.addEventListener("click",k),C=r("ui-zoom-out",l,"zoomoutic",t),N=function(t){var n;return n=e.getWindow(),e.setWindow(n.x,n.y,n.zoom/1.1)},C.addEventListener("click",N),v=r("ui-navigate",l,"navigateic",t),m=function(t){return e.message.show("Drag image to navigate",2e3)},v.addEventListener("click",m),n=r("ui-crop",l,"cropic",t),o=function(e){return w(-1===n.className.indexOf(p))},n.addEventListener("click",o),w=function(e,t){if(null==t&&(t=!0),e?(n.className+=" "+p,c=!0):(n.className=n.className.replace(p,"").trim(),c=!1),t)return b.trigger("change",c)},l.style.display=e.settings.image.navigation.enabled?"block":"none",b.destroy=function(){for(e.videoHolder.removeEventListener("mouseenter",E),e.videoHolder.removeEventListener("mouseleave",u),y.destroy(),g.destroy(),h.destroy(),d.destroy();s.firstChild;)s.removeChild(s.firstChild);return s.parentNode.removeChild(s)},b.isCrop=function(){return c},b.setCrop=function(e,t){return null==t&&(t=!0),w(e,t)},b},e.exports=o},121:function(e,t){e.exports=function(e,t,n,i,o){var r,a,s,d,u,l;return r=document.createElement("div"),r.className=t,null!=n&&(u=document.createElementNS("http://www.w3.org/2000/svg","svg"),l=document.createElementNS("http://www.w3.org/2000/svg","use"),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+n),u.appendChild(l),r.appendChild(u)),e&&e.appendChild(r),a=null,s=function(e){return o(),a=setInterval(function(){return o()},i)},d=function(e){if(a)return clearInterval(a)},r.addEventListener("mousedown",s),r.addEventListener("mouseup",d),r.destroy=function(){return a&&clearInterval(a),r.addEventListener("mousedown",s),r.addEventListener("mouseup",d)},r.hide=function(){return r.style.visibility="hidden"},r.show=function(){if(r.style.visibility="visible",a)return clearInterval(a)},r}}});