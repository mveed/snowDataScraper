define(function(require){"use strict";var $=require("jquery"),helpers=require("helpers"),self={},dom;init();return self;function init(){cacheDom();initializeSignupModule()}function cacheDom(){dom={};dom.newsletterArea=$(".footer-email-signup");dom.newsletterAreaSubmit=dom.newsletterArea.find(".submit")}function initializeSignupModule(){dom.newsletterArea.each(function(){var $this=$(this);var signupButton=$this.find(".signup-button, .squaw-email-signup-button");signupButton.click(function(event){event.preventDefault();event.stopPropagation();var button=$(this);var emailInputVal=$this.find(".email-signup-input").val();var hrefVal=button.attr("href");if(emailInputVal!==""&&helpers.validEmail(emailInputVal)){button.attr("href",hrefVal+"?emailSignup="+encodeURIComponent(emailInputVal))}window.open(button.attr("href"),"_blank");button.attr("href",hrefVal)})})}});