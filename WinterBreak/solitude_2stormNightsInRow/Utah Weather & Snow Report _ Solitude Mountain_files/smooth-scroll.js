define("smoothScroll",function(require){"use strict";var $=require("jquery"),defaultSettings={consistentScrollSpeedOn:false,scrollSpeed:450};var self={cacheDom:function(){self.dom={};self.dom.anchor=$("a");self.dom.window=$(window);self.dom.header=$("header")},init:function(){self.cacheDom();self.attachHandlers();if(window.location.hash){setTimeout(function(){self.animateToHash(window.location.hash)},1500)}},attachHandlers:function(){self.dom.anchor.on("click",self.preventDefaultAnchorBehavior)},preventDefaultAnchorBehavior:function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var target=this.hash;self.animateToHash(target)}},animateToHash:function(target){var chosenTargetElement,targetElement;if(target.indexOf("=")>-1){return false}if(target.length===0){return false}chosenTargetElement=$(target);targetElement=chosenTargetElement.length?chosenTargetElement:$('[name="'+target.slice(1)+'"]');if(targetElement.length){var offsetFromTop=chosenTargetElement.offset().top,speedCoefficient=defaultSettings.scrollSpeed/1e3,setScrollSpeed;if(self.dom.header.length===1){var headerHeight=self.dom.header.height();offsetFromTop-=headerHeight}var consistentScrollSpeed=speedCoefficient*offsetFromTop;if(defaultSettings.consistentScrollSpeedOn){setScrollSpeed=consistentScrollSpeed}else{setScrollSpeed=defaultSettings.scrollSpeed}$("html, body").animate({scrollTop:offsetFromTop},setScrollSpeed);var url=location.href.replace(location.hash,"")+target,simpleUrl=location.href.replace(location.hash,"");var IE9=$("html").hasClass("modernizr-msie9");if(IE9){History.pushState(null,null,simpleUrl)}else{history.pushState(null,null,url)}return false}}};return self});